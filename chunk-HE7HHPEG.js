import{c as a}from"./chunk-FHFROVIL.js";import{B as n,E as I,m as v,z as g}from"./chunk-DJK5JOL4.js";import{Yb as h,Zb as l,da as c,ea as m,ia as i,ob as s,uc as d,wb as p,xb as f}from"./chunk-OYZ5XOMV.js";var j=(()=>{class t{route;router;authService;constructor(r,e,o){this.route=r,this.router=e,this.authService=o}ngOnInit(){this.route.queryParams.subscribe(r=>{let e=r.accessToken,o=r.refreshToken;e&&o?(this.authService.setAccessTokenCookie(e),this.authService.setRefreshTokenCookie(o),this.router.navigate([""])):(console.error("Authentication failed"),this.router.navigate([""]))})}static \u0275fac=function(e){return new(e||t)(s(g),s(n),s(a))};static \u0275cmp=p({type:t,selectors:[["app-oauth"]],standalone:!1,decls:2,vars:0,template:function(e,o){e&1&&(h(0,"p"),d(1,"Authenticating..."),l())},encapsulation:2})}return t})();var A=(()=>{class t{authService;router;constructor(r,e){this.authService=r,this.router=e}canActivate(r,e){return this.authService.isLoggedIn?!0:(e.url?.length&&sessionStorage.setItem("pastedUrl",e.url.split("?")[0]),Object.keys(r.queryParams).length&&sessionStorage.setItem("pastedUrlQueryParams",JSON.stringify(r.queryParams)),this.router.createUrlTree(["login"]))}static \u0275fac=function(e){return new(e||t)(i(a),i(n))};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var k=(()=>{class t{authService;router;constructor(r,e){this.authService=r,this.router=e}canActivate(r,e){return this.authService.isLoggedIn?this.router.createUrlTree(["/"]):!0}static \u0275fac=function(e){return new(e||t)(i(a),i(n))};static \u0275prov=c({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var C=[{path:"patreon",loadComponent:()=>import("./chunk-73PSLLVX.js").then(t=>t.PatreonComponent),canActivate:[A]},{path:"google",component:j,canActivate:[k]},{path:"**",redirectTo:"/"}],F=(()=>{class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=f({type:t});static \u0275inj=m({imports:[v,I.forChild(C)]})}return t})();export{k as a,A as b,F as c};
