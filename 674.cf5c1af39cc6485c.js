"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[674],{4674:(ye,Y,l)=>{l.r(Y),l.d(Y,{LobbyModule:()=>_e});var b=l(9808),e=l(5e3),h=l(3075),_=(()=>{return(i=_||(_={})).Host="host",i.Player="player",i.Spectator="spectator",_;var i})(),A=l(8720),C=l(1083),B=l(7282),L=l(1135),z=l(263);let S=(()=>{class i{constructor(t,s){this.authService=t,this.router=s,this.usersBehaviorSubject=new L.X(null),this.meBehaviorSubject=new L.X(null),this.lobbyBehaviorSubject=new L.X(null),this.currentLobbyMusicIdBehaviorSubject=new L.X(null),this.currentLobbyMusicAnswerBehaviorSubject=new L.X(null),this.lobby=this.lobbyBehaviorSubject.asObservable(),this.users=this.usersBehaviorSubject.asObservable(),this.me=this.meBehaviorSubject.asObservable(),this.currentLobbyMusicId=this.currentLobbyMusicIdBehaviorSubject.asObservable(),this.currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable()}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyMusicIdBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(t){this.lobbyBehaviorSubject.next(t)}getUsers(){return this.usersBehaviorSubject.getValue()}setUsers(t){const s=t.find(n=>n.user.username===this.authService.decodeJwt().username);void 0===s?this.router.navigate(["/"]):(this.usersBehaviorSubject.next(t),this.meBehaviorSubject.next(s))}getCurrentLobbyMusicId(){return this.currentLobbyMusicIdBehaviorSubject.getValue()}setCurrentLobbyMusicId(t){this.currentLobbyMusicIdBehaviorSubject.next(t)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(t){this.currentLobbyMusicAnswerBehaviorSubject.next(t)}handleLobbyUserAnswer(t){const s=this.getUsers(),n=s.findIndex(r=>r.user.username===t.user.username);-1!==n&&(s[n]=t),this.setUsers(s)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(z.e),e.LFG(C.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function it(i,o){if(1&i&&(e.TgZ(0,"button",4),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.lobby?"Save":"Create")}}let j=(()=>{class i{constructor(t,s,n,r,a,c){this.fb=t,this.lobbyHttpService=s,this.router=n,this.route=r,this.socket=a,this.lobbyStore=c,this.userCanEdit=!0,this.subscriptions=[]}ngOnInit(){var t,s;this.lobby=this.lobbyStore.getLobby(),this.lobbyForm=this.fb.group({name:[null===(t=this.lobby)||void 0===t?void 0:t.name,h.kI.required.bind(this)],password:[null===(s=this.lobby)||void 0===s?void 0:s.password]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(n=>{var r,a;this.lobby=n,this.lobbyForm.patchValue({name:this.lobby.name,...(null===(r=this.lobby)||void 0===r?void 0:r.password)&&{password:null===(a=this.lobby)||void 0===a?void 0:a.password}})}),this.lobbyStore.me.subscribe(n=>{null!==n&&(this.userCanEdit=n.role===_.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})])}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}submit(){null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value}).subscribe(t=>{this.router.navigate([`/lobby/${t.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value}).subscribe(t=>{console.log(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.qu),e.Y36(A.Y),e.Y36(C.F0),e.Y36(C.gz),e.Y36(B.i),e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-config"]],decls:4,vars:2,consts:[[3,"formGroup","ngSubmit"],["type","text","formControlName","name","placeholder","Room name","required","required"],["type","text","formControlName","password","placeholder","Password (keep empty if public)"],["type","submit",4,"ngIf"],["type","submit"]],template:function(t,s){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return!s.userCanEdit||s.submit()}),e._UZ(1,"input",1)(2,"input",2),e.YNc(3,it,2,1,"button",3),e.qZA()),2&t&&(e.Q6J("formGroup",s.lobbyForm),e.xp6(3),e.Q6J("ngIf",s.userCanEdit))},directives:[h._Y,h.JL,h.sg,h.Fj,h.JJ,h.u,h.Q7,b.O5],encapsulation:2}),i})(),st=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-create"]],decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"app-lobby-config")},directives:[j],encapsulation:2}),i})();var nt=l(7288),k=l(5594),ot=l(9150),rt=l(6217),at=l(8966),E=l(1314),x=l(7429),y=l(508),N=l(7423),w=l(7579),H=l(5698),Z=l(2722),u=l(1777),F=l(925),v=l(3191),lt=l(9841),ct=l(7272),dt=l(8306),ut=l(5684),ht=l(8372),Q=l(4004),mt=l(8675);const V=new Set;let M,bt=(()=>{class i{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ft}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function pt(i){if(!V.has(i))try{M||(M=document.createElement("style"),M.setAttribute("type","text/css"),document.head.appendChild(M)),M.sheet&&(M.sheet.insertRule(`@media ${i} {body{ }}`,0),V.add(i))}catch(o){console.error(o)}}(t),this._matchMedia(t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(F.t4))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ft(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let J=(()=>{class i{constructor(t,s){this._mediaMatcher=t,this._zone=s,this._queries=new Map,this._destroySubject=new w.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return G((0,v.Eq)(t)).some(n=>this._registerQuery(n).mql.matches)}observe(t){const n=G((0,v.Eq)(t)).map(a=>this._registerQuery(a).observable);let r=(0,lt.a)(n);return r=(0,ct.z)(r.pipe((0,H.q)(1)),r.pipe((0,ut.T)(1),(0,ht.b)(0))),r.pipe((0,Q.U)(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:m,query:f})=>{c.matches=c.matches||m,c.breakpoints[f]=m}),c}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const s=this._mediaMatcher.matchMedia(t),r={observable:new dt.y(a=>{const c=m=>this._zone.run(()=>a.next(m));return s.addListener(c),()=>{s.removeListener(c)}}).pipe((0,mt.O)(s),(0,Q.U)(({matches:a})=>({query:t,matches:a})),(0,Z.R)(this._destroySubject)),mql:s};return this._queries.set(t,r),r}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(bt),e.LFG(e.R0b))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function G(i){return i.map(o=>o.split(",")).reduce((o,t)=>o.concat(t)).map(o=>o.trim())}var R=l(5664);function gt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"button",3),e.NdJ("click",function(){return e.CHM(t),e.oxw().action()}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.data.action)}}function _t(i,o){}const $=new e.OlP("MatSnackBarData");class D{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const yt=Math.pow(2,31)-1;class P{constructor(o,t){this._overlayRef=t,this._afterDismissed=new w.x,this._afterOpened=new w.x,this._onAction=new w.x,this._dismissedByAction=!1,this.containerInstance=o,this.onAction().subscribe(()=>this.dismiss()),o._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(o){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(o,yt))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let St=(()=>{class i{constructor(t,s){this.snackBarRef=t,this.data=s}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P),e.Y36($))},i.\u0275cmp=e.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"span",0),e._uU(1),e.qZA(),e.YNc(2,gt,3,1,"div",1)),2&t&&(e.xp6(1),e.Oqu(s.data.message),e.xp6(1),e.Q6J("ngIf",s.hasAction))},directives:[N.lW,b.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),i})();const kt={snackBarState:(0,u.X$)("state",[(0,u.SB)("void, hidden",(0,u.oB)({transform:"scale(0.8)",opacity:0})),(0,u.SB)("visible",(0,u.oB)({transform:"scale(1)",opacity:1})),(0,u.eR)("* => visible",(0,u.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,u.eR)("* => void, * => hidden",(0,u.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,u.oB)({opacity:0})))])};let xt=(()=>{class i extends x.en{constructor(t,s,n,r,a){super(),this._ngZone=t,this._elementRef=s,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new w.x,this._onExit=new w.x,this._onEnter=new w.x,this._animationState="void",this.attachDomPortal=c=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(c)),this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:s,toState:n}=t;if(("void"===n&&"void"!==s||"hidden"===n)&&this._completeExit(),"visible"===n){const r=this._onEnter;this._ngZone.run(()=>{r.next(),r.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,H.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,s=this.snackBarConfig.panelClass;s&&(Array.isArray(s)?s.forEach(n=>t.classList.add(n)):t.classList.add(s)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),s=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&s){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),s.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(F.t4),e.Y36(D))},i.\u0275cmp=e.Xpm({type:i,selectors:[["snack-bar-container"]],viewQuery:function(t,s){if(1&t&&e.Gf(x.Pl,7),2&t){let n;e.iGM(n=e.CRH())&&(s._portalOutlet=n.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,s){1&t&&e.WFA("@state.done",function(r){return s.onAnimationEnd(r)}),2&t&&e.d8E("@state",s._animationState)},features:[e.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_t,0,0,"ng-template",1),e.qZA(),e._UZ(2,"div")),2&t&&(e.xp6(2),e.uIk("aria-live",s._live)("role",s._role))},directives:[x.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[kt.snackBarState]}}),i})(),X=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[E.U8,x.eL,b.ez,N.ot,y.BQ],y.BQ]}),i})();const W=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function wt(){return new D}});let Ct=(()=>{class i{constructor(t,s,n,r,a,c){this._overlay=t,this._live=s,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=a,this._defaultConfig=c,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,s){return this._attach(t,s)}openFromTemplate(t,s){return this._attach(t,s)}open(t,s="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:s},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,s){const r=e.zs3.create({parent:s&&s.viewContainerRef&&s.viewContainerRef.injector||this._injector,providers:[{provide:D,useValue:s}]}),a=new x.C5(this.snackBarContainerComponent,s.viewContainerRef,r),c=t.attach(a);return c.instance.snackBarConfig=s,c.instance}_attach(t,s){const n=Object.assign(Object.assign(Object.assign({},new D),this._defaultConfig),s),r=this._createOverlay(n),a=this._attachSnackBarContainer(r,n),c=new P(a,r);if(t instanceof e.Rgc){const m=new x.UE(t,null,{$implicit:n.data,snackBarRef:c});c.instance=a.attachTemplatePortal(m)}else{const m=this._createInjector(n,c),f=new x.C5(t,void 0,m),d=a.attachComponentPortal(f);c.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,Z.R)(r.detachments())).subscribe(m=>{r.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),n.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(c,n),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(t,s){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),s.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),s.duration&&s.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(s.duration))}_createOverlay(t){const s=new E.X_;s.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,a="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,c=!a&&"center"!==t.horizontalPosition;return a?n.left("0"):c?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),s.positionStrategy=n,this._overlay.create(s)}_createInjector(t,s){return e.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:P,useValue:s},{provide:$,useValue:t.data}]})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(E.aV),e.LFG(R.Kd),e.LFG(e.zs3),e.LFG(J),e.LFG(i,12),e.LFG(W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac}),i})(),Mt=(()=>{class i extends Ct{constructor(t,s,n,r,a,c){super(t,s,n,r,a,c),this.simpleSnackBarComponent=St,this.snackBarContainerComponent=xt,this.handsetCssClass="mat-snack-bar-handset"}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(E.aV),e.LFG(R.Kd),e.LFG(e.zs3),e.LFG(J),e.LFG(i,12),e.LFG(W))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:X}),i})();function At(i,o){1&i&&(e.ynx(0),e._uU(1,"(loading)"),e.BQk())}function Bt(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",1),e.NdJ("click",function(){return e.CHM(t),e.oxw().play()}),e._uU(2," Play "),e.YNc(3,At,2,0,"ng-container",0),e.qZA(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.lobby.status===t.lobbyStatus.Loading)}}let Lt=(()=>{class i{constructor(t,s,n){this.lobbyHttpService=t,this.lobbyStore=s,this.socket=n,this.lobbyUsersRoles=_,this.lobbyStatus=k.D,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&(this.role=t.role)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.Y),e.Y36(S),e.Y36(B.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-button-play"]],decls:1,vars:1,consts:[[4,"ngIf"],["type","button",3,"click"]],template:function(t,s){1&t&&e.YNc(0,Bt,4,1,"ng-container",0),2&t&&e.Q6J("ngIf",s.role===s.lobbyUsersRoles.Host)},directives:[b.O5],encapsulation:2}),i})(),Tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-waiting"]],decls:2,vars:0,template:function(t,s){1&t&&e._UZ(0,"app-lobby-config")(1,"app-button-play")},directives:[j,Lt],encapsulation:2}),i})();var It=l(2340),Et=l(520);let Dt=(()=>{class i{constructor(t){this.http=t,this.apiEndpoint=It.N.apiEndpoint}get(t){return this.http.get(`${this.apiEndpoint}/lobby-music/${t}`,{responseType:"blob"})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(Et.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var g=l(1159),Ot=l(6360),Ft=l(727),Rt=l(226);const Pt=["sliderWrapper"],p=(0,F.i$)({passive:!1}),Nt={provide:h.JU,useExisting:(0,e.Gpc)(()=>K),multi:!0};class Ht{}const Zt=(0,y.sb)((0,y.pj)((0,y.Id)(class{constructor(i){this._elementRef=i}}),"accent"));let K=(()=>{class i extends Zt{constructor(t,s,n,r,a,c,m,f){super(t),this._focusMonitor=s,this._changeDetectorRef=n,this._dir=r,this._ngZone=c,this._animationMode=f,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new e.vpe,this.input=new e.vpe,this.valueChange=new e.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Ft.w0.EMPTY,this._pointerDown=d=>{this.disabled||this._isSliding||!T(d)&&0!==d.button||this._ngZone.run(()=>{this._touchId=T(d)?function Qt(i,o){for(let t=0;t<i.touches.length;t++){const s=i.touches[t].target;if(o===s||o.contains(s))return i.touches[t].identifier}}(d,this._elementRef.nativeElement):void 0;const I=tt(d,this._touchId);if(I){const O=this.value;this._isSliding="pointer",this._lastPointerEvent=d,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(d),this._focusHostElement(),this._updateValueFromPosition(I),this._valueOnSlideStart=O,d.cancelable&&d.preventDefault(),O!=this.value&&this._emitInputEvent()}})},this._pointerMove=d=>{if("pointer"===this._isSliding){const I=tt(d,this._touchId);if(I){d.preventDefault();const O=this.value;this._lastPointerEvent=d,this._updateValueFromPosition(I),O!=this.value&&this._emitInputEvent()}}},this._pointerUp=d=>{"pointer"===this._isSliding&&(!T(d)||"number"!=typeof this._touchId||U(d.changedTouches,this._touchId))&&(d.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=m,this.tabIndex=parseInt(a)||0,c.runOutsideAngular(()=>{const d=t.nativeElement;d.addEventListener("mousedown",this._pointerDown,p),d.addEventListener("touchstart",this._pointerDown,p)})}get invert(){return this._invert}set invert(t){this._invert=(0,v.Ig)(t)}get max(){return this._max}set max(t){this._max=(0,v.su)(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=(0,v.su)(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=(0,v.su)(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=(0,v.Ig)(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?(0,v.su)(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let s=(0,v.su)(t,0);this._roundToDecimal&&s!==this.min&&s!==this.max&&(s=parseFloat(s.toFixed(this._roundToDecimal))),this._value=s,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=(0,v.Ig)(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const s=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${s})`}}_getTrackFillStyles(){const t=this.percent,n=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${n})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,c={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const m=this._shouldInvertAxis();let f;f=this.vertical?m?"Bottom":"Top":m?"Right":"Left",c[`padding${f}`]=`${this._getThumbGap()}px`}return c}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,p),t.removeEventListener("touchstart",this._pointerDown,p),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||(0,g.Vb)(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const s=this.value;switch(t.keyCode){case g.Ku:this._increment(10);break;case g.VM:this._increment(-10);break;case g.uR:this.value=this.max;break;case g.Sd:this.value=this.min;break;case g.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case g.LH:this._increment(1);break;case g.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case g.JH:this._increment(-1);break;default:return}s!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const s=this._document,n=T(t),a=n?"touchend":"mouseup";s.addEventListener(n?"touchmove":"mousemove",this._pointerMove,p),s.addEventListener(a,this._pointerUp,p),n&&s.addEventListener("touchcancel",this._pointerUp,p);const c=this._getWindow();void 0!==c&&c&&c.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,p),t.removeEventListener("mouseup",this._pointerUp,p),t.removeEventListener("touchmove",this._pointerMove,p),t.removeEventListener("touchend",this._pointerUp,p),t.removeEventListener("touchcancel",this._pointerUp,p);const s=this._getWindow();void 0!==s&&s&&s.removeEventListener("blur",this._windowBlur)}_increment(t){const s=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(s+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let a=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(a=1-a),0===a)this.value=this.min;else if(1===a)this.value=this.max;else{const c=this._calculateValue(a),m=Math.round((c-this.min)/this.step)*this.step+this.min;this.value=this._clamp(m,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let s=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(s*this.step/(this.max-this.min)))*this.step/s}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=q(t)?t:0}_createChangeEvent(t=this.value){let s=new Ht;return s.source=this,s.value=t,s}_calculatePercentage(t){const s=((t||0)-this.min)/(this.max-this.min);return q(s)?s:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,s=0,n=1){return Math.max(s,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(R.tE),e.Y36(e.sBO),e.Y36(Rt.Is,8),e.$8M("tabindex"),e.Y36(e.R0b),e.Y36(b.K0),e.Y36(Ot.Qb,8))},i.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slider"]],viewQuery:function(t,s){if(1&t&&e.Gf(Pt,5),2&t){let n;e.iGM(n=e.CRH())&&(s._sliderWrapper=n.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,s){1&t&&e.NdJ("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()})("keydown",function(r){return s._onKeydown(r)})("keyup",function(){return s._onKeyup()})("mouseenter",function(){return s._onMouseenter()})("selectstart",function(r){return r.preventDefault()}),2&t&&(e.Ikx("tabIndex",s.tabIndex),e.uIk("aria-disabled",s.disabled)("aria-valuemax",s.max)("aria-valuemin",s.min)("aria-valuenow",s.value)("aria-valuetext",null==s.valueText?s.displayValue:s.valueText)("aria-orientation",s.vertical?"vertical":"horizontal"),e.ekj("mat-slider-disabled",s.disabled)("mat-slider-has-ticks",s.tickInterval)("mat-slider-horizontal",!s.vertical)("mat-slider-axis-inverted",s._shouldInvertAxis())("mat-slider-invert-mouse-coords",s._shouldInvertMouseCoords())("mat-slider-sliding",s._isSliding)("mat-slider-thumb-label-showing",s.thumbLabel)("mat-slider-vertical",s.vertical)("mat-slider-min-value",s._isMinValue())("mat-slider-hide-last-tick",s.disabled||s._isMinValue()&&s._getThumbGap()&&s._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===s._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[e._Bn([Nt]),e.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e._UZ(3,"div",3)(4,"div",4),e.qZA(),e.TgZ(5,"div",5),e._UZ(6,"div",6),e.qZA(),e.TgZ(7,"div",7),e._UZ(8,"div",8)(9,"div",9),e.TgZ(10,"div",10)(11,"span",11),e._uU(12),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("ngStyle",s._getTrackBackgroundStyles()),e.xp6(1),e.Q6J("ngStyle",s._getTrackFillStyles()),e.xp6(1),e.Q6J("ngStyle",s._getTicksContainerStyles()),e.xp6(1),e.Q6J("ngStyle",s._getTicksStyles()),e.xp6(1),e.Q6J("ngStyle",s._getThumbContainerStyles()),e.xp6(5),e.Oqu(s.displayValue))},directives:[b.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),i})();function q(i){return!isNaN(i)&&isFinite(i)}function T(i){return"t"===i.type[0]}function tt(i,o){let t;return t=T(i)?"number"==typeof o?U(i.touches,o)||U(i.changedTouches,o):i.touches[0]||i.changedTouches[0]:i,t?{x:t.clientX,y:t.clientY}:void 0}function U(i,o){for(let t=0;t<i.length;t++)if(i[t].identifier===o)return i[t]}let Vt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[b.ez,y.BQ],y.BQ]}),i})(),Jt=(()=>{class i{constructor(t,s,n){this.lobbyStore=t,this.lobbyMusicHttpService=s,this.socket=n,this.subscriptions=[]}ngOnInit(){this.audio=new Audio,this.audio.volume=.5,this.subscriptions=[this.lobbyStore.currentLobbyMusicId.subscribe(t=>{null!==t?this.lobbyMusicHttpService.get(t).subscribe(s=>{const n=new FileReader;n.onload=r=>{const a=r.target.result;"string"==typeof a&&(this.audio.src=a,this.audio.play())},n.readAsDataURL(s)}):this.audio.pause()}),this.lobbyStore.lobby.subscribe(t=>{t&&t.status!==k.D.PlayingMusic&&this.audio.pause()})]}ngOnDestroy(){this.audio.pause(),this.audio=void 0,this.subscriptions.forEach(t=>t.unsubscribe()),console.log("yoo")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S),e.Y36(Dt),e.Y36(B.i))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-audio-player"]],decls:1,vars:4,consts:[["aria-label","unit(s)",3,"ngModel","min","max","step","ngModelChange"]],template:function(t,s){1&t&&(e.TgZ(0,"mat-slider",0),e.NdJ("ngModelChange",function(r){return s.audio.volume=r}),e.qZA()),2&t&&e.Q6J("ngModel",s.audio.volume)("min",0)("max",1)("step",.01)},directives:[K,h.JJ,h.On],encapsulation:2}),i})(),Gt=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-countdown"]],decls:2,vars:3,template:function(t,s){1&t&&(e._uU(0),e.ALo(1,"async")),2&t&&e.hij("",e.lcZ(1,1,s.counter),"\n")},pipes:[b.Ov],encapsulation:2}),i})();var $t=l(9094),Xt=l(9300),Wt=l(3900),Kt=l(9743),qt=l(7322),te=l(7531),et=l(3092);const ee=["answerAutocomplete"];function ie(i,o){if(1&i&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}let se=(()=>{class i{constructor(t,s,n,r,a){this.lobbyHttpService=t,this.lobbyStore=s,this.gameHttpService=n,this.socket=r,this.cdf=a,this.myControl=new h.NI,this.me=null,this.lobbyStatuses=k.D,this.subscriptions=[]}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,$t.x)(),(0,Xt.h)(t=>!!t),(0,Wt.w)(t=>(console.log(t),this.gameHttpService.getNames(t))))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{var s;null!==t&&((null===(s=this.me)||void 0===s?void 0:s.role)===_.Spectator?this.myControl.disable():t.status===k.D.AnswerReveal?(this.myControl.disable(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerAutocomplete.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&(this.me=t,this.me.role==_.Spectator?this.myControl.disable():null!==t.correctAnswer&&(this.myControl.setValue(null),!0===t.correctAnswer&&this.myControl.disable()))})]}submit(){this.socket.emit("answer",this.myControl.value)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.Y),e.Y36(S),e.Y36(Kt.q),e.Y36(B.i),e.Y36(e.sBO))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-answer"]],viewQuery:function(t,s){if(1&t&&e.Gf(ee,5),2&t){let n;e.iGM(n=e.CRH())&&(s.answerAutocomplete=n.first)}},decls:9,vars:9,consts:[[3,"ngSubmit"],[2,"width","100%"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["answerAutocomplete",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,s){if(1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.lobby.status===s.lobbyStatuses.AnswerReveal||s.submit()}),e.TgZ(1,"mat-form-field",1),e._UZ(2,"input",2,3),e.TgZ(4,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(){return s.lobby.status===s.lobbyStatuses.AnswerReveal||s.submit()}),e.YNc(6,ie,2,2,"mat-option",6),e.ALo(7,"slice"),e.ALo(8,"async"),e.qZA()()()),2&t){const n=e.MAs(5);e.xp6(2),e.Q6J("formControl",s.myControl)("matAutocomplete",n),e.xp6(4),e.Q6J("ngForOf",e.Dn7(7,3,e.lcZ(8,7,s.gameNames),0,30))}},directives:[h._Y,h.JL,h.F,qt.KE,te.Nt,h.Fj,et.ZL,h.JJ,h.oH,et.XC,b.sg,y.ey],pipes:[b.OU,b.Ov],encapsulation:2}),i})(),ne=(()=>{class i{constructor(t){this.lobbyStore=t,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(t=>{this.answer=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobby=t,t.status!==k.D.AnswerReveal&&(this.answer=null)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-center-container"]],decls:4,vars:3,template:function(t,s){1&t&&(e._uU(0),e._UZ(1,"app-lobby-audio-player")(2,"app-lobby-countdown")(3,"app-lobby-answer")),2&t&&e.lnq("music ",null==s.lobby?null:s.lobby.currentLobbyMusicPosition,"/",null==s.lobby?null:s.lobby.lobbyMusics," ",s.answer," ")},directives:[Jt,Gt,se],encapsulation:2}),i})(),oe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-playing"]],decls:1,vars:0,template:function(t,s){1&t&&e._UZ(0,"app-lobby-center-container")},directives:[ne],encapsulation:2}),i})();function re(i,o){1&i&&(e.ynx(0),e._uU(1,"gg"),e.BQk())}function ae(i,o){1&i&&e._UZ(0,"i",5)}function le(i,o){1&i&&e._UZ(0,"i",6)}function ce(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("-> ",t.answer,"")}}const de=function(i){return{"text-muted":i}};function ue(i,o){if(1&i&&(e.TgZ(0,"div")(1,"span",2),e.YNc(2,ae,1,0,"i",3),e.YNc(3,le,1,0,"i",4),e._uU(4),e.YNc(5,ce,2,1,"span",0),e.qZA()()),2&i){const t=o.$implicit,s=e.oxw();e.xp6(1),e.Q6J("@userStatus",s.getStatusClass(t))("ngClass",e.VKq(6,de,t.disconnected||t.role===s.lobbyUserRoles.Spectator)),e.xp6(1),e.Q6J("ngIf",t.role===s.lobbyUserRoles.Host),e.xp6(1),e.Q6J("ngIf",t.role===s.lobbyUserRoles.Spectator&&!t.disconnected),e.xp6(1),e.hij(" ",t.user.username," "),e.xp6(1),e.Q6J("ngIf",t.answer)}}let he=(()=>{class i{constructor(t){this.lobbyStore=t,this.showRank=!1,this.lobbyStatuses=k.D,this.lobbyUserRoles=_,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(t=>{this.users=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobbyStatus=t.status})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getStatusClass(t){return!1===t.correctAnswer?"wrongAnswer":!0===t.correctAnswer?"correctAnswer":"default"}animationDone(t){console.log(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:3,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","fa fa-star mr-1",4,"ngIf"],["class","fa fa-ghost mr-1",4,"ngIf"],[1,"fa","fa-star","mr-1"],[1,"fa","fa-ghost","mr-1"]],template:function(t,s){1&t&&(e.ynx(0),e.YNc(1,re,2,0,"ng-container",0),e.YNc(2,ue,6,8,"div",1),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.showRank),e.xp6(1),e.Q6J("ngForOf",s.users))},directives:[b.O5,b.sg,b.mk],encapsulation:2,data:{animation:[(0,u.X$)("userStatus",[(0,u.SB)("wrongAnswer",(0,u.oB)({color:"white"})),(0,u.SB)("correctAnswer",(0,u.oB)({color:"green"})),(0,u.SB)("default",(0,u.oB)({color:"white"})),(0,u.eR)("* => wrongAnswer",[(0,u.jt)("1s",(0,u.F4)([(0,u.oB)({color:"red",offset:0}),(0,u.oB)({color:"white",offset:.75})]))])])]}}),i})();function me(i,o){1&i&&(e.ynx(0),e._UZ(1,"app-lobby-waiting"),e.BQk())}function be(i,o){1&i&&(e.ynx(0),e._uU(1," Loading musics "),e.BQk())}function pe(i,o){1&i&&(e.ynx(0),e._UZ(1,"app-lobby-playing"),e.BQk())}function fe(i,o){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",2),e.NdJ("click",function(){return e.CHM(t),e.oxw().leave()}),e._uU(2,"Leave"),e.qZA(),e.YNc(3,me,2,0,"ng-container",3),e.YNc(4,be,2,0,"ng-container",3),e.YNc(5,pe,2,0,"ng-container",3),e._UZ(6,"app-lobby-users",4),e.BQk()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.lobby.status===t.lobbyStatuses.Waiting),e.xp6(1),e.Q6J("ngIf",t.lobby.status===t.lobbyStatuses.Loading),e.xp6(1),e.Q6J("ngIf",t.lobbyService.isPLaying(t.lobby)),e.xp6(1),e.Q6J("showRank",t.lobby.status===t.lobbyStatuses.FinalStanding)}}function ve(i,o){1&i&&e._uU(0,"loading")}const ge=[{path:"create",component:st},{path:":code",component:(()=>{class i{constructor(t,s,n,r,a,c,m,f,d){this.lobbyHttpService=t,this.lobbyService=s,this.router=n,this.route=r,this.dialog=a,this.socket=c,this.authService=m,this.lobbyStore=f,this.snackBar=d,this.lobbyStatuses=k.D,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.lobbyStore.disconnect(),this.lobbyHttpService.leave().subscribe(()=>{})}ngOnInit(){this.subscriptions=[this.socket.fromEvent("UnauthorizedException").subscribe(()=>{this.socket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.socket.emitWithoutSaving("reconnect",this.lobbyCode),this.socket.emit(this.socket.lastTriedOutputEventName,...this.socket.lastTriedOutputArgs)})}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(ot.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("lobbyJoined").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyUsers").subscribe(t=>{console.log(t),this.lobbyStore.setUsers(t)}),this.socket.fromEvent("lobby").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyMusic").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusicId(t)}),this.socket.fromEvent("lobbyAnswer").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusicAnswer(t)}),this.socket.fromEvent("lobbyUserAnswer").subscribe(t=>{this.lobbyStore.handleLobbyUserAnswer(t)}),this.socket.fromEvent("lobbyClosed").subscribe(t=>{this.router.navigate(["/"])}),this.socket.fromEvent("lobbyReset").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyMusicId(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(t=>{this.snackBar.open(t,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.route.paramMap.subscribe(t=>{this.lobbyCode=t.get("code")})],this.lobbyService.join(this.lobbyCode)}leave(){this.lobbyHttpService.leave().subscribe(()=>{this.router.navigate(["/"])})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.Y),e.Y36(rt.V),e.Y36(C.F0),e.Y36(C.gz),e.Y36(at.uw),e.Y36(B.i),e.Y36(z.e),e.Y36(S),e.Y36(Mt))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-lobby"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["type","button",1,"btn","btn-primary-reverse",3,"click"],[4,"ngIf"],[3,"showRank"]],template:function(t,s){if(1&t&&(e.YNc(0,fe,7,4,"ng-container",0),e.YNc(1,ve,1,0,"ng-template",null,1,e.W1O)),2&t){const n=e.MAs(2);e.Q6J("ngIf",s.lobby)("ngIfElse",n)}},directives:[b.O5,Tt,oe,he],encapsulation:2}),i})()},{path:"**",redirectTo:"create"}];let _e=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[A.Y],imports:[[b.ez,C.Bz.forChild(ge),nt.m,Vt,X]]}),i})()}}]);