(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{lKKO:function(e,t,s){"use strict";s.r(t),s.d(t,"AccountModule",(function(){return B}));var n=s("ofXK"),r=s("nYR2"),i=s("fXoL"),a=s("7dP1"),c=s("z6cu"),o=s("AytR"),u=s("JIr8"),d=s("tk/3");let b=(()=>{class e{constructor(e){this.http=e,this.apiEndpoint=o.a.apiEndpoint}updateGameList(e){return this.http.post(`${this.apiEndpoint}/update-game-list`,{IGDBUsername:e}).pipe(Object(u.a)(e=>Object(c.a)(e.error)))}}return e.\u0275fac=function(t){return new(t||e)(i.Ub(d.b))},e.\u0275prov=i.Hb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=s("3Pt+");function l(e,t){1&e&&(i.Qb(0,"div",7),i.uc(1," Game list successfully updated ! "),i.Pb())}function h(e,t){if(1&e&&(i.Qb(0,"div",8),i.uc(1),i.Pb()),2&e){const e=i.cc();i.Bb(1),i.wc(" ",e.errorMessage," ")}}function f(e,t){1&e&&i.Mb(0,"span",9)}const m=function(e,t){return{"is-invalid":e,"is-valid":t}};let g=(()=>{class e{constructor(e,t){this.authService=e,this.accountHttpService=t,this.IGDBUsername="",this.success=!1,this.loading=!1}ngOnInit(){const e=this.authService.decodeJwt();this.IGDBUsername=e.IGDBUsername}updateGameList(){this.success=!1,this.errorMessage=void 0,this.loading=!0,this.accountHttpService.updateGameList(this.IGDBUsername).pipe(Object(r.a)(()=>this.loading=!1)).subscribe(()=>{this.success=!0},e=>{this.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Lb(a.a),i.Lb(b))},e.\u0275cmp=i.Fb({type:e,selectors:[["app-account"]],decls:17,vars:9,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","emailHelp",1,"form-text","text-muted"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&(i.Qb(0,"div"),i.Qb(1,"h1"),i.uc(2,"Update my game list"),i.Pb(),i.Qb(3,"p"),i.uc(4,"Enter your IGDB username and press the Update button !"),i.Pb(),i.Qb(5,"div",0),i.Qb(6,"input",1),i.Yb("ngModelChange",(function(e){return t.IGDBUsername=e})),i.Pb(),i.Qb(7,"small",2),i.uc(8," take the username shown in the IGDB url (e.g., https://www.igdb.com/users/"),i.Qb(9,"strong"),i.uc(10,"your_username"),i.Pb(),i.uc(11,") "),i.Pb(),i.sc(12,l,2,0,"div",3),i.sc(13,h,2,1,"div",4),i.Qb(14,"button",5),i.Yb("click",(function(){return t.loading||t.updateGameList()})),i.sc(15,f,1,0,"span",6),i.uc(16," Update "),i.Pb(),i.Pb(),i.Pb()),2&e&&(i.Bb(6),i.hc("ngModel",t.IGDBUsername)("ngClass",i.lc(6,m,t.errorMessage,t.success)),i.Bb(6),i.hc("ngIf",t.success),i.Bb(1),i.hc("ngIf",t.errorMessage),i.Bb(1),i.hc("disabled",t.loading),i.Bb(1),i.hc("ngIf",t.loading))},directives:[p.b,p.k,p.m,n.i,n.k],encapsulation:2}),e})();var v=s("tyNb"),I=s("PCNd");const w=[{path:"",component:g}];let B=(()=>{class e{}return e.\u0275mod=i.Jb({type:e}),e.\u0275inj=i.Ib({factory:function(t){return new(t||e)},providers:[b],imports:[[n.b,v.f.forChild(w),I.a]]}),e})()}}]);