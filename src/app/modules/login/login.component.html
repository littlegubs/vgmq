<div class="row align-items-center">
  <div class="col-md-6">
    <form class="form-login" [formGroup]="loginForm" (ngSubmit)="loading || recaptcha.execute()">
      <div class="col-md-12 alert alert-danger" role="alert" *ngIf="formErrorMessage">
        {{ formErrorMessage }}
      </div>
      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          class="form-control"
          formControlName="email"
          placeholder="email"
          required
          [ngClass]="{
            'is-invalid':
              loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)
          }"
        />
        <div *ngIf="loginForm.get('email')?.errors?.serverError as error" class="invalid-feedback">
          {{ error }}
        </div>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input
          type="password"
          class="form-control"
          formControlName="password"
          placeholder="Password"
          [ngClass]="{
            'is-invalid':
              loginForm.get('password')?.invalid &&
              (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)
          }"
        />
        <div *ngIf="loginForm.get('password')?.errors?.serverError as error" class="invalid-feedback">
          {{ error }}
        </div>
      </div>
      <re-captcha
        #recaptcha
        [siteKey]="environment.recaptchaKey"
        theme="dark"
        (resolved)="$event && loginUser($event)"
        size="invisible"
      ></re-captcha>
      <a routerLink="/reset-password">I forgot my password</a>
      <div class="col-md-12 text-center mt-3">
        <button type="submit" class="btn btn-primary col-md-6" [disabled]="loading">
          <span
            class="spinner-border spinner-border-sm"
            type="button"
            role="status"
            aria-hidden="true"
            *ngIf="loading"
          ></span>
          Log in
        </button>
      </div>
    </form>
  </div>
  <div class="col-md-6 text-center">
    <div class="form-group">
      <label>No <span class="orange">account</span> ?</label>
      <div class="col-md-12">
        <a routerLink="/register" class="btn btn-primary col-md-6">Register now</a>
      </div>
    </div>
  </div>
</div>
