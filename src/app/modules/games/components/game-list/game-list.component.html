<div class="row justify-content-between">
  <div class="col">
    <h1 *ngIf="gamesCount">{{ gamesCount }} games</h1>
    <div class="form-group">
      <label>my games</label>
      <mat-slide-toggle color="primary" [(ngModel)]="myGames" (click)="loading || toggleMyGames()" [disabled]="loading">
      </mat-slide-toggle>
    </div>
  </div>
</div>
<div class="form-group">
  <input
    type="text"
    class="form-control"
    id="exampleFormControlInput1"
    placeholder="game..."
    [(ngModel)]="query"
    (keyup)="search()"
  />
</div>
<ng-container *ngIf="loading; else cardColumns">
  <div class="d-flex justify-content-center">
    <div class="spinner-border orange" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
</ng-container>
<ng-template #cardColumns>
  <div class="mt-4 row">
    <div class="col-2" *ngFor="let game of games">
      <div style="position: relative">
        <a [routerLink]="['/admin/games/', game.slug]">
          <img
            *ngIf="game.cover?.imageId"
            src="https://images.igdb.com/igdb/image/upload/t_720p/{{ game.cover.imageId }}.jpg"
            class="card-img-top"
            [ngClass]="{ 'border border-success': game.selectedByUser }"
            [alt]="game.name"
          />
        </a>
        <button
          *ngIf="game.selectedByUser === false"
          style="position: absolute; bottom: 1rem; right: 1rem; z-index: 9000"
          mat-mini-fab
          aria-label="Example icon button with a heart icon"
          color="accent"
          (click)="addToList(game)"
        >
          <mat-icon>add</mat-icon></button
        ><button
          *ngIf="game.selectedByUser === true"
          style="position: absolute; bottom: 1rem; right: 1rem; z-index: 9000"
          mat-mini-fab
          aria-label="Example icon button with a heart icon"
          color="accent"
          (click)="removeFromList(game)"
        >
          <mat-icon>close</mat-icon>
        </button>
      </div>
      <a [routerLink]="['/admin/games/', game.slug]">
        <h3 class="card-title orange">{{ game.name }}</h3>
      </a>
    </div>
  </div>
</ng-template>
