<ng-container *ngIf="!edit; else editMusic">
  <th scope="row">{{ gameMusic.music.title }}</th>
  <td>{{ gameMusic.music.artist }}</td>
</ng-container>
<ng-template #editMusic>
  <ng-container [formGroup]="formGroup">
    <th scope="row">
      <input formControlName="title" [ngClass]="{ 'is-invalid': title.invalid && (title.dirty || title.touched) }" />
      <div *ngIf="title.errors" class="invalid-feedback">
        <ng-container *ngIf="title.errors.required"> title cannot be empty </ng-container>
        <ng-container *ngIf="title.errors.serverError">
          {{ title.errors.serverError }}
        </ng-container>
      </div>
    </th>
    <td><input formControlName="artist" /></td>
  </ng-container>
</ng-template>
<td>{{ duration | date: 'mm:ss' }}</td>
<td>{{ gameMusic.music.guessAccuracy || '-' }}</td>
<td>{{ gameMusic.music.playNumber }}</td>
<td>
  <ng-container *ngIf="loading; else musicRowButtons">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </ng-container>
  <ng-template #musicRowButtons>
    <ng-container *ngIf="!edit; else editMusicButtons">
      <button class="btn btn-sm btn-primary" (click)="createFormGroup()">edit</button>
      <button class="btn btn-sm btn-danger" (click)="delete()">delete</button>
    </ng-container>
    <ng-template #editMusicButtons>
      <button class="btn btn-sm btn-success" (click)="save()">save</button>
      <button class="btn btn-sm btn-danger" (click)="cancel()">cancel</button>
    </ng-template>
  </ng-template>
</td>
