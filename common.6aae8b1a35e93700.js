"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[592],{9743:(g,c,n)=>{n.d(c,{q:()=>E});var a=n(2340),o=n(5e3),t=n(520);let E=(()=>{class d{constructor(s){this.http=s,this.apiEndpoint=a.N.apiEndpoint}search(s,_,r,l){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:s,..._&&{filterByUser:"true"},...r&&{page:r},...l&&{limit:l}}})}get(s){return this.http.get(`${this.apiEndpoint}/games/${s}`)}addToList(s){return this.http.get(`${this.apiEndpoint}/games/${s}/add`)}removeFromList(s){return this.http.get(`${this.apiEndpoint}/games/${s}/remove`)}getNames(s){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:s}})}}return d.\u0275fac=function(s){return new(s||d)(o.LFG(t.eN))},d.\u0275prov=o.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8720:(g,c,n)=>{n.d(c,{Y:()=>i});var a=n(2843),o=n(2340),t=n(262),E=n(5e3),d=n(520);let i=(()=>{class s{constructor(r){this.http=r,this.apiEndpoint=o.N.apiEndpoint}list(r=""){return this.http.get(`${this.apiEndpoint}/lobbies`,{params:{query:r}})}create(r){return this.http.post(`${this.apiEndpoint}/lobbies/create`,r).pipe((0,t.K)(l=>(0,a._)(l.error)))}update(r,l){return this.http.put(`${this.apiEndpoint}/lobbies/${r}`,l).pipe((0,t.K)(e=>(0,a._)(e.error)))}join(r,l){const e=`${this.apiEndpoint}/lobbies/${r}/join`;let u=this.http.get(e);if(l){const p=new FormData;p.append("password",l),u=this.http.post(e,p)}return u}leave(){return this.http.get(`${this.apiEndpoint}/lobbies/leave`)}play(r){return this.http.get(`${this.apiEndpoint}/lobbies/${r}/play`)}answer(r,l){const e=new FormData;return e.append("answer",l),this.http.post(`${this.apiEndpoint}/lobbies/${r}/answer`,e).pipe((0,t.K)(u=>(0,a._)(u.error)))}}return s.\u0275fac=function(r){return new(r||s)(E.LFG(d.eN))},s.\u0275prov=E.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6217:(g,c,n)=>{n.d(c,{V:()=>d});var a=n(5594),o=n(5e3),t=n(520),E=n(7282);let d=(()=>{class i{constructor(_,r){this.http=_,this.socket=r}isPLaying(_){return[a.D.AnswerReveal.toString(),a.D.Playing.toString(),a.D.PlayingMusic.toString()].includes(_.status)}join(_,r=null){this.socket.emit("join",{code:_,password:r})}}return i.\u0275fac=function(_){return new(_||i)(o.LFG(t.eN),o.LFG(E.i))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},9150:(g,c,n)=>{n.d(c,{q:()=>l});var a=n(8966),o=n(3075),t=n(5e3),E=n(6217),d=n(7282),i=n(9808),s=n(7423);function _(e,u){if(1&e&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&e){const p=u.ngIf;t.xp6(1),t.Oqu(p)}}const r=function(e){return{"is-invalid":e}};let l=(()=>{class e{constructor(p,m,h,v){this.data=p,this.lobbyService=m,this.socket=h,this.dialogRef=v,this.password=new o.NI("",o.kI.required.bind(this))}ngOnInit(){this.socket.fromEvent("InvalidPasswordException").subscribe(()=>{this.password.setErrors({serverError:"invalid password"})}),this.socket.fromEvent("lobbyJoined").subscribe(p=>{console.log("???dd"),this.dialogRef.close(p)})}submit(){console.log("???"),this.lobbyService.join(this.data,this.password.value),this.socket.fromEvent("InvalidPasswordException").subscribe(()=>{this.errorMessage="Invalid password"})}}return e.\u0275fac=function(p){return new(p||e)(t.Y36(a.WI),t.Y36(E.V),t.Y36(d.i),t.Y36(a.so))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-lobby-password-dialog"]],decls:13,vars:5,consts:[[3,"ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["type","password",1,"form-control",3,"ngClass","formControl"],["class","invalid-feedback",4,"ngIf"],["mat-button","","mat-dialog-close",""],["type","submit"],[1,"invalid-feedback"]],template:function(p,m){1&p&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return m.password.invalid||m.submit()}),t.TgZ(1,"h1",1),t._uU(2,"Password required"),t.qZA(),t.TgZ(3,"div",2)(4,"label"),t._uU(5,"Please enter the lobby password"),t.qZA(),t._UZ(6,"input",3),t.YNc(7,_,2,1,"span",4),t.qZA(),t.TgZ(8,"mat-dialog-actions")(9,"button",5),t._uU(10,"Cancel"),t.qZA(),t.TgZ(11,"button",6),t._uU(12,"Enter"),t.qZA()()()),2&p&&(t.xp6(6),t.Q6J("ngClass",t.VKq(3,r,m.password.invalid))("formControl",m.password),t.xp6(1),t.Q6J("ngIf",null==m.password.errors?null:m.password.errors.serverError))},directives:[o._Y,o.JL,o.F,a.uh,a.xY,o.Fj,i.mk,o.JJ,o.oH,i.O5,a.H8,s.lW,a.ZT],encapsulation:2}),e})()},5594:(g,c,n)=>{n.d(c,{D:()=>a});var a=(()=>{return(o=a||(a={})).Waiting="waiting",o.Playing="playing",o.Loading="loading",o.PlayingMusic="playing_music",o.AnswerReveal="answer_reveal",o.FinalStanding="final_standing",a;var o})()}}]);