"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[61],{9743:(v,p,o)=>{o.d(p,{q:()=>d});var l=o(2340),c=o(5e3),t=o(520);let d=(()=>{class m{constructor(a){this.http=a,this.apiEndpoint=l.N.apiEndpoint}search(a,i,g){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:a.query,...a.myGames&&{filterByUser:"true"},...i&&{skip:i},...g&&{limit:g}}})}get(a){return this.http.get(`${this.apiEndpoint}/games/${a}`)}addToList(a){return this.http.get(`${this.apiEndpoint}/games/${a}/add`)}removeFromList(a){return this.http.get(`${this.apiEndpoint}/games/${a}/remove`)}getNames(a){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:a}})}}return m.\u0275fac=function(a){return new(a||m)(c.LFG(t.eN))},m.\u0275prov=c.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},1061:(v,p,o)=>{o.r(p),o.d(p,{GameModule:()=>M});var l=o(9808),c=o(1083),t=o(5e3);let d=(()=>{class e{constructor(){this.loading=!1}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game-show"]],decls:0,vars:0,template:function(n,r){},encapsulation:2}),e})();var m=o(3149),h=o(8372),a=o(8746),i=o(3075),g=o(9743),y=o(7446),f=o(9685),G=o(8636);function C(e,s){if(1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.hij("",n.gamesCount," games")}}function x(e,s){if(1&e&&(t.TgZ(0,"form",6)(1,"div",7)(2,"div",8)(3,"div",9),t._UZ(4,"input",10),t.qZA()(),t.TgZ(5,"div",1)(6,"div",9)(7,"mat-checkbox",11),t._uU(8,"Only Show My Games"),t.qZA()()()()()),2&e){const n=t.oxw();t.Q6J("formGroup",n.form)}}function L(e,s){1&e&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13)(3,"span",14),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function T(e,s){1&e&&t._UZ(0,"app-game-item",18),2&e&&t.Q6J("game",s.$implicit)}function I(e,s){1&e&&(t.TgZ(0,"div",12)(1,"div",19)(2,"span",14),t._uU(3,"Loading..."),t.qZA()()())}function E(e,s){if(1&e){const n=t.EpF();t.TgZ(0,"div",15),t.NdJ("scrolled",function(){return t.CHM(n),t.oxw().onScrollDown()}),t.YNc(1,T,1,1,"app-game-item",16),t.YNc(2,I,4,0,"div",17),t.qZA()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngForOf",n.games),t.xp6(1),t.Q6J("ngIf",n.scrollLoading)}}let _=(()=>{class e{constructor(n,r,u){this.gameHttpService=n,this.router=r,this.activatedRoute=u,this.games=[],this.loading=!1,this.myGames=!1,this.scrollLoading=!1}ngOnInit(){this.activatedRoute.queryParamMap.subscribe(n=>{var r;this.form=new i.cw({query:new i.NI(null!==(r=n.get("query"))&&void 0!==r?r:"",i.kI.required.bind(this)),myGames:new i.NI("true"===n.get("myGames"))}),this.search()}).unsubscribe(),this.form.valueChanges.pipe((0,h.b)(250)).subscribe(()=>{this.search(),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.form.value,replaceUrl:!0})})}search(){this.loading=!0,this.gameHttpService.search(this.form.value,0,24).pipe((0,a.x)(()=>this.loading=!1)).subscribe(n=>{this.gamesCount=n.count,this.games=n.data})}onScrollDown(){this.scrollLoading||(this.scrollLoading=!0,this.gameHttpService.search(this.form.value,this.games.length,24).pipe((0,a.x)(()=>this.scrollLoading=!1)).subscribe(n=>{this.games=[...this.games,...n.data]}))}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.q),t.Y36(c.F0),t.Y36(c.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game-list"]],decls:7,vars:4,consts:[[1,"row","justify-content-between"],[1,"col"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf","ngIfElse"],["cardColumns",""],[3,"formGroup"],[1,"row","justify-content-between","align-items-center"],[1,"col-md-3"],[1,"form-group"],["type","text","id","exampleFormControlInput1","placeholder","game...","formControlName","query",1,"form-control"],["color","primary","formControlName","myGames"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","orange"],[1,"sr-only"],["infinite-scroll","",1,"mt-4","row",3,"scrolled"],["class","col-6 col-md-2",3,"game",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col-6","col-md-2",3,"game"],["role","status",1,"spinner-border","text-primary"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,C,2,1,"h1",2),t.qZA()(),t.YNc(3,x,9,1,"form",3),t.YNc(4,L,5,0,"ng-container",4),t.YNc(5,E,3,2,"ng-template",null,5,t.W1O)),2&n){const u=t.MAs(6);t.xp6(2),t.Q6J("ngIf",r.gamesCount),t.xp6(1),t.Q6J("ngIf",r.form),t.xp6(1),t.Q6J("ngIf",r.loading)("ngIfElse",u)}},directives:[l.O5,i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,y.oG,f.Ry,l.sg,G.F],encapsulation:2}),e})();var Z=o(5245);const F=[{path:":slug",component:d},{path:"",component:_}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.ez,c.Bz.forChild(F),m.m,Z.Ps,f.Rq]]}),e})()}}]);