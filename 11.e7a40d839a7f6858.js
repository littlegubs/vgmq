(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[11],{9743:(Z,fe,M)=>{"use strict";M.d(fe,{q:()=>ce});var x=M(2843),i=M(2340),E=M(262),L=M(4650),X=M(529);let ce=(()=>{class le{constructor(ie){this.http=ie,this.apiEndpoint=i.N.apiEndpoint}search(ie,be,se){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:ie.query,sortBy:ie.sortBy,...ie.myGames&&{filterByUser:"true"},...ie.showDisabled&&{showDisabled:"true"},...ie.onlyShowWithoutMusics&&{onlyShowWithoutMusics:"true"},...be&&{skip:be},...se&&{limit:se}}})}importByUrl(ie){return this.http.get(`${this.apiEndpoint}/games/import`,{params:{url:ie}}).pipe((0,E.K)(be=>(0,x._)(()=>be.error)))}get(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}`)}addToList(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}/add`)}removeFromList(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}/remove`)}getNames(ie){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:ie}})}}return le.\u0275fac=function(ie){return new(ie||le)(L.LFG(X.eN))},le.\u0275prov=L.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})()},8011:(Z,fe,M)=>{"use strict";M.r(fe),M.d(fe,{LobbyModule:()=>Qh});var x=M(6895),i=M(4650),E=M(4006),L=M(5594),X=(()=>{return(t=X||(X={})).Host="host",t.Player="player",t.Spectator="spectator",X;var t})(),ce=(()=>{return(t=ce||(ce={})).Buffering="buffering",t.ReadyToPlayMusic="ready_to_play_music",ce;var t})(),le=M(8746),Pe=M(8720),ie=M(9116),be=M(9998),se=M(1135),Ze=M(263),ht=M(7009);let he=(()=>{class t{constructor(e,n,o){this.authService=e,this.router=n,this.snack=o,this.usersBehaviorSubject=new se.X(null),this.meBehaviorSubject=new se.X(null),this.lobbyBehaviorSubject=new se.X(null),this.currentLobbyAudioBufferBehaviorSubject=new se.X(null),this.currentLobbyMusicAnswerBehaviorSubject=new se.X(null),this.currentLobbyMusicBehaviorSubject=new se.X(null),this.canPlayMusicBehaviorSubject=new se.X(!1),this.resumeMusicBehaviorSubject=new se.X(void 0),this.messagesBehaviorSubject=new se.X([]),this.hintModeGamesBehaviorSubject=new se.X([]),this.lobbyLoadProgressBehaviorSubject=new se.X(0),this.lobbyErrorBehaviorSubject=new se.X(void 0),this.lobbyServerBufferBehaviorSubject=new se.X(!1),this.lobby=this.lobbyBehaviorSubject.asObservable(),this.users=this.usersBehaviorSubject.asObservable(),this.me=this.meBehaviorSubject.asObservable(),this.currentLobbyAudioBuffer=this.currentLobbyAudioBufferBehaviorSubject.asObservable(),this.currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable(),this.currentLobbyMusic=this.currentLobbyMusicBehaviorSubject.asObservable(),this.canPlayMusic=this.canPlayMusicBehaviorSubject.asObservable(),this.resumeMusic=this.resumeMusicBehaviorSubject.asObservable(),this.messages=this.messagesBehaviorSubject.asObservable(),this.hintModeGames=this.hintModeGamesBehaviorSubject.asObservable(),this.lobbyLoadProgress=this.lobbyLoadProgressBehaviorSubject.asObservable(),this.error=this.lobbyErrorBehaviorSubject.asObservable(),this.lobbyServerBuffer=this.lobbyServerBufferBehaviorSubject.asObservable()}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyAudioBufferBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(e){this.lobbyBehaviorSubject.next(e)}getUsers(){return this.usersBehaviorSubject.getValue()}setUsers(e){const n=e.find(o=>o.user.username===this.authService.decodeJwt().username);void 0===n?(this.snack.open("You have been kicked out from the lobby",void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3}),this.router.navigate(["/"])):(n.me=!0,this.usersBehaviorSubject.next(e),this.meBehaviorSubject.next(n))}getCurrentLobbyAudioBuffer(){return this.currentLobbyAudioBufferBehaviorSubject.getValue()}setCurrentLobbyAudioBuffer(e){this.currentLobbyAudioBufferBehaviorSubject.next(e)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(e){this.currentLobbyMusicAnswerBehaviorSubject.next(e)}getCurrentLobbyMusic(){return this.currentLobbyMusicBehaviorSubject.getValue()}setCurrentLobbyMusic(e){this.currentLobbyMusicBehaviorSubject.next(e),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}updateLobbyUser(e){const n=this.getUsers(),o=n.findIndex(s=>s.user.username===e.user.username);-1!==o&&(n[o]=e),this.setUsers(n)}getCanPlayMusic(){return this.canPlayMusicBehaviorSubject.getValue()}setCanPlayMusic(e){this.canPlayMusicBehaviorSubject.next(e)}setResumeMusic(){this.resumeMusicBehaviorSubject.next()}getMessages(){return this.messagesBehaviorSubject.getValue()}addMessage(e){this.messagesBehaviorSubject.next([...this.getMessages(),e])}setHintModeGames(e){this.hintModeGamesBehaviorSubject.next(e)}setLobbyLoadProgress(e){this.lobbyLoadProgressBehaviorSubject.next(e)}setLobbyError(e){this.lobbyErrorBehaviorSubject.next(e)}resetLobbyError(){this.lobbyErrorBehaviorSubject.next(void 0)}setLobbyServerBuffer(e){this.lobbyServerBufferBehaviorSubject.next(e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Ze.e),i.LFG(ie.F0),i.LFG(ht.ux))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dt=M(6709),mt=M(9549),yt=M(4144),Ft=M(445),ne=M(1281),jt=M(3353),Ae=M(3238),ot=M(5698),Ye=M(7579);const Ct=["knob"],_n=["valueIndicatorContainer"];function bn(t,r){if(1&t&&(i.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),i._uU(4),i.qZA()()()),2&t){const e=i.oxw();i.xp6(4),i.Oqu(e.valueIndicatorText)}}const gn=["trackActive"];function vn(t,r){if(1&t&&i._UZ(0,"div"),2&t){const e=r.$implicit,n=r.index,o=i.oxw(3);i.Tol(0===e?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),i.Udp("transform",o._calcTickMarkTransform(n))}}function yn(t,r){if(1&t&&(i.ynx(0),i.YNc(1,vn,1,4,"div",11),i.BQk()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",e._tickMarks)}}function Cn(t,r){if(1&t&&(i.TgZ(0,"div",8,9),i.YNc(2,yn,2,1,"ng-container",10),i.qZA()),2&t){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",e._cachedWidth)}}function ae(t,r){if(1&t&&i._UZ(0,"mat-slider-visual-thumb",7),2&t){const e=i.oxw();i.Q6J("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}const B=["*"],j=new i.OlP("_MatSlider"),P=new i.OlP("_MatSliderThumb"),J=new i.OlP("_MatSliderRangeThumb"),G=new i.OlP("_MatSliderVisualThumb");let z=(()=>{class t{constructor(e,n,o,s){this._cdr=e,this._ngZone=n,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._onPointerMove=c=>{if(this._sliderInput._isFocused)return;const l=this._hostElement.getBoundingClientRect(),a=this._isSliderThumbHovered(c,l);this._isHovered=a,a?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=()=>{this._isActive=!0,this._showActiveRipple()},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef)},this._hostElement=o.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const e=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{e.addEventListener("pointermove",this._onPointerMove),e.addEventListener("pointerdown",this._onDragStart),e.addEventListener("pointerup",this._onDragEnd),e.addEventListener("pointerleave",this._onMouseLeave),e.addEventListener("focus",this._onFocus),e.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const e=this._sliderInputEl;e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur)}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return 0===e?.state||1===e?.state}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(1===this.thumbPosition?2:1)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||n))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(1===this.thumbPosition?2:1)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}_isSliderThumbHovered(e,n){const o=n.width/2,a=e.clientY-(n.y+o);return Math.pow(e.clientX-(n.x+o),2)+Math.pow(a,2)<Math.pow(o,2)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(j))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(e,n){if(1&e&&(i.Gf(Ae.wG,5),i.Gf(Ct,5),i.Gf(_n,5)),2&e){let o;i.iGM(o=i.CRH())&&(n._ripple=o.first),i.iGM(o=i.CRH())&&(n._knob=o.first),i.iGM(o=i.CRH())&&(n._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},features:[i._Bn([{provide:G,useExisting:t}])],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container",4,"ngIf"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(e,n){1&e&&(i.YNc(0,bn,5,1,"div",0),i._UZ(1,"div",1,2)(3,"div",3)),2&e&&(i.Q6J("ngIf",n.discrete),i.xp6(3),i.Q6J("matRippleDisabled",!0))},dependencies:[x.O5,Ae.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0}),t})();const wt=(0,Ae.pj)((0,Ae.Kr)(class{constructor(t){this._elementRef=t}}),"primary");let st=(()=>{class t extends wt{get disabled(){return this._disabled}set disabled(e){this._disabled=(0,ne.Ig)(e);const n=this._getInput(2),o=this._getInput(1);n&&(n.disabled=this._disabled),o&&(o.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=(0,ne.Ig)(e),this._updateValueIndicatorUIs()}get showTickMarks(){return this._showTickMarks}set showTickMarks(e){this._showTickMarks=(0,ne.Ig)(e)}get min(){return this._min}set min(e){const n=(0,ne.su)(e,this._min);this._min!==n&&this._updateMin(n)}_updateMin(e){const n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){const n=this._getInput(2),o=this._getInput(1),s=n.value,c=o.value;o.min=e.new,n.min=Math.max(e.new,o.value),o.max=Math.min(n.max,n.value),o._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,o):this._onTranslateXChangeBySideEffect(o,n),s!==n.value&&this._onValueChange(n),c!==o.value&&this._onValueChange(o)}_updateMinNonRange(e){const n=this._getInput(2);if(n){const o=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),o!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){const n=(0,ne.su)(e,this._max);this._max!==n&&this._updateMax(n)}_updateMax(e){const n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){const n=this._getInput(2),o=this._getInput(1),s=n.value,c=o.value;n.max=e.new,o.max=Math.min(e.new,n.value),n.min=o.value,n._updateWidthInactive(),o._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(o,n):this._onTranslateXChangeBySideEffect(n,o),s!==n.value&&this._onValueChange(n),c!==o.value&&this._onValueChange(o)}_updateMaxNonRange(e){const n=this._getInput(2);if(n){const o=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),o!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){const n=(0,ne.su)(e,this._step);this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const e=this._getInput(2),n=this._getInput(1),o=e.value,s=n.value,c=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<c?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),o!==e.value&&this._onValueChange(e),s!==n.value&&this._onValueChange(n)}_updateStepNonRange(){const e=this._getInput(2);if(e){const n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}constructor(e,n,o,s,c,l,a){super(s),this._ngZone=e,this._cdr=n,this._platform=o,this._dir=c,this._globalRippleOptions=l,this._disabled=!1,this._discrete=!1,this._showTickMarks=!1,this._min=0,this._max=100,this._step=0,this.displayWith=u=>`${u}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const e=this._getInput(2),n=this._getInput(1);this._isRange=!!e&&!!n,this._cdr.detectChanges();const o=this._getThumb(2);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._inputOffset=this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const e=this._getInput(2),n=this._getInput(1);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(2)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(1)._isActive||this._getThumb(2)._isActive}_getValue(e=2){const n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!(!this._getInput(1)?._skipUIUpdate&&!this._getInput(2)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){const n=this._trackActive.nativeElement.style,o=e.left!==n.left&&e.right!==n.right;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,o?(this._elementRef.nativeElement.classList.add("mat-mdc-slider-disable-track-animation"),this._ngZone.onStable.pipe((0,ot.q)(1)).subscribe(()=>{this._elementRef.nativeElement.classList.remove("mat-mdc-slider-disable-track-animation"),n.transform=e.transform})):n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const e=this._getInput(2),n=this._getInput(1);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{const e=this._getInput(2);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const e=this._getInput(1),n=this._getInput(2);return!(!e||!n)&&n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){const n=e.getSibling(),o=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){this._skipUpdate()||(this._getThumb(2===e.thumbPosition?2:1)._hostElement.style.transform=`translateX(${e.translateX}px)`)}_updateValueIndicatorUI(e){if(this._skipUpdate())return;const n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext=n:e._hostElement.setAttribute("aria-valuetext",n),this.discrete){1===e.thumbPosition?this.startValueIndicatorText=n:this.endValueIndicatorText=n;const o=this._getThumb(e.thumbPosition);n.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const e=this._getInput(2),n=this._getInput(1);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const e=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*o-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){const n=e.getSibling();if(!n||!this._cachedWidth)return;const o=Math.abs(n.translateX-e.translateX)/this._cachedWidth;this._setTrackActiveStyles(e._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-n.translateX+"px",transformOrigin:"right",transform:`scaleX(${o})`}:{left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(e){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){const n=this._getValue();let o=Math.max(Math.round((n-this.min)/e),0),s=Math.max(Math.round((this.max-n)/e),0);this._isRtl?o++:s++,this._tickMarks=Array(o).fill(0).concat(Array(s).fill(1))}_updateTickMarkUIRange(e){const n=this._getValue(),o=this._getValue(1),s=Math.max(Math.floor((o-this.min)/e),0),c=Math.max(Math.floor((n-o)/e)+1,0),l=Math.max(Math.floor((this.max-n)/e),0);this._tickMarks=Array(s).fill(1).concat(Array(c).fill(0),Array(l).fill(1))}_getInput(e){return 2===e&&this._input?this._input:this._inputs?.length?1===e?this._inputs.first:this._inputs.last:void 0}_getThumb(e){return 2===e?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(jt.t4),i.Y36(i.SBq),i.Y36(Ft.Is,8),i.Y36(Ae.Y2,8),i.Y36(i.QbO,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-slider"]],contentQueries:function(e,n,o){if(1&e&&(i.Suo(o,P,5),i.Suo(o,J,4)),2&e){let s;i.iGM(s=i.CRH())&&(n._input=s.first),i.iGM(s=i.CRH())&&(n._inputs=s)}},viewQuery:function(e,n){if(1&e&&(i.Gf(gn,5),i.Gf(G,5)),2&e){let o;i.iGM(o=i.CRH())&&(n._trackActive=o.first),i.iGM(o=i.CRH())&&(n._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:10,hostBindings:function(e,n){2&e&&i.ekj("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations)},inputs:{color:"color",disableRipple:"disableRipple",disabled:"disabled",discrete:"discrete",showTickMarks:"showTickMarks",min:"min",max:"max",step:"step",displayWith:"displayWith"},exportAs:["matSlider"],features:[i._Bn([{provide:j,useExisting:t}]),i.qOj],ngContentSelectors:B,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText",4,"ngIf"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[4,"ngIf"],[3,"class","transform",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(i.F$t(),i.Hsn(0),i.TgZ(1,"div",0),i._UZ(2,"div",1),i.TgZ(3,"div",2),i._UZ(4,"div",3,4),i.qZA(),i.YNc(6,Cn,3,1,"div",5),i.qZA(),i.YNc(7,ae,1,3,"mat-slider-visual-thumb",6),i._UZ(8,"mat-slider-visual-thumb",7)),2&e&&(i.xp6(6),i.Q6J("ngIf",n.showTickMarks),i.xp6(1),i.Q6J("ngIf",n._isRange),i.xp6(1),i.Q6J("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[x.sg,x.O5,z],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:0;margin:0;height:100%;opacity:0;pointer-events:none;position:absolute;top:0;width:100%}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000));border-color:var(--mdc-slider-disabled-handle-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity, 0.04)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity, 0.12)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mdc-theme-on-surface, #000))}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color, var(--mdc-theme-primary, #6200ee));opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mdc-theme-on-surface, #000));opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mdc-theme-on-primary, #fff));opacity:var(--mdc-slider-with-tick-marks-active-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mdc-theme-primary, #6200ee));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mdc-theme-on-surface, #000));opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity, 0.6)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color, #666666);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color, #666666)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color, var(--mdc-theme-on-primary, #fff))}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height, 6px);top:calc((var(--mdc-slider-inactive-track-height, 4px) - var(--mdc-slider-active-track-height, 6px)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height, 6px)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height, 4px)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size, 2px);width:var(--mdc-slider-with-tick-marks-container-size, 2px)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking, 0.0071428571em);font-size:var(--mdc-slider-label-label-text-size, 0.875rem);font-family:var(--mdc-slider-label-label-text-font, Roboto, sans-serif);font-weight:var(--mdc-slider-label-label-text-weight, 500);line-height:var(--mdc-slider-label-label-text-line-height, 1.375rem)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape, 9999px)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape, 50%);width:var(--mdc-slider-handle-width, 20px);height:var(--mdc-slider-handle-height, 20px);border-style:solid;border-width:calc(var(--mdc-slider-handle-height, 20px) / 2) calc(var(--mdc-slider-handle-width, 20px) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape, 50%)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation, 0px 2px 1px -1px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 1px 3px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-hover-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee));border-color:var(--mdc-slider-focus-handle-color, var(--mdc-theme-primary, #6200ee))}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color, #fff);border-width:var(--mdc-slider-with-overlap-handle-outline-width, 1px)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mat-mdc-slider-with-animation.mat-mdc-slider-disable-track-animation .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator{opacity:var(--mat-mdc-slider-value-indicator-opacity, 1)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-mdc-slider-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-mdc-slider-hover-ripple-color, transparent)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-mdc-slider-focus-ripple-color, transparent)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),t})();const $e={provide:E.JU,useExisting:(0,i.Gpc)(()=>et),multi:!0};let et=(()=>{class t{get value(){return(0,ne.su)(this._hostElement.value)}set value(e){const n=(0,ne.su)(e).toString();this._hasSetInitialValue?this._isActive||(this._hostElement.value=n,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges()):this._initialValue=n}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=0,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return(0,ne.su)(this._hostElement.min)}set min(e){this._hostElement.min=(0,ne.su)(e).toString(),this._cdr.detectChanges()}get max(){return(0,ne.su)(this._hostElement.max)}set max(e){this._hostElement.max=(0,ne.su)(e).toString(),this._cdr.detectChanges()}get step(){return(0,ne.su)(this._hostElement.step)}set step(e){this._hostElement.step=(0,ne.su)(e).toString(),this._cdr.detectChanges()}get disabled(){return(0,ne.Ig)(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=(0,ne.Ig)(e),this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,n,o,s){this._ngZone=e,this._elementRef=n,this._cdr=o,this._slider=s,this.valueChange=new i.vpe,this.dragStart=new i.vpe,this.dragEnd=new i.vpe,this.thumbPosition=2,this._knobRadius=8,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Ye.x,this._skipUIUpdate=!1,this._onChangeFn=()=>{},this._onTouchedFn=()=>{},this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this.valueChange.emit(this.value),this._onChangeFn(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){this.disabled||0!==e.button||(this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value})))}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){const n=e.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,c=Math.floor((this._slider.max-this._slider.min)/s),u=Math.round((this._slider._isRtl?1-n/o:n/o)*c)/c*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(u/s)*s;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive()))}_clamp(e){return Math.max(Math.min(e,this._slider._cachedWidth),0)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*this._slider._cachedWidth:this.percentage*this._slider._cachedWidth}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding}px)`}_updateWidthInactive(){this._hostElement.style.padding="0px",this._hostElement.style.width="calc(100% + 48px)",this._hostElement.style.left="-24px"}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){this.value=e}registerOnChange(e){this._onChangeFn=e}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(j))},t.\u0275dir=i.lG2({type:t,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(e,n){1&e&&i.NdJ("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&e&&i.uIk("aria-valuetext",n._valuetext)},inputs:{value:"value"},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],features:[i._Bn([$e,{provide:P,useExisting:t}])]}),t})(),wn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Ae.BQ,x.ez,Ae.si]}),t})();var Yr=M(2687),Gr=M(5017);const Hr=["input"],Qr=["*"];let ti=0;class ni{constructor(r,e){this.source=r,this.value=e}}const qr={provide:E.JU,useExisting:(0,i.Gpc)(()=>ri),multi:!0},ii=new i.OlP("MatRadioGroup"),jr=new i.OlP("mat-radio-default-options",{providedIn:"root",factory:function Xr(){return{color:"accent"}}});let Jr=(()=>{class t{get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,ne.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,ne.Ig)(e),this._markRadiosForCheck()}constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+ti++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new i.vpe}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new ni(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),t})();class zr{constructor(r){this._elementRef=r}}const $r=(0,Ae.Kr)((0,Ae.sb)(zr));let Kr=(()=>{class t extends $r{get checked(){return this._checked}set checked(e){const n=(0,ne.Ig)(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,ne.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,ne.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,n,o,s,c,l,a,u){super(n),this._changeDetector=o,this._focusMonitor=s,this._radioDispatcher=c,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++ti,this.id=this._uniqueId,this.change=new i.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===l,u&&(this.tabIndex=(0,ne.su)(u,0))}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,n)=>{e!==this.id&&n===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new ni(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){const e=this.radioGroup;let n;if(n=e&&e.selected&&!this.disabled?e.selected===this?this.tabIndex:-1:this.tabIndex,n!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",n+""),this._previousTabIndex=n)}}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,viewQuery:function(e,n){if(1&e&&i.Gf(Hr,5),2&e){let o;i.iGM(o=i.CRH())&&(n._inputElement=o.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[i.qOj]}),t})(),ri=(()=>{class t extends Jr{}return t.\u0275fac=function(){let r;return function(n){return(r||(r=i.n5z(t)))(n||t)}}(),t.\u0275dir=i.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,n,o){if(1&e&&i.Suo(o,oi,5),2&e){let s;i.iGM(s=i.CRH())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],exportAs:["matRadioGroup"],features:[i._Bn([qr,{provide:ii,useExisting:t}]),i.qOj]}),t})(),oi=(()=>{class t extends Kr{constructor(e,n,o,s,c,l,a,u){super(e,n,o,s,c,l,a,u)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ii,8),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(Yr.tE),i.Y36(Gr.A8),i.Y36(i.QbO,8),i.Y36(jr,8),i.$8M("tabindex"))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(e,n){1&e&&i.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&e&&(i.uIk("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),i.ekj("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("mat-mdc-radio-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[i.qOj],ngContentSelectors:Qr,decls:13,vars:17,consts:[[1,"mdc-form-field"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[3,"for"]],template:function(e,n){if(1&e&&(i.F$t(),i.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),i.NdJ("click",function(s){return n._onInputInteraction(s)}),i.qZA(),i.TgZ(4,"input",4,5),i.NdJ("change",function(s){return n._onInputInteraction(s)}),i.qZA(),i.TgZ(6,"div",6),i._UZ(7,"div",7)(8,"div",8),i.qZA(),i.TgZ(9,"div",9),i._UZ(10,"div",10),i.qZA()(),i.TgZ(11,"label",11),i.Hsn(12),i.qZA()()),2&e){const o=i.MAs(1);i.ekj("mdc-form-field--align-end","before"==n.labelPosition),i.xp6(2),i.ekj("mdc-radio--disabled",n.disabled),i.xp6(2),i.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),i.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),i.xp6(5),i.Q6J("matRippleTrigger",o)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),i.xp6(2),i.Q6J("for",n.inputId)}},dependencies:[Ae.wG],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, #6200ee)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, #000)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, #000)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size, 40px) - 20px) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);right:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);left:calc((var(--mdc-radio-state-layer-size, 40px) - var(--mdc-radio-state-layer-size, 40px)) / 2);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-mdc-radio-ripple-color, transparent)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-mdc-radio-checked-ripple-color, transparent)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0}),t})(),eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[Ae.BQ,x.ez,Ae.si,Ae.BQ]}),t})();var Xt=M(8184),to=M(4080),re=M(7340),pt=M(4968),ft=M(2722),no=M(590);function io(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("@fade.done",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.onAnimationEnd(o))}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("@fade",e.animationState)("@.disabled",!e.animation)("innerHTML",e.title,i.oJD)}}function ro(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"div",3),i.NdJ("@fade.done",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.onAnimationEnd(o))}),i._uU(1),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("@fade",e.animationState)("@.disabled",!e.animation),i.xp6(1),i.hij(" ",e.title,"\n")}}let oo=(()=>{class t{constructor(e){this._cdRef=e,this._hidden=new Ye.x,this.animationState="hidden"}markForCheck(){this._cdRef.markForCheck()}onAnimationEnd(e){"hidden"===e.toState&&this._hidden.next()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mdb-tooltip"]],inputs:{title:"title",html:"html",animation:"animation"},decls:2,vars:2,consts:[["class","tooltip-inner",3,"innerHTML",4,"ngIf"],["class","tooltip-inner",4,"ngIf"],[1,"tooltip-inner",3,"innerHTML"],[1,"tooltip-inner"]],template:function(e,n){1&e&&(i.YNc(0,io,1,3,"div",0),i.YNc(1,ro,2,3,"div",1)),2&e&&(i.Q6J("ngIf",n.html),i.xp6(1),i.Q6J("ngIf",!n.html))},dependencies:[x.O5],encapsulation:2,data:{animation:[(0,re.X$)("fade",[(0,re.SB)("visible",(0,re.oB)({opacity:1})),(0,re.SB)("hidden",(0,re.oB)({opacity:0})),(0,re.eR)("visible => hidden",(0,re.jt)("150ms linear")),(0,re.eR)(":enter",(0,re.jt)("150ms linear"))])]},changeDetection:0}),t})(),Tn=(()=>{class t{constructor(e,n,o){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=o,this.mdbTooltip="",this.tooltipDisabled=!1,this.placement="top",this.html=!1,this.animation=!0,this.trigger="hover focus",this.delayShow=0,this.delayHide=0,this.offset=4,this.tooltipShow=new i.vpe,this.tooltipShown=new i.vpe,this.tooltipHide=new i.vpe,this.tooltipHidden=new i.vpe,this._open=!1,this._showTimeout=0,this._hideTimeout=0,this._destroy$=new Ye.x}ngOnInit(){this.tooltipDisabled||""===this.mdbTooltip||this._bindTriggerEvents()}ngOnDestroy(){(this._open||this._showTimeout)&&this.hide(),this._destroy$.next(),this._destroy$.complete()}_bindTriggerEvents(){this.trigger.split(" ").forEach(n=>{if("click"===n)(0,pt.R)(this._elementRef.nativeElement,n).pipe((0,ft.R)(this._destroy$)).subscribe(()=>this.toggle());else if("manual"!==n){const s="hover"===n?"mouseleave":"focusout";(0,pt.R)(this._elementRef.nativeElement,"hover"===n?"mouseenter":"focusin").pipe((0,ft.R)(this._destroy$)).subscribe(()=>this.show()),(0,pt.R)(this._elementRef.nativeElement,s).pipe((0,ft.R)(this._destroy$)).subscribe(()=>this.hide())}})}_createOverlayConfig(){const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(this._getPosition());return new Xt.X_({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:e})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_getPosition(){let e;const n={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-this.offset},o={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:this.offset},s={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.offset},c={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-this.offset};switch(this.placement){case"top":e=[n,o];break;case"bottom":e=[o,n];break;case"left":e=[c,s];break;case"right":e=[s,c]}return e}show(){(this._hideTimeout||this._open)&&(this._overlayRef.detach(),clearTimeout(this._hideTimeout),this._hideTimeout=null),this._createOverlay(),this._showTimeout=setTimeout(()=>{const e=new to.C5(oo);this.tooltipShow.emit(this),this._open=!0,this._tooltipRef=this._overlayRef.attach(e),this._tooltipRef.instance.title=this.mdbTooltip,this._tooltipRef.instance.html=this.html,this._tooltipRef.instance.animation=this.animation,this._tooltipRef.instance.animationState="visible",this._tooltipRef.instance.markForCheck(),this.tooltipShown.emit(this)},this.delayShow)}hide(){this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null,this._hideTimeout=setTimeout(()=>{this.tooltipHide.emit(this),this._tooltipRef?(this._tooltipRef.instance._hidden.pipe((0,no.P)()).subscribe(()=>{this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this)}),this._tooltipRef.instance.animationState="hidden",this._tooltipRef.instance.markForCheck()):(this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this))},this.delayHide))}toggle(){this._open?this.hide():this.show()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xt.aV),i.Y36(Xt.wJ),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","mdbTooltip",""]],inputs:{mdbTooltip:"mdbTooltip",tooltipDisabled:"tooltipDisabled",placement:"placement",html:"html",animation:"animation",trigger:"trigger",delayShow:"delayShow",delayHide:"delayHide",offset:"offset"},outputs:{tooltipShow:"tooltipShow",tooltipShown:"tooltipShown",tooltipHide:"tooltipHide",tooltipHidden:"tooltipHidden"},exportAs:["mdbTooltip"]}),t})(),so=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[x.ez,Xt.U8]}),t})();function ao(t,r){if(1&t&&(i.TgZ(0,"mat-checkbox",37),i._uU(1," Contribute to improving the database "),i._UZ(2,"i",38),i.qZA()),2&t){const e=i.oxw();i.xp6(2),i.Q6J("mdbTooltip",e.accuracyText())("html",!0)}}function co(t,r){1&t&&i._UZ(0,"span",41)}function lo(t,r){if(1&t&&(i.TgZ(0,"button",39),i._uU(1),i.YNc(2,co,1,0,"span",40),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.lobby?"Save":"Create"," "),i.xp6(1),i.Q6J("ngIf",e.loading)}}let si=(()=>{class t{constructor(e,n,o,s,c,l,a){this.fb=e,this.lobbyHttpService=n,this.router=o,this.route=s,this.socket=c,this.lobbyStore=l,this.authService=a,this.loading=!1,this.userCanEdit=!0,this.subscriptions=[],this.lobbyGameModes=L.in,this.lobbyHintModes=L.BF}ngOnInit(){var e;this.lobby=this.lobbyStore.getLobby(),this.lobbyHttpService.info().subscribe(n=>{this.musicAccuracyRatio=n}),this.lobbyForm=this.fb.group({name:[this.lobby?this.lobby.name:`${this.authService.decodeJwt().username}'s lobby`,E.kI.required.bind(this)],password:[null===(e=this.lobby)||void 0===e?void 0:e.password],musicNumber:[this.lobby?this.lobby.musicNumber:20,[E.kI.max(100),E.kI.min(5)]],guessTime:[this.lobby?this.lobby.guessTime:20,[E.kI.max(60),E.kI.min(5)]],allowDuplicates:[!!this.lobby&&this.lobby.allowDuplicates],customDifficulty:[!!this.lobby&&this.lobby.customDifficulty],easyDifficulty:[!this.lobby||this.lobby.difficulty.includes(L.PT.Easy)],mediumDifficulty:[!this.lobby||this.lobby.difficulty.includes(L.PT.Medium)],hardDifficulty:[!this.lobby||this.lobby.difficulty.includes(L.PT.Hard)],allowContributeToMissingData:[!this.lobby||this.lobby.allowContributeToMissingData],gameMode:[this.lobby?this.lobby.gameMode:L.in.Standard],playMusicOnAnswerReveal:[!this.lobby||this.lobby.playMusicOnAnswerReveal],hintMode:[this.lobby?this.lobby.hintMode:L.BF.Allowed,[E.kI.required.bind(this)]]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(n=>{var o,s;this.lobby=n,this.lobbyForm.patchValue({name:this.lobby.name,...(null===(o=this.lobby)||void 0===o?void 0:o.password)&&{password:null===(s=this.lobby)||void 0===s?void 0:s.password},musicNumber:this.lobby.musicNumber,guessTime:this.lobby.guessTime,allowDuplicates:this.lobby.allowDuplicates,easyDifficulty:this.lobby.difficulty.includes(L.PT.Easy),mediumDifficulty:this.lobby.difficulty.includes(L.PT.Medium),hardDifficulty:this.lobby.difficulty.includes(L.PT.Hard)})}),this.lobbyStore.me.subscribe(n=>{null!==n&&(this.userCanEdit=n.role===X.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})]),this.lobbyForm.get("musicNumber").valueChanges.subscribe({next:n=>{this.lobbyForm.get("musicNumber").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),this.lobbyForm.get("guessTime").valueChanges.subscribe({next:n=>{this.lobbyForm.get("guessTime").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.loading=!0;let e=[];this.lobbyForm.get("easyDifficulty").value&&(e=[...e,L.PT.Easy]),this.lobbyForm.get("mediumDifficulty").value&&(e=[...e,L.PT.Medium]),this.lobbyForm.get("hardDifficulty").value&&(e=[...e,L.PT.Hard]),null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:e,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,le.x)(()=>this.loading=!1)).subscribe(n=>{this.router.navigate([`/lobby/${n.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:e,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,le.x)(()=>this.loading=!1)).subscribe(n=>{})}hideContribution(){return this.lobbyForm.get("easyDifficulty").value&&this.lobbyForm.get("mediumDifficulty").value&&this.lobbyForm.get("hardDifficulty").value}accuracyText(){return`By checking this, each music has <strong class="text-primary">${Math.round(1e4*(this.musicAccuracyRatio+Number.EPSILON))/100}% chance</strong> to not reflect the difficulty chosen in order to improve our database.<br>The more you play, the lower the chance!`}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(E.qu),i.Y36(Pe.Y),i.Y36(ie.F0),i.Y36(ie.gz),i.Y36(be.i),i.Y36(he),i.Y36(Ze.e))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-config"]],decls:83,vars:16,consts:[[1,"bg-dark","p-4","h-100"],[1,"h-100",3,"formGroup","ngSubmit"],[1,"form-container"],["appearance","outline",1,"me-2"],["matInput","","formControlName","name","required","required"],["appearance","outline"],["matInput","","type","text","formControlName","password"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary",2,"width","80%",3,"min","max","step"],["matSliderThumb","","formControlName","musicNumber"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["matSliderThumb","","formControlName","guessTime"],["type","number","max","100","min","5","formControlName","guessTime"],[1,"col-md-4","mb-2"],[1,"mb-3"],["formControlName","easyDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","mediumDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","hardDifficulty","color","primary",1,"mx-3","checkbox-center"],["class","mx-3","color","primary","formControlName","allowContributeToMissingData",4,"ngIf"],["mdbTooltip","Allow players to choose between 4 answers, but they win half the usual points","placement","bottom",1,"fa-solid","fa-question-circle",3,"html"],["aria-label","Select an option","formControlName","hintMode","color","primary",1,"d-flex"],[3,"value"],[1,"col-md-4","mt-2","mt-md-0"],["aria-label","Select an option","formControlName","gameMode","color","primary",1,"d-flex"],["value","2","disabled",""],["value","3","disabled",""],["mdbTooltip","One of you plays the music, the other can turn off their phone. <br>Don't worry about neither your score nor your accuracy, it's gone","placement","bottom",3,"value","html"],[1,"row","mt-3"],[1,"col-md-4"],["formControlName","allowDuplicates","color","primary",1,"me-2","checkbox-center"],["formControlName","playMusicOnAnswerReveal","color","primary",1,"me-2","checkbox-center"],[1,"row","bg-dark","justify-content-end","mt-2"],[1,"col-md-2"],["class","btn btn-primary w-100","type","submit",4,"ngIf"],["color","primary","formControlName","allowContributeToMissingData",1,"mx-3"],["placement","bottom",1,"fa-solid","fa-question-circle",3,"mdbTooltip","html"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"form",1),i.NdJ("ngSubmit",function(){return!n.userCanEdit||n.submit()}),i.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),i._uU(5,"Lobby name"),i.qZA(),i._UZ(6,"input",4),i.qZA(),i.TgZ(7,"mat-form-field",5)(8,"mat-label"),i._uU(9,"Password "),i.qZA(),i._UZ(10,"input",6),i.TgZ(11,"mat-hint"),i._uU(12,"keep it empty if this is public lobby"),i.qZA()(),i.TgZ(13,"h1"),i._uU(14,"Settings"),i.qZA(),i.TgZ(15,"div",7)(16,"div",8)(17,"h3"),i._uU(18,"Lobby"),i.qZA(),i.TgZ(19,"div",7)(20,"div",9)(21,"div")(22,"label"),i._uU(23,"Number of musics "),i.qZA()(),i.TgZ(24,"mat-slider",10),i._UZ(25,"input",11),i.qZA(),i.TgZ(26,"div",12),i._UZ(27,"input",13),i.qZA()(),i.TgZ(28,"div",9)(29,"div")(30,"label"),i._uU(31,"Guess time "),i.qZA()(),i.TgZ(32,"div")(33,"mat-slider",10),i._UZ(34,"input",14),i.qZA(),i.TgZ(35,"div",12),i._UZ(36,"input",15),i._uU(37,"s "),i.qZA()()()()(),i.TgZ(38,"div",16)(39,"h3"),i._uU(40,"Difficulty"),i.qZA(),i.TgZ(41,"section",17)(42,"mat-checkbox",18),i._uU(43," Easy "),i.qZA(),i.TgZ(44,"mat-checkbox",19),i._uU(45,"Medium"),i.qZA(),i.TgZ(46,"mat-checkbox",20),i._uU(47,"Hard"),i.qZA()(),i.YNc(48,ao,3,2,"mat-checkbox",21),i.TgZ(49,"div")(50,"h3"),i._uU(51," Hint Button "),i._UZ(52,"i",22),i.qZA(),i.TgZ(53,"mat-radio-group",23)(54,"mat-radio-button",24),i._uU(55,"Disabled"),i.qZA(),i.TgZ(56,"mat-radio-button",24),i._uU(57,"Allowed"),i.qZA(),i.TgZ(58,"mat-radio-button",24),i._uU(59,"Always"),i.qZA()()()(),i.TgZ(60,"div",25)(61,"h3"),i._uU(62,"Game mode"),i.qZA(),i.TgZ(63,"mat-radio-group",26)(64,"mat-radio-button",24),i._uU(65,"Standard"),i.qZA(),i.TgZ(66,"mat-radio-button",27),i._uU(67,"Quick-draw"),i.qZA(),i.TgZ(68,"mat-radio-button",28),i._uU(69,"Battle royale"),i.qZA(),i.TgZ(70,"mat-radio-button",29),i._uU(71," Local Couch "),i.qZA()()()(),i.TgZ(72,"div",30)(73,"div",31)(74,"h3"),i._uU(75,"Modifiers"),i.qZA(),i.TgZ(76,"mat-checkbox",32),i._uU(77," Duplicate games "),i.qZA(),i.TgZ(78,"mat-checkbox",33),i._uU(79," Keep Playing Music On Answer Reveal "),i.qZA()()()(),i.TgZ(80,"div",34)(81,"div",35),i.YNc(82,lo,3,2,"button",36),i.qZA()()()()),2&e&&(i.xp6(1),i.Q6J("formGroup",n.lobbyForm),i.xp6(23),i.Q6J("min",5)("max",100)("step",1),i.xp6(9),i.Q6J("min",5)("max",60)("step",1),i.xp6(15),i.Q6J("ngIf",!n.hideContribution()),i.xp6(4),i.Q6J("html",!0),i.xp6(2),i.Q6J("value",n.lobbyHintModes.Disabled),i.xp6(2),i.Q6J("value",n.lobbyHintModes.Allowed),i.xp6(2),i.Q6J("value",n.lobbyHintModes.Always),i.xp6(6),i.Q6J("value",n.lobbyGameModes.Standard),i.xp6(6),i.Q6J("value",n.lobbyGameModes.LocalCouch)("html",!0),i.xp6(12),i.Q6J("ngIf",n.userCanEdit))},dependencies:[x.O5,Dt.oG,mt.KE,mt.hX,mt.bx,yt.Nt,E._Y,E.Fj,E.wV,E.JJ,E.JL,E.Q7,E.qQ,E.Fd,E.sg,E.u,st,et,ri,oi,Tn],encapsulation:2}),t})(),uo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"row"],[1,"col-md-9"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"app-lobby-config",1),i.qZA())},dependencies:[si],encapsulation:2}),t})();var ho=M(1577),mo=M(9150),po=M(6217),fo=M(5412),_o=M(1985);function bo(t,r){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.play())}),i._uU(2,"Play"),i.qZA(),i.BQk()}}const go=function(t){return{row:t}},vo=function(t,r){return{"col-md-6":t,"col-md-12":r}};let ai=(()=>{class t{constructor(e,n,o,s){this.lobbyHttpService=e,this.lobbyStore=n,this.socket=o,this.router=s,this.lobbyUsersRoles=X,this.lobbyStatus=L.D,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.role=e.role)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.socket.emit("leave",this.lobby.code),this.router.navigate(["/"])}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&this.lobby.status===L.D.Waiting}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Pe.Y),i.Y36(he),i.Y36(be.i),i.Y36(ie.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-button-play"]],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,bo,3,0,"ng-container",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return n.leave()}),i._uU(3," Leave "),i.qZA()()),2&e&&(i.Q6J("ngClass",i.VKq(3,go,n.showPlayButton())),i.xp6(1),i.Q6J("ngIf",n.showPlayButton()),i.xp6(1),i.Q6J("ngClass",i.WLB(5,vo,n.showPlayButton(),!n.showPlayButton())))},dependencies:[x.mk,x.O5],encapsulation:2}),t})();const yo=["chat"],Co=["messageElement"];function wo(t,r){if(1&t&&(i.TgZ(0,"div",null,8)(2,"span",9),i._uU(3),i.qZA(),i._uU(4),i.qZA()),2&t){const e=r.$implicit;i.xp6(3),i.hij("",e.username,": "),i.xp6(1),i.hij(" ",e.message," ")}}const To=function(t){return{disabled:t}};let ci=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.subscriptions=[],this.messages=[],this.message=new E.NI(null,[E.kI.required.bind(this)]),this.scrollToBottom=()=>{this.chat.nativeElement.scrollTop=this.chat.nativeElement.scrollHeight}}ngOnInit(){this.subscriptions=[this.lobbyStore.messages.subscribe(e=>{this.messages=e})]}ngAfterViewInit(){this.scrollToBottom(),this.messageElements.changes.subscribe(this.scrollToBottom)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.socket.emit("chat",this.message.value),this.message.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(be.i))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-chat"]],viewQuery:function(e,n){if(1&e&&(i.Gf(yo,5),i.Gf(Co,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.chat=o.first),i.iGM(o=i.CRH())&&(n.messageElements=o)}},decls:10,vars:5,consts:[[1,"bg-dark","p-4","chat-container","d-none","d-md-block"],[1,"chat"],["chat",""],[4,"ngFor","ngForOf"],[1,"input-group","align-self-center","w-100","mt-2",3,"ngSubmit"],["type","text","placeholder","Your message","aria-label","Your message","aria-describedby","button-addon2",1,"form-control",3,"formControl"],["type","submit","id","button-addon2",1,"btn","btn-outline-primary",3,"ngClass"],[1,"far","fa-paper-plane"],["messageElement",""],[1,"text-primary"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1,2),i.YNc(3,wo,5,2,"div",3),i.qZA(),i.TgZ(4,"div")(5,"form",4),i.NdJ("ngSubmit",function(){return n.message.invalid||n.submit()}),i._UZ(6,"input",5),i.TgZ(7,"button",6),i._uU(8," Send "),i._UZ(9,"i",7),i.qZA()()()()),2&e&&(i.xp6(3),i.Q6J("ngForOf",n.messages),i.xp6(3),i.Q6J("formControl",n.message),i.xp6(1),i.Q6J("ngClass",i.VKq(3,To,n.message.invalid)))},dependencies:[x.mk,x.sg,E._Y,E.Fj,E.JJ,E.JL,E.F,E.oH],encapsulation:2}),t})(),So=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-waiting"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-9","lobby-col"],[1,"d-md-none"],[1,"col-md-9"],[1,"col-md-3","lobby-col"],[1,"d-none","d-md-block","mb-md-2"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-button-play",2)(3,"app-lobby-config",3),i.qZA(),i.TgZ(4,"div",4),i._UZ(5,"app-button-play",5)(6,"app-lobby-chat"),i.qZA()())},dependencies:[si,ai,ci],encapsulation:2}),t})();function Mo(t,r){1&t&&i._UZ(0,"i",10)}function Io(t,r){1&t&&i._UZ(0,"i",11)}function ko(t,r){1&t&&i._UZ(0,"span",12)}function No(t,r){1&t&&i._UZ(0,"i",13)}function Ao(t,r){1&t&&i._UZ(0,"i",14)}function xo(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"i",18),i.NdJ("click",function(){i.CHM(e);const o=i.oxw().$implicit,s=i.oxw();return i.KtG(s.kick(o))}),i.qZA()()()()}}const Ro=function(t,r){return{"mx-2":t,"mx-3":r}},Eo=function(t){return{"text-muted":t}};function Po(t,r){if(1&t&&(i.ynx(0),i.TgZ(1,"div",2)(2,"div",3)(3,"div"),i.YNc(4,Mo,1,0,"i",4),i.YNc(5,Io,1,0,"i",5),i.TgZ(6,"span"),i._uU(7),i.qZA(),i.YNc(8,ko,1,0,"span",6),i.qZA(),i.TgZ(9,"div"),i.YNc(10,No,1,0,"i",7),i.YNc(11,Ao,1,0,"i",8),i.qZA(),i._UZ(12,"div"),i.qZA(),i.YNc(13,xo,4,0,"div",9),i.qZA(),i.BQk()),2&t){const e=r.$implicit,n=i.oxw();i.xp6(1),i.Q6J("ngClass",i.WLB(10,Ro,n.me.role!==n.lobbyUserRoles.Host,n.me.role===n.lobbyUserRoles.Host)),i.xp6(1),i.Q6J("@userStatus",n.getStatusClass(e))("ngClass",i.VKq(13,Eo,e.disconnected||e.role===n.lobbyUserRoles.Spectator)),i.xp6(2),i.Q6J("ngIf",e.role===n.lobbyUserRoles.Host),i.xp6(1),i.Q6J("ngIf",e.role===n.lobbyUserRoles.Spectator&&!e.disconnected),i.xp6(2),i.Oqu(e.user.username),i.xp6(1),i.Q6J("ngIf",e.status===n.lobbyUserStatus.Buffering),i.xp6(2),i.Q6J("ngIf",e.playedTheGame),i.xp6(1),i.Q6J("ngIf",(null==n.lobby?null:n.lobby.hintMode)!==n.lobbyHintModes.Always&&e.hintMode),i.xp6(2),i.Q6J("ngIf",n.me.role===n.lobbyUserRoles.Host&&e.role===n.lobbyUserRoles.Player)}}let Oo=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.showRank=!1,this.lobbyHintModes=L.BF,this.lobbyUserRoles=X,this.lobbyUserStatus=ce,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{this.users=e}),this.lobbyStore.me.subscribe(e=>{this.me=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobby=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusClass(e){return!1===e.correctAnswer?"wrongAnswer":!0===e.correctAnswer?"correctAnswer":"default"}kick(e){this.socket.emit("kick",e.user.username)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(be.i))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],[4,"ngFor","ngForOf"],[1,"user-card","bg-dark","text-center","p-1","position-relative",3,"ngClass"],[1,"row","justify-content-between",3,"ngClass"],["class","fa fa-star",4,"ngIf"],["class","fa fa-ghost",4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","text-info fa fa-gamepad mx-1",4,"ngIf"],["class","text-white far fa-eye mx-1",4,"ngIf"],["class","users-actions d-flex flex-column position-absolute","style","top: 0; right: -15px",4,"ngIf"],[1,"fa","fa-star"],[1,"fa","fa-ghost"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"text-info","fa","fa-gamepad","mx-1"],[1,"text-white","far","fa-eye","mx-1"],[1,"users-actions","d-flex","flex-column","position-absolute",2,"top","0","right","-15px"],[1,"bg-dark","pt-1"],[1,"col"],[1,"icon-action","text-danger","fa","fa-times",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Po,14,15,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",n.users))},dependencies:[x.mk,x.sg,x.O5],encapsulation:2,data:{animation:[(0,re.X$)("userStatus",[(0,re.SB)("wrongAnswer",(0,re.oB)({color:"white"})),(0,re.SB)("correctAnswer",(0,re.oB)({color:"green"})),(0,re.SB)("default",(0,re.oB)({color:"white"})),(0,re.eR)("* => wrongAnswer",[(0,re.jt)("1s",(0,re.F4)([(0,re.oB)({color:"red",offset:0}),(0,re.oB)({color:"white",offset:.75})]))])])]}}),t})();var li=M(3162);function di(t,r,e,n,o,s,c){try{var l=t[s](c),a=l.value}catch(u){return void e(u)}l.done?r(a):Promise.resolve(a).then(n,o)}function ee(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var s=t.apply(r,e);function c(a){di(s,n,o,c,l,"next",a)}function l(a){di(s,n,o,c,l,"throw",a)}c(void 0)})}}var Do=M(2340),Fo=M(529);let Bo=(()=>{class t{constructor(e){this.http=e,this.apiEndpoint=Do.N.apiEndpoint}get(e){return this.http.get(`${this.apiEndpoint}/lobby-music/${e}`,{responseType:"blob"})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(Fo.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var at=M(8021);const Tt=new WeakSet,ui=new WeakMap,Sn=new WeakMap,hi=new WeakMap,Mn=new WeakMap,Jt=new WeakMap,mi=new WeakMap,In=new WeakMap,kn=new WeakMap,Nn=new WeakMap,pi={construct:()=>pi},fi=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,_i=(t,r)=>{const e=[];let n=t.replace(/^[\s]+/,""),o=n.match(fi);for(;null!==o;){const s=o[1].slice(1,-1),c=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,r).toString());e.push(c),n=n.slice(o[0].length).replace(/^[\s]+/,""),o=n.match(fi)}return[e.join(";"),n]},bi=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},gi=t=>{if(!(t=>{try{new new Proxy(t,pi)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Ge=(t,r)=>{const e=t.get(r);if(void 0===e)throw new Error("A value with the given key could not be found.");return e},zt=(t,r)=>{const e=Array.from(t).filter(r);if(e.length>1)throw Error("More than one element was found.");if(0===e.length)throw Error("No element was found.");const[n]=e;return t.delete(n),n},vi=(t,r,e,n)=>{const o=Ge(t,r),s=zt(o,c=>c[0]===e&&c[1]===n);return 0===o.size&&t.delete(r),s},Vt=t=>Ge(mi,t),St=t=>{if(Tt.has(t))throw new Error("The AudioNode is already stored.");Tt.add(t),Vt(t).forEach(r=>r(!0))},yi=t=>"port"in t,Ut=t=>{if(!Tt.has(t))throw new Error("The AudioNode is not stored.");Tt.delete(t),Vt(t).forEach(r=>r(!1))},An=(t,r)=>{!yi(t)&&r.every(e=>0===e.size)&&Ut(t)},jo={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Re=(t,r)=>t.context===r,$t=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},je=()=>new DOMException("","IndexSizeError"),xn=t=>{var r;t.getChannelData=(r=t.getChannelData,e=>{try{return r.call(t,e)}catch(n){throw 12===n.code?je():n}})},zo={numberOfChannels:1},Be=-34028234663852886e22,Oe=-Be,tt=t=>Tt.has(t),Ko={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},De=t=>Ge(ui,t),Zt=t=>Ge(hi,t),Rn=(t,r)=>{const{activeInputs:e}=De(t);e.forEach(o=>o.forEach(([s])=>{r.includes(t)||Rn(s,[...r,t])}));const n=(t=>"playbackRate"in t)(t)?[t.playbackRate]:yi(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const o of n){const s=Zt(o);void 0!==s&&s.activeInputs.forEach(([c])=>Rn(c,r))}tt(t)&&Ut(t)},en=t=>"context"in t,Wt=t=>en(t[0]),_t=(t,r,e,n)=>{for(const o of t)if(e(o)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(r),!0},wi=(t,r,[e,n],o)=>{_t(t,[r,e,n],s=>s[0]===r&&s[1]===e,o)},Ti=(t,[r,e,n],o)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[e,n]])):_t(s,[e,n],c=>c[0]===e,o)},Mt=t=>"inputs"in t,tn=(t,r,e,n)=>{if(Mt(r)){const o=r.inputs[n];return t.connect(o,e,0),[o,e,0]}return t.connect(r,e,n),[r,e,n]},Si=(t,r,e)=>{for(const n of t)if(n[0]===r&&n[1]===e)return t.delete(n),n;return null},Mi=(t,r)=>{if(!Vt(t).delete(r))throw new Error("Missing the expected event listener.")},Ii=(t,r,e)=>{const n=Ge(t,r),o=zt(n,s=>s[0]===e);return 0===n.size&&t.delete(r),o},nn=(t,r,e,n)=>{Mt(r)?t.disconnect(r.inputs[n],e,0):t.disconnect(r,e,n)},_e=t=>Ge(Sn,t),Yt=t=>Ge(Mn,t),bt=t=>In.has(t),rn=t=>!Tt.has(t),ki=(t,r)=>new Promise(e=>{if(null!==r)e(!0);else{const n=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),c=s.getChannelData(0);c[0]=1,c[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(n).connect(t.destination),l.connect(o),l.disconnect(o),n.onaudioprocess=a=>{const u=a.inputBuffer.getChannelData(0);Array.prototype.some.call(u,d=>1===d)?e(!0):e(!1),l.stop(),n.onaudioprocess=null,l.disconnect(n),n.disconnect(t.destination)},l.start()}}),En=(t,r)=>{const e=new Map;for(const n of t)for(const o of n){const s=e.get(o);e.set(o,void 0===s?1:s+1)}e.forEach((n,o)=>r(o,n))},on=t=>"context"in t,Pn=(t,r,e,n,o)=>{const[s,c]=((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=De(r),c=Si(o[n],t,e);return null===c?[vi(s,t,e,n)[2],!1]:[c[2],!0]})(t,e,n,o);if(null!==s&&(Mi(t,s),c&&!r&&!bt(t)&&nn(_e(t),_e(e),n,o)),tt(e)){const{activeInputs:l}=De(e);An(e,l)}},On=(t,r,e,n)=>{const[o,s]=((t,r,e)=>{const{activeInputs:n,passiveInputs:o}=Zt(r),s=Si(n,t,e);return null===s?[Ii(o,t,e)[1],!1]:[s[2],!0]})(t,e,n);null!==o&&(Mi(t,o),s&&!r&&!bt(t)&&_e(t).disconnect(Yt(e),n))};class Ni{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,e=null){return this._map.forEach((n,o)=>r.call(e,n,o,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}function sn(t,r,e,n,o){if("function"==typeof t.copyFromChannel)0===r[e].byteLength&&(r[e]=new Float32Array(128)),t.copyFromChannel(r[e],n,o);else{const s=t.getChannelData(n);if(0===r[e].byteLength)r[e]=s.slice(o,o+128);else{const c=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);r[e].set(c)}}}const Ai=(t,r,e,n,o)=>{"function"==typeof t.copyToChannel?0!==r[e].byteLength&&t.copyToChannel(r[e],n,o):0!==r[e].byteLength&&t.getChannelData(n).set(r[e],o)},an=(t,r)=>{const e=[];for(let n=0;n<t;n+=1){const o=[],s="number"==typeof r?r:r[n];for(let c=0;c<s;c+=1)o.push(new Float32Array(128));e.push(o)}return e},Is=function(){var t=ee(function*(r,e,n,o,s,c,l){const a=null===e?128*Math.ceil(r.context.length/128):e.length,u=o.channelCount*o.numberOfInputs,d=s.reduce((b,y)=>b+y,0),h=0===d?null:n.createBuffer(d,a,n.sampleRate);if(void 0===c)throw new Error("Missing the processor constructor.");const m=De(r),f=yield((t,r)=>{const e=Ge(Nn,t),n=_e(r);return Ge(e,n)})(n,r),p=an(o.numberOfInputs,o.channelCount),_=an(o.numberOfOutputs,s),v=Array.from(r.parameters.keys()).reduce((b,y)=>({...b,[y]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(o.numberOfInputs>0&&null!==e)for(let y=0;y<o.numberOfInputs;y+=1)for(let I=0;I<o.channelCount;I+=1)sn(e,p[y],I,I,b);void 0!==c.parameterDescriptors&&null!==e&&c.parameterDescriptors.forEach(({name:y},I)=>{sn(e,v,y,u+I,b)});for(let y=0;y<o.numberOfInputs;y+=1)for(let I=0;I<s[y];I+=1)0===_[y][I].byteLength&&(_[y][I]=new Float32Array(128));try{const y=p.map((k,g)=>0===m.activeInputs[g].size?[]:k),I=l(b/n.sampleRate,n.sampleRate,()=>f.process(y,_,v));if(null!==h)for(let k=0,g=0;k<o.numberOfOutputs;k+=1){for(let T=0;T<s[k];T+=1)Ai(h,_[k],T,g+T,b);g+=s[k]}if(!I)break}catch(y){r.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(e,n,o,s,c,l,a){return t.apply(this,arguments)}}(),As={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ps={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Fs={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ws={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Qs={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},xi=t=>{const{port1:r,port2:e}=new MessageChannel;return new Promise(n=>{const o=()=>{e.onmessage=null,r.close(),e.close(),n()};e.onmessage=()=>o();try{r.postMessage(t,[t])}finally{o()}})},Ks={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},cn=(t,r,e)=>{const n=r[e];if(void 0===n)throw t();return n},aa={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},fa={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Te=()=>new DOMException("","InvalidStateError"),ln=()=>new DOMException("","InvalidAccessError"),ka={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ri=(t,r,e,n,o,s,c,l,a,u,d)=>{const h=u.length;let m=l;for(let f=0;f<h;f+=1){let p=e[0]*u[f];for(let _=1;_<o;_+=1){const v=m-_&a-1;p+=e[_]*s[v],p-=t[_]*c[v]}for(let _=o;_<n;_+=1)p+=e[_]*s[m-_&a-1];for(let _=o;_<r;_+=1)p-=t[_]*c[m-_&a-1];s[m]=u[f],c[m]=p,m=m+1&a-1,d[f]=p}return m},Wa=function(){var t=ee(function*(r,e,n,o,s,c,l,a,u,d,h,m,f,p,_,v){return!!(r(e,e)&&r(n,n)&&r(s,s)&&r(c,c)&&r(a,a)&&r(u,u)&&r(d,d)&&r(h,h)&&r(m,m)&&r(f,f)&&r(p,p))&&(yield Promise.all([r(o,o),r(l,l),r(_,_),r(v,v)])).every(y=>y)});return function(e,n,o,s,c,l,a,u,d,h,m,f,p,_,v,b){return t.apply(this,arguments)}}(),Ga={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},gt=t=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=t.decodeAudioData(r.buffer,()=>{});return void 0!==e&&(e.catch(()=>{}),!0)}catch{}return!1},ge=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e]&&(t[e]=n)},Se=(t,r)=>{ge(t,r,"channelCount"),ge(t,r,"channelCountMode"),ge(t,r,"channelInterpretation")},Ei=t=>"function"==typeof t.getFloatTimeDomainData,ye=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e].value&&(t[e].value=n)},Dn=t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{if("number"==typeof o&&o<0||n<0||e<0)throw new RangeError("The parameters can't be negative.");r.call(t,e,n,o)})},Fn=t=>{var r;t.stop=(r=t.stop,(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");r.call(t,e)})},Pi=(t,r)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*r))))),dc=function(){var t=ee(function*(r,e){const n=yield(t=>new Promise((r,e)=>{const{port1:n,port2:o}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),o.close(),r(s)},n.onmessageerror=({data:s})=>{n.close(),o.close(),e(s)},o.postMessage(t)}))(e);return new r(n)});return function(e,n){return t.apply(this,arguments)}}(),Oi=(t,r)=>{const e=t.createBiquadFilter();return Se(e,r),ye(e,r,"Q"),ye(e,r,"detune"),ye(e,r,"frequency"),ye(e,r,"gain"),ge(e,r,"type"),e},Gt=(t,r)=>{const e=t.createChannelSplitter(r.numberOfOutputs);return Se(e,r),(t=>{const r=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>r,set:e=>{if(e!==r)throw Te()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Te()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Te()}})})(e),e},It=(t,r)=>(t.connect=r.connect.bind(r),t.disconnect=r.disconnect.bind(r),t),Di=(t,r)=>{const e=t.createDelay(r.maxDelayTime);return Se(e,r),ye(e,r,"delayTime"),e},Le=(t,r)=>{const e=t.createGain();return Se(e,r),ye(e,r,"gain"),e};function yc(t,r){const e=r[0]*r[0]+r[1]*r[1];return[(t[0]*r[0]+t[1]*r[1])/e,(t[1]*r[0]-t[0]*r[1])/e]}function Cc(t,r){return[t[0]*r[0]-t[1]*r[1],t[0]*r[1]+t[1]*r[0]]}function Fi(t,r){let e=[0,0];for(let n=t.length-1;n>=0;n-=1)e=Cc(e,r),e[0]+=t[n];return e}const Ht=(t,r,e,n)=>t.createScriptProcessor(r,e,n),Ee=()=>new DOMException("","NotSupportedError"),Lc={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Zc={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Gc={disableNormalization:!1},Kc={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Bi=()=>new DOMException("","UnknownError"),gl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Li=(t,r,e)=>void 0===t.copyFromChannel?t.getChannelData(e)[0]:(t.copyFromChannel(r,e),r[0]),Vi=t=>{if(null===t)return!1;const r=t.length;return r%2!=0?0!==t[Math.floor(r/2)]:t[r/2-1]+t[r/2]!==0},Qt=(t,r,e,n)=>{let o=t;for(;!o.hasOwnProperty(r);)o=Object.getPrototypeOf(o);const{get:s,set:c}=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(t,r,{get:e(s),set:n(c)})},Ui=(t,r,e)=>{try{t.setValueAtTime(r,e)}catch(n){if(9!==n.code)throw n;Ui(t,r,e+1e-7)}},Bn=t=>{const r=t.createOscillator();try{r.start(-1)}catch(e){return e instanceof RangeError}return!1},Zi=t=>{const r=t.createBuffer(1,1,44100),e=t.createBufferSource();e.buffer=r,e.start(),e.stop();try{return e.stop(),!0}catch{return!1}},Ln=t=>{const r=t.createOscillator();try{r.stop(-1)}catch(e){return e instanceof RangeError}return!1},Pl=()=>{try{new DOMException}catch{return!1}return!0},Ol=()=>new Promise(t=>{const r=new ArrayBuffer(0),{port1:e,port2:n}=new MessageChannel;e.onmessage=({data:o})=>t(null!==o),n.postMessage(r,[r])}),Wi=(t,r)=>{const e=r.createGain();t.connect(e);const n=(o=t.disconnect,()=>{o.call(t,e),t.removeEventListener("ended",n)});var o;t.addEventListener("ended",n),It(t,e),t.stop=(o=>{let s=!1;return(c=0)=>{if(s)try{o.call(t,c)}catch{e.gain.setValueAtTime(0,c)}else o.call(t,c),s=!0}})(t.stop)},kt=(t,r)=>e=>{const n={value:t};return Object.defineProperties(e,{currentTarget:n,target:n}),"function"==typeof r?r.call(t,e):r.handleEvent.call(t,e)},Fl=(t=_t,(r,e,[n,o,s],c)=>{t(r[o],[e,n,s],l=>l[0]===e&&l[1]===n,c)}),Bl=(t=>(r,e,[n,o,s],c)=>{const l=r.get(n);void 0===l?r.set(n,new Set([[o,e,s]])):t(l,[o,e,s],a=>a[0]===o&&a[1]===e,c)})(_t),Ll=(t=>(r,e,n,o)=>t(r[o],s=>s[0]===e&&s[1]===n))(zt),Yi=new WeakMap,Vl=(t=>r=>{var e;return null!==(e=t.get(r))&&void 0!==e?e:0})(Yi),Ve=((t,r)=>(e,n)=>{const o=r.get(e);if(void 0!==o)return o;const s=t.get(e);if(void 0!==s)return s;try{const c=n();return c instanceof Promise?(t.set(e,c),c.catch(()=>!1).then(l=>(t.delete(e),r.set(e,l),l))):(r.set(e,c),c)}catch{return r.set(e,!1),!1}})(new Map,new WeakMap),He=typeof window>"u"?null:window,Gi=((t,r)=>(e,n)=>{const o=e.createAnalyser();if(Se(o,n),!(n.maxDecibels>n.minDecibels))throw r();return ge(o,n,"fftSize"),ge(o,n,"maxDecibels"),ge(o,n,"minDecibels"),ge(o,n,"smoothingTimeConstant"),t(Ei,()=>Ei(o))||(t=>{t.getFloatTimeDomainData=r=>{const e=new Uint8Array(r.length);t.getByteTimeDomainData(e);const n=Math.max(e.length,t.fftSize);for(let o=0;o<n;o+=1)r[o]=.0078125*(e[o]-128);return r}})(o),o})(Ve,je),Vn=(t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer})(De),xe=((t,r,e)=>function(){var n=ee(function*(o,s,c){const l=t(o);yield Promise.all(l.activeInputs.map((a,u)=>Array.from(a).map(function(){var d=ee(function*([h,m]){const p=yield r(h).render(h,s),_=o.context.destination;!e(h)&&(o!==_||!e(o))&&p.connect(c,m,u)});return function(h){return d.apply(this,arguments)}}())).reduce((a,u)=>[...a,...u],[]))});return function(o,s,c){return n.apply(this,arguments)}}())(De,Vn,bt),Ul=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let a=r(c);return Re(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Gi,_e,xe),me=(t=>r=>{const e=t.get(r);if(void 0===e)throw Te();return e})(Jt),Ne=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(He),ue=(t=>r=>null!==t&&r instanceof t)(Ne),Hi=new WeakMap,Qi=(t=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,n,o){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,o)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,n,o){const s=null===n?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,o)}})(kt),nt=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(He),Un=(t=>r=>null!==t&&r instanceof t)(nt),Zn=(t=>r=>null!==t&&"function"==typeof t.AudioNode&&r instanceof t.AudioNode)(He),qi=(t=>r=>null!==t&&"function"==typeof t.AudioParam&&r instanceof t.AudioParam)(He),Nt=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(He),we=((t,r,e,n,o,s,c,l,a,u,d,h,m,f,p,_)=>class extends u{constructor(b,y,I,k){super(I),this._context=b,this._nativeAudioNode=I;const g=d(b);h(g)&&!0!==e(ki,()=>ki(g,_))&&(t=>{const r=new Map;var e;t.connect=(e=t.connect.bind(t),(n,o=0,s=0)=>{const c=on(n)?e(n,o,s):e(n,o),l=r.get(n);return void 0===l?r.set(n,[{input:s,output:o}]):l.every(a=>a.input!==s||a.output!==o)&&l.push({input:s,output:o}),c}),t.disconnect=(e=>(n,o,s)=>{if(e.apply(t),void 0===n)r.clear();else if("number"==typeof n)for(const[c,l]of r){const a=l.filter(u=>u.output!==n);0===a.length?r.delete(c):r.set(c,a)}else if(r.has(n))if(void 0===o)r.delete(n);else{const c=r.get(n);if(void 0!==c){const l=c.filter(a=>a.output!==o&&(a.input!==s||void 0===s));0===l.length?r.delete(n):r.set(n,l)}}for(const[c,l]of r)l.forEach(a=>{on(c)?t.connect(c,a.output,a.input):t.connect(c,a.output)})})(t.disconnect)})(I),Sn.set(this,I),mi.set(this,new Set),"closed"!==b.state&&y&&St(this),t(this,k,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(b){this._nativeAudioNode.channelCount=b}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(b){this._nativeAudioNode.channelCountMode=b}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(b){this._nativeAudioNode.channelInterpretation=b}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(b,y=0,I=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw o();const k=d(this._context),g=p(k);if(m(b)||f(b))throw s();if(en(b)){const w=_e(b);try{const N=tn(this._nativeAudioNode,w,y,I),R=rn(this);(g||R)&&this._nativeAudioNode.disconnect(...N),"closed"!==this.context.state&&!R&&rn(b)&&St(b)}catch(N){throw 12===N.code?s():N}if(r(this,b,y,I,g)){const N=a([this],b);En(N,n(g))}return b}const T=Yt(b);if("playbackRate"===T.name&&1024===T.maxValue)throw c();try{this._nativeAudioNode.connect(T,y),(g||rn(this))&&this._nativeAudioNode.disconnect(T,y)}catch(w){throw 12===w.code?s():w}if(((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=Zt(r),{outputs:c}=De(t),l=Vt(t),a=u=>{const d=_e(t),h=Yt(r);if(u){const m=Ii(s,t,e);wi(o,t,m,!1),!n&&!bt(t)&&d.connect(h,e)}else{const m=((t,r,e)=>zt(t,n=>n[0]===r&&n[1]===e))(o,t,e);Ti(s,m,!1),!n&&!bt(t)&&d.disconnect(h,e)}};return!!_t(c,[r,e],u=>u[0]===r&&u[1]===e,!0)&&(l.add(a),tt(t)?wi(o,t,[e,a],!0):Ti(s,[t,e,a],!0),!0)})(this,b,y,g)){const w=a([this],b);En(w,n(g))}}disconnect(b,y,I){let k;const g=d(this._context),T=p(g);if(void 0===b)k=((t,r)=>{const e=De(t),n=[];for(const o of e.outputs)Wt(o)?Pn(t,r,...o):On(t,r,...o),n.push(o[0]);return e.outputs.clear(),n})(this,T);else if("number"==typeof b){if(b<0||b>=this.numberOfOutputs)throw o();k=((t,r,e)=>{const n=De(t),o=[];for(const s of n.outputs)s[1]===e&&(Wt(s)?Pn(t,r,...s):On(t,r,...s),o.push(s[0]),n.outputs.delete(s));return o})(this,T,b)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||en(b)&&void 0!==I&&(I<0||I>=b.numberOfInputs))throw o();if(k=((t,r,e,n,o)=>{const s=De(t);return Array.from(s.outputs).filter(c=>!(c[0]!==e||void 0!==n&&c[1]!==n||void 0!==o&&c[2]!==o)).map(c=>(Wt(c)?Pn(t,r,...c):On(t,r,...c),s.outputs.delete(c),c[0]))})(this,T,b,y,I),0===k.length)throw s()}for(const C of k){const w=a([this],C);En(w,l)}}})((t=>(r,e,n)=>{const o=[];for(let s=0;s<n.numberOfInputs;s+=1)o.push(new Set);t.set(r,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:e})})(ui),((t,r,e,n,o,s,c,l,a,u,d,h,m)=>{const f=new WeakMap;return(p,_,v,b,y)=>{const{activeInputs:I,passiveInputs:k}=s(_),{outputs:g}=s(p),T=l(p),C=w=>{const A=a(_),N=a(p);if(w){const R=vi(k,p,v,b);t(I,p,R,!1),!y&&!h(p)&&e(N,A,v,b),m(_)&&St(_)}else{const R=n(I,p,v,b);r(k,b,R,!1),!y&&!h(p)&&o(N,A,v,b);const S=c(_);if(0===S)d(_)&&An(_,I);else{const F=f.get(_);void 0!==F&&clearTimeout(F),f.set(_,setTimeout(()=>{d(_)&&An(_,I)},1e3*S))}}};return!!u(g,[_,v,b],w=>w[0]===_&&w[1]===v&&w[2]===b,!0)&&(T.add(C),d(p)?t(I,p,[v,b,C],!0):r(k,b,[p,v,C],!0),!0)}})(Fl,Bl,tn,Ll,nn,De,Vl,Vt,_e,_t,tt,bt,rn),Ve,((t,r,e,n,o,s)=>c=>(l,a)=>{const u=t.get(l);if(void 0===u){if(!c&&s(l)){const d=n(l),{outputs:h}=e(l);for(const m of h)if(Wt(m)){const f=n(m[0]);r(d,f,m[1],m[2])}else{const f=o(m[0]);d.disconnect(f,m[1])}}t.set(l,a)}else t.set(l,u+a)})(In,nn,De,_e,Yt,tt),je,ln,Ee,((t,r,e,n,o,s,c,l)=>(a,u)=>{const d=r.get(a);if(void 0===d)throw new Error("Missing the expected cycle count.");const h=s(a.context),m=l(h);if(d===u){if(r.delete(a),!m&&c(a)){const f=n(a),{outputs:p}=e(a);for(const _ of p)if(Wt(_)){const v=n(_[0]);t(f,v,_[1],_[2])}else{const v=o(_[0]);f.connect(v,_[1])}}}else r.set(a,d-u)})(tn,In,De,_e,Yt,me,tt,ue),((t,r,e)=>function n(o,s){const c=en(s)?s:e(t,s);if((t=>"delayTime"in t)(c))return[];if(o[0]===c)return[o];if(o.includes(c))return[];const{outputs:l}=r(c);return Array.from(l).map(a=>n([...o,c],a[0])).reduce((a,u)=>a.concat(u),[])})(Hi,De,Ge),Qi,me,Un,Zn,qi,ue,Nt),Zl=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=o(l),d={...jo,...a},h=n(u,d);super(l,!1,h,s(u)?r():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=a,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}})(we,Ul,je,Gi,me,ue),Wn=new WeakSet,ji=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(He),Xi=(t=>r=>(t[0]=r,t[0]))(new Uint32Array(1)),Yn=((t,r)=>e=>{e.copyFromChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const a=e.length,u=e.getChannelData(l),d=n.length;for(let h=c<0?-c:0;h+c<a&&h<d;h+=1)n[h]=u[h+c]},e.copyToChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const a=e.length,u=e.getChannelData(l),d=n.length;for(let h=c<0?-c:0;h+c<a&&h<d;h+=1)u[h+c]=n[h]}})(Xi,je),Gn=(t=>r=>{var e;r.copyFromChannel=(e=r.copyFromChannel,(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)}),r.copyToChannel=(e=>(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)})(r.copyToChannel)})(Xi),Wl=((t,r,e,n,o,s,c,l)=>{let a=null;return class Zr{constructor(d){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:m,sampleRate:f}={...zo,...d};null===a&&(a=new o(1,1,44100));const p=null!==n&&r(s,s)?new n({length:h,numberOfChannels:m,sampleRate:f}):a.createBuffer(m,h,f);if(0===p.numberOfChannels)throw e();return"function"!=typeof p.copyFromChannel?(c(p),xn(p)):r($t,()=>$t(p))||l(p),t.add(p),p}static[Symbol.hasInstance](d){return null!==d&&"object"==typeof d&&Object.getPrototypeOf(d)===Zr.prototype||t.has(d)}}})(Wn,Ve,Ee,ji,Ne,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(ji),Yn,Gn),dn=(t=>(r,e)=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(r.destination);const o=()=>{e.removeEventListener("ended",o),e.disconnect(n),n.disconnect()};e.addEventListener("ended",o)})(Le),Ji=((t,r,e)=>function(){var n=ee(function*(o,s,c){const l=r(o);yield Promise.all(Array.from(l.activeInputs).map(function(){var a=ee(function*([u,d]){const m=yield t(u).render(u,s);e(u)||m.connect(c,d)});return function(u){return a.apply(this,arguments)}}()))});return function(o,s,c){return n.apply(this,arguments)}}())(Vn,Zt,bt),Xe=(t=>(r,e,n)=>t(e,r,n))(Ji),At=((t,r,e,n,o,s,c,l,a,u,d)=>(h,m)=>{const f=h.createBufferSource();return Se(f,m),ye(f,m,"playbackRate"),ge(f,m,"buffer"),ge(f,m,"loop"),ge(f,m,"loopEnd"),ge(f,m,"loopStart"),r(e,()=>e(h))||(t=>{t.start=(r=>{let e=!1;return(n=0,o=0,s)=>{if(e)throw Te();r.call(t,n,o,s),e=!0}})(t.start)})(f),r(n,()=>n(h))||(t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{const s=t.buffer,c=null===s?n:Math.min(s.duration,n);null!==s&&c>s.duration-.5/t.context.sampleRate?r.call(t,e,0,0):r.call(t,e,c,o)})})(f),r(o,()=>o(h))||u(f,h),r(s,()=>s(h))||Dn(f),r(c,()=>c(h))||d(f,h),r(l,()=>l(h))||Fn(f),t(h,f),f})(dn,Ve,t=>{const r=t.createBufferSource();r.start();try{r.start()}catch{return!0}return!1},t=>{const r=t.createBufferSource(),e=t.createBuffer(1,1,44100);r.buffer=e;try{r.start(0,1)}catch{return!1}return!0},t=>{const r=t.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0},Bn,Zi,Ln,0,(t=>(r,e)=>{const n=e.createBuffer(1,1,44100);null===r.buffer&&(r.buffer=n),t(r,"buffer",o=>()=>{const s=o.call(r);return s===n?null:s},o=>s=>o.call(r,null===s?n:s))})(Qt),Wi),Je=((t,r)=>(e,n,o)=>(t(n).replay(o),r(n,e,o)))((t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer})(Zt),Ji),Yl=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const a=function(){var u=ee(function*(d,h){let m=e(d);const f=Re(m,h);return f||(m=r(h,{buffer:m.buffer,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,loop:m.loop,loopEnd:m.loopEnd,loopStart:m.loopStart,playbackRate:m.playbackRate.value}),null!==c&&m.start(...c),null!==l&&m.stop(l)),s.set(h,m),f?yield t(h,d.playbackRate,m.playbackRate):yield n(h,d.playbackRate,m.playbackRate),yield o(d,h,m),m});return function(h,m){return u.apply(this,arguments)}}();return{set start(u){c=u},set stop(u){l=u},render(u,d){const h=s.get(d);return void 0!==h?Promise.resolve(h):a(u,d)}}})(Xe,At,_e,Je,xe),Qe=((t,r,e,n,o,s,c,l,a,u,d,h,m)=>(f,p,_,v=null,b=null)=>{const y=new at.AutomationEventList(_.defaultValue),I=p?(t=>({replay(r){for(const e of t)if("exponentialRampToValue"===e.type){const{endTime:n,value:o}=e;r.exponentialRampToValueAtTime(o,n)}else if("linearRampToValue"===e.type){const{endTime:n,value:o}=e;r.linearRampToValueAtTime(o,n)}else if("setTarget"===e.type){const{startTime:n,target:o,timeConstant:s}=e;r.setTargetAtTime(o,n,s)}else if("setValue"===e.type){const{startTime:n,value:o}=e;r.setValueAtTime(o,n)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:n,startTime:o,values:s}=e;r.setValueCurveAtTime(s,o,n)}}}}))(y):null,k={get defaultValue(){return _.defaultValue},get maxValue(){return null===v?_.maxValue:v},get minValue(){return null===b?_.minValue:b},get value(){return _.value},set value(g){_.value=g,k.setValueAtTime(g,f.context.currentTime)},cancelAndHoldAtTime(g){if("function"==typeof _.cancelAndHoldAtTime)null===I&&y.flush(f.context.currentTime),y.add(o(g)),_.cancelAndHoldAtTime(g);else{const T=Array.from(y).pop();null===I&&y.flush(f.context.currentTime),y.add(o(g));const C=Array.from(y).pop();_.cancelScheduledValues(g),T!==C&&void 0!==C&&("exponentialRampToValue"===C.type?_.exponentialRampToValueAtTime(C.value,C.endTime):"linearRampToValue"===C.type?_.linearRampToValueAtTime(C.value,C.endTime):"setValue"===C.type?_.setValueAtTime(C.value,C.startTime):"setValueCurve"===C.type&&_.setValueCurveAtTime(C.values,C.startTime,C.duration))}return k},cancelScheduledValues:g=>(null===I&&y.flush(f.context.currentTime),y.add(s(g)),_.cancelScheduledValues(g),k),exponentialRampToValueAtTime(g,T){if(0===g)throw new RangeError;if(!Number.isFinite(T)||T<0)throw new RangeError;return null===I&&y.flush(f.context.currentTime),y.add(c(g,T)),_.exponentialRampToValueAtTime(g,T),k},linearRampToValueAtTime:(g,T)=>(null===I&&y.flush(f.context.currentTime),y.add(l(g,T)),_.linearRampToValueAtTime(g,T),k),setTargetAtTime:(g,T,C)=>(null===I&&y.flush(f.context.currentTime),y.add(a(g,T,C)),_.setTargetAtTime(g,T,C),k),setValueAtTime:(g,T)=>(null===I&&y.flush(f.context.currentTime),y.add(u(g,T)),_.setValueAtTime(g,T),k),setValueCurveAtTime(g,T,C){const w=g instanceof Float32Array?g:new Float32Array(g);if(null!==h&&"webkitAudioContext"===h.name){const A=T+C,N=f.context.sampleRate,R=Math.ceil(T*N),S=Math.floor(A*N),F=S-R,U=new Float32Array(F);for(let V=0;V<F;V+=1){const Y=(w.length-1)/C*((R+V)/N-T),Q=Math.floor(Y),H=Math.ceil(Y);U[V]=Q===H?w[Q]:(1-(Y-Q))*w[Q]+(1-(H-Y))*w[H]}null===I&&y.flush(f.context.currentTime),y.add(d(U,T,C)),_.setValueCurveAtTime(U,T,C);const W=S/N;W<A&&m(k,U[U.length-1],W),m(k,w[w.length-1],A)}else null===I&&y.flush(f.context.currentTime),y.add(d(w,T,C)),_.setValueCurveAtTime(w,T,C);return k}};return e.set(k,_),r.set(k,f),t(k,I),k})((t=>(r,e)=>{t.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})})(hi),Hi,Mn,0,at.createCancelAndHoldAutomationEvent,at.createCancelScheduledValuesAutomationEvent,at.createExponentialRampToValueAutomationEvent,at.createLinearRampToValueAutomationEvent,at.createSetTargetAutomationEvent,at.createSetValueAutomationEvent,at.createSetValueCurveAutomationEvent,nt,Ui),Gl=((t,r,e,n,o,s,c,l)=>class extends t{constructor(u,d){const h=s(u),m={...Ko,...d},f=o(h,m),p=c(h),_=p?r():null;super(u,!1,f,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=null!==m.buffer,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=e(this,p,f.playbackRate,Oe,Be)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,null!==u){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const d="function"==typeof u?l(this,u):null;this._nativeAudioBufferSourceNode.onended=d;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===d?u:h}get playbackRate(){return this._playbackRate}start(u=0,d=0,h){if(this._nativeAudioBufferSourceNode.start(u,d,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[u,d]:[u,d,h]),"closed"!==this.context.state){St(this);const m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),tt(this)&&Ut(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=u)}})(we,Yl,Qe,Te,At,me,ue,kt),Hl=((t,r,e,n,o,s,c,l)=>class extends t{constructor(u,d){const h=s(u),m=c(h),f=o(h,d,m);super(u,!1,f,m?r(l):null),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(we,t=>{const r=new WeakMap,e=function(){var n=ee(function*(o,s){const c=s.destination;return r.set(s,c),yield t(o,s,c),c});return function(s,c){return n.apply(this,arguments)}}();return{render(n,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):e(n,o)}}},je,Te,((t,r)=>(e,n,o)=>{const s=e.destination;if(s.channelCount!==n)try{s.channelCount=n}catch{}o&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:n});const c=t(e,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return r(c,"channelCount",l=>()=>l.call(c),l=>a=>{l.call(c,a);try{s.channelCount=a}catch(u){if(a>s.maxChannelCount)throw u}}),r(c,"channelCountMode",l=>()=>l.call(c),l=>a=>{l.call(c,a),s.channelCountMode=a}),r(c,"channelInterpretation",l=>()=>l.call(c),l=>a=>{l.call(c,a),s.channelInterpretation=a}),Object.defineProperty(c,"maxChannelCount",{get:()=>s.maxChannelCount}),c.connect(s),c})(Le,Qt),me,ue,xe),Ql=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(a,u){let d=e(a);const h=Re(d,u);return h||(d=r(u,{Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type})),s.set(u,d),h?(yield t(u,a.Q,d.Q),yield t(u,a.detune,d.detune),yield t(u,a.frequency,d.frequency),yield t(u,a.gain,d.gain)):(yield n(u,a.Q,d.Q),yield n(u,a.detune,d.detune),yield n(u,a.frequency,d.frequency),yield n(u,a.gain,d.gain)),yield o(a,u,d),d});return function(u,d){return l.apply(this,arguments)}}();return{render(l,a){const u=s.get(a);return void 0!==u?Promise.resolve(u):c(l,a)}}})(Xe,Oi,_e,Je,xe),vt=(t=>(r,e)=>t.set(r,e))(Yi),ql=((t,r,e,n,o,s,c,l)=>class extends t{constructor(u,d){const h=s(u),m={...As,...d},f=o(h,m),p=c(h);super(u,!1,f,p?e():null),this._Q=r(this,p,f.Q,Oe,Be),this._detune=r(this,p,f.detune,1200*Math.log2(Oe),-1200*Math.log2(Oe)),this._frequency=r(this,p,f.frequency,u.sampleRate/2,0),this._gain=r(this,p,f.gain,40*Math.log10(Oe),Be),this._nativeBiquadFilterNode=f,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,d,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,d,h)}catch(m){throw 11===m.code?n():m}if(u.length!==d.length||d.length!==h.length)throw n()}})(we,Qe,Ql,ln,Oi,me,ue,vt),ct=((t,r)=>(e,n,o)=>{const s=new Set;return e.connect=(c=e.connect,(l,a=0,u=0)=>{const d=0===s.size;if(r(l))return c.call(e,l,a,u),t(s,[l,a,u],h=>h[0]===l&&h[1]===a&&h[2]===u,!0),d&&n(),l;c.call(e,l,a),t(s,[l,a],h=>h[0]===l&&h[1]===a,!0),d&&n()}),e.disconnect=(c=>(l,a,u)=>{const d=s.size>0;if(void 0===l)c.apply(e),s.clear();else if("number"==typeof l){c.call(e,l);for(const m of s)m[1]===l&&s.delete(m)}else{r(l)?c.call(e,l,a,u):c.call(e,l,a);for(const m of s)m[0]===l&&(void 0===a||m[1]===a)&&(void 0===u||m[2]===u)&&s.delete(m)}d&&0===s.size&&o()})(e.disconnect),e;var c})(_t,Zn),jl=((t,r)=>(e,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=e.createBufferSource();r(n,()=>{const l=n.numberOfInputs;for(let a=0;a<l;a+=1)o.connect(n,0,a)},()=>o.disconnect(n))})(Te,ct),lt=((t,r)=>(e,n)=>{const o=e.createChannelMerger(n.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&r(e,o),Se(o,n),o})(nt,jl),Xl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let a=r(c);return Re(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(lt,_e,xe),Jl=((t,r,e,n,o)=>class extends t{constructor(c,l){const a=n(c),u={...Ps,...l};super(c,!1,e(a,u),o(a)?r():null)}})(we,Xl,lt,me,ue),zl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let a=r(c);return Re(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Gt,_e,xe),$l=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=n(l),d=(t=>({...t,channelCount:t.numberOfOutputs}))({...Fs,...a});super(l,!1,e(u,d),o(u)?r():null)}})(we,zl,Gt,me,ue),Kl=((t,r,e,n)=>(o,{offset:s,...c})=>{const l=o.createBuffer(1,2,44100),a=r(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=e(o,{...c,gain:s}),d=l.getChannelData(0);d[0]=1,d[1]=1,a.buffer=l,a.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return a.onended},set onended(p){a.onended=p},addEventListener:(...p)=>a.addEventListener(p[0],p[1],p[2]),dispatchEvent:(...p)=>a.dispatchEvent(p[0]),removeEventListener:(...p)=>a.removeEventListener(p[0],p[1],p[2]),start(p=0){a.start.call(a,p)},stop(p=0){a.stop.call(a,p)}};return t(o,a),n(It(h,u),()=>a.connect(u),()=>a.disconnect(u))})(dn,At,Le,ct),xt=((t,r,e,n,o)=>(s,c)=>{if(void 0===s.createConstantSource)return e(s,c);const l=s.createConstantSource();return Se(l,c),ye(l,c,"offset"),r(n,()=>n(s))||Dn(l),r(o,()=>o(s))||Fn(l),t(s,l),l})(dn,Ve,Kl,Bn,Ln),ed=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const a=function(){var u=ee(function*(d,h){let m=e(d);const f=Re(m,h);return f||(m=r(h,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,offset:m.offset.value}),null!==c&&m.start(c),null!==l&&m.stop(l)),s.set(h,m),f?yield t(h,d.offset,m.offset):yield n(h,d.offset,m.offset),yield o(d,h,m),m});return function(h,m){return u.apply(this,arguments)}}();return{set start(u){c=u},set stop(u){l=u},render(u,d){const h=s.get(d);return void 0!==h?Promise.resolve(h):a(u,d)}}})(Xe,xt,_e,Je,xe),td=((t,r,e,n,o,s,c)=>class extends t{constructor(a,u){const d=o(a),h={...Ws,...u},m=n(d,h),f=s(d),p=f?e():null;super(a,!1,m,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=m,this._offset=r(this,f,m.offset,Oe,Be),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const u="function"==typeof a?c(this,a):null;this._nativeConstantSourceNode.onended=u;const d=this._nativeConstantSourceNode.onended;this._onended=null!==d&&d===u?a:d}start(a=0){if(this._nativeConstantSourceNode.start(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=a),"closed"!==this.context.state){St(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),tt(this)&&Ut(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(a=0){this._nativeConstantSourceNode.stop(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=a)}})(we,Qe,ed,xt,me,ue,kt),zi=((t,r)=>(e,n)=>{const o=e.createConvolver();if(Se(o,n),n.disableNormalization===o.normalize&&(o.normalize=!n.disableNormalization),ge(o,n,"buffer"),n.channelCount>2||(r(o,"channelCount",s=>()=>s.call(o),s=>c=>{if(c>2)throw t();return s.call(o,c)}),"max"===n.channelCountMode))throw t();return r(o,"channelCountMode",s=>()=>s.call(o),s=>c=>{if("max"===c)throw t();return s.call(o,c)}),o})(Ee,Qt),nd=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let a=r(c);return Re(a,l)||(a=t(l,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),n.set(l,a),Mt(a)?yield e(c,l,a.inputs[0]):yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(zi,_e,xe),id=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=n(l),d={...Qs,...a},h=e(u,d);super(l,!1,h,o(u)?r():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==d.buffer&&s(this,d.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){if(this._nativeConvolverNode.buffer=l,null===l&&null!==this._nativeConvolverNode.buffer){const a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}})(we,nd,zi,me,ue,vt),rd=((t,r,e,n,o)=>s=>{const c=new WeakMap,l=function(){var a=ee(function*(u,d){let h=e(u);const m=Re(h,d);return m||(h=r(d,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s})),c.set(d,h),m?yield t(d,u.delayTime,h.delayTime):yield n(d,u.delayTime,h.delayTime),yield o(u,d,h),h});return function(d,h){return a.apply(this,arguments)}}();return{render(a,u){const d=c.get(u);return void 0!==d?Promise.resolve(d):l(a,u)}}})(Xe,Di,_e,Je,xe),od=((t,r,e,n,o,s,c)=>class extends t{constructor(a,u){const d=o(a),h={...Ks,...u},m=n(d,h),f=s(d);super(a,!1,m,f?e(h.maxDelayTime):null),this._delayTime=r(this,f,m.delayTime),c(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(we,Qe,rd,Di,me,ue,vt),$i=(t=>(r,e)=>{const n=r.createDynamicsCompressor();if(Se(n,e),e.channelCount>2||"max"===e.channelCountMode)throw t();return ye(n,e,"attack"),ye(n,e,"knee"),ye(n,e,"ratio"),ye(n,e,"release"),ye(n,e,"threshold"),n})(Ee),sd=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(a,u){let d=e(a);const h=Re(d,u);return h||(d=r(u,{attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value})),s.set(u,d),h?(yield t(u,a.attack,d.attack),yield t(u,a.knee,d.knee),yield t(u,a.ratio,d.ratio),yield t(u,a.release,d.release),yield t(u,a.threshold,d.threshold)):(yield n(u,a.attack,d.attack),yield n(u,a.knee,d.knee),yield n(u,a.ratio,d.ratio),yield n(u,a.release,d.release),yield n(u,a.threshold,d.threshold)),yield o(a,u,d),d});return function(u,d){return l.apply(this,arguments)}}();return{render(l,a){const u=s.get(a);return void 0!==u?Promise.resolve(u):c(l,a)}}})(Xe,$i,_e,Je,xe),ad=((t,r,e,n,o,s,c,l)=>class extends t{constructor(u,d){const h=s(u),m={...aa,...d},f=n(h,m),p=c(h);super(u,!1,f,p?e():null),this._attack=r(this,p,f.attack),this._knee=r(this,p,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=r(this,p,f.ratio),this._release=r(this,p,f.release),this._threshold=r(this,p,f.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const d=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=d,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const d=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,"max"===u)throw this._nativeDynamicsCompressorNode.channelCountMode=d,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(we,Qe,sd,$i,Ee,me,ue,vt),cd=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(a,u){let d=e(a);const h=Re(d,u);return h||(d=r(u,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value})),s.set(u,d),h?yield t(u,a.gain,d.gain):yield n(u,a.gain,d.gain),yield o(a,u,d),d});return function(u,d){return l.apply(this,arguments)}}();return{render(l,a){const u=s.get(a);return void 0!==u?Promise.resolve(u):c(l,a)}}})(Xe,Le,_e,Je,xe),ld=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=o(l),d={...fa,...a},h=n(u,d),m=s(u);super(l,!1,h,m?e():null),this._gain=r(this,m,h.gain,Oe,Be)}get gain(){return this._gain}})(we,Qe,cd,Le,me,ue),dd=((t,r,e,n)=>(o,s,{channelCount:c,channelCountMode:l,channelInterpretation:a,feedback:u,feedforward:d})=>{const h=Pi(s,o.sampleRate),m=u instanceof Float64Array?u:new Float64Array(u),f=d instanceof Float64Array?d:new Float64Array(d),p=m.length,_=f.length,v=Math.min(p,_);if(0===p||p>20)throw n();if(0===m[0])throw r();if(0===_||_>20)throw n();if(0===f[0])throw r();if(1!==m[0]){for(let w=0;w<_;w+=1)f[w]/=m[0];for(let w=1;w<p;w+=1)m[w]/=m[0]}const b=e(o,h,c,c);b.channelCount=c,b.channelCountMode=l,b.channelInterpretation=a;const I=[],k=[],g=[];for(let w=0;w<c;w+=1){I.push(0);const A=new Float32Array(32),N=new Float32Array(32);A.fill(0),N.fill(0),k.push(A),g.push(N)}b.onaudioprocess=w=>{const A=w.inputBuffer,N=w.outputBuffer,R=A.numberOfChannels;for(let S=0;S<R;S+=1){const F=A.getChannelData(S),U=N.getChannelData(S);I[S]=Ri(m,p,f,_,v,k[S],g[S],I[S],32,F,U)}};const T=o.sampleRate/2;return It({get bufferSize(){return h},get channelCount(){return b.channelCount},set channelCount(w){b.channelCount=w},get channelCountMode(){return b.channelCountMode},set channelCountMode(w){b.channelCountMode=w},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(w){b.channelInterpretation=w},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},addEventListener:(...w)=>b.addEventListener(w[0],w[1],w[2]),dispatchEvent:(...w)=>b.dispatchEvent(w[0]),getFrequencyResponse(w,A,N){if(w.length!==A.length||A.length!==N.length)throw t();const R=w.length;for(let S=0;S<R;S+=1){const F=-Math.PI*(w[S]/T),U=[Math.cos(F),Math.sin(F)],Y=yc(Fi(f,U),Fi(m,U));A[S]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),N[S]=Math.atan2(Y[1],Y[0])}},removeEventListener:(...w)=>b.removeEventListener(w[0],w[1],w[2])},b)})(ln,Te,Ht,Ee),un=((t,r,e,n)=>o=>t(gt,()=>gt(o))?Promise.resolve(t(n,n)).then(s=>{if(!s){const c=e(o,512,0,1);o.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>o.currentTime,c.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const c=r(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{c.disconnect(),s(l.renderedBuffer)},c.connect(o.destination),o.startRendering()}))(Ve,Le,Ht,((t,r)=>()=>{if(null===r)return Promise.resolve(!1);const e=new r(1,1,44100),n=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{e.oncomplete=()=>{n.disconnect(),o(0!==e.currentTime)},e.startRendering()})})(Le,Ne)),ud=((t,r,e,n,o)=>(s,c)=>{const l=new WeakMap;let a=null;const u=function(){var d=ee(function*(h,m){let f=null,p=r(h);const _=Re(p,m);if(void 0===m.createIIRFilter?f=t(m,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):_||(p=m.createIIRFilter(c,s)),l.set(m,null===f?p:f),null!==f){if(null===a){if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new e(h.context.destination.channelCount,h.context.length,m.sampleRate);a=ee(function*(){return yield n(h,b,b.destination),((t,r,e,n)=>{const o=e instanceof Float64Array?e:new Float64Array(e),s=n instanceof Float64Array?n:new Float64Array(n),c=o.length,l=s.length,a=Math.min(c,l);if(1!==o[0]){for(let p=0;p<c;p+=1)s[p]/=o[0];for(let p=1;p<l;p+=1)o[p]/=o[0]}const d=new Float32Array(32),h=new Float32Array(32),m=r.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let p=0;p<f;p+=1){const _=t.getChannelData(p),v=m.getChannelData(p);d.fill(0),h.fill(0),Ri(o,c,s,l,a,d,h,0,32,_,v)}return m})(yield o(b),m,s,c)})()}const v=yield a;return f.buffer=v,f.start(0),f}return yield n(h,m,p),p});return function(m,f){return d.apply(this,arguments)}}();return{render(d,h){const m=l.get(h);return void 0!==m?Promise.resolve(m):u(d,h)}}})(At,_e,Ne,xe,un),hd=(t=>(r,e,n)=>{if(void 0===r.createIIRFilter)return t(r,e,n);const o=r.createIIRFilter(n.feedforward,n.feedback);return Se(o,n),o})(dd),md=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=n(l),d=o(u),h={...ka,...a},m=r(u,d?null:l.baseLatency,h);super(l,!1,m,d?e(h.feedback,h.feedforward):null),(t=>{var r;t.getFrequencyResponse=(r=t.getFrequencyResponse,(e,n,o)=>{if(e.length!==n.length||n.length!==o.length)throw ln();return r.call(t,e,n,o)})})(m),this._nativeIIRFilterNode=m,s(this,1)}getFrequencyResponse(l,a,u){return this._nativeIIRFilterNode.getFrequencyResponse(l,a,u)}})(we,hd,ud,me,ue,vt),pd=((t,r,e,n,o,s,c,l)=>(a,u)=>{const d=u.listener,{forwardX:m,forwardY:f,forwardZ:p,positionX:_,positionY:v,positionZ:b,upX:y,upY:I,upZ:k}=void 0===d.forwardX?(()=>{const g=new Float32Array(1),T=r(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=c(u);let w=!1,A=[0,0,-1,0,1,0],N=[0,0,0];const R=()=>{if(w)return;w=!0;const W=n(u,256,9,0);W.onaudioprocess=({inputBuffer:V})=>{const Y=[s(V,g,0),s(V,g,1),s(V,g,2),s(V,g,3),s(V,g,4),s(V,g,5)];Y.some((H,K)=>H!==A[K])&&(d.setOrientation(...Y),A=Y);const Q=[s(V,g,6),s(V,g,7),s(V,g,8)];Q.some((H,K)=>H!==N[K])&&(d.setPosition(...Q),N=Q)},T.connect(W)},S=W=>V=>{V!==A[W]&&(A[W]=V,d.setOrientation(...A))},F=W=>V=>{V!==N[W]&&(N[W]=V,d.setPosition(...N))},U=(W,V,Y)=>{const Q=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});Q.connect(T,0,W),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get:()=>V});const H=t({context:a},C,Q.offset,Oe,Be);return l(H,"value",K=>()=>K.call(H),K=>$=>{try{K.call(H,$)}catch(pe){if(9!==pe.code)throw pe}R(),C&&Y($)}),H.cancelAndHoldAtTime=(K=H.cancelAndHoldAtTime,C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe}),H.cancelScheduledValues=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.cancelScheduledValues),H.exponentialRampToValueAtTime=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.exponentialRampToValueAtTime),H.linearRampToValueAtTime=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.linearRampToValueAtTime),H.setTargetAtTime=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.setTargetAtTime),H.setValueAtTime=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.setValueAtTime),H.setValueCurveAtTime=(K=>C?()=>{throw o()}:(...$)=>{const pe=K.apply(H,$);return R(),pe})(H.setValueCurveAtTime),H;var K};return{forwardX:U(0,0,S(0)),forwardY:U(1,0,S(1)),forwardZ:U(2,-1,S(2)),positionX:U(6,0,F(0)),positionY:U(7,0,F(1)),positionZ:U(8,0,F(2)),upX:U(3,0,S(3)),upY:U(4,1,S(4)),upZ:U(5,0,S(5))}})():d;return{get forwardX(){return m},get forwardY(){return f},get forwardZ(){return p},get positionX(){return _},get positionY(){return v},get positionZ(){return b},get upX(){return y},get upY(){return I},get upZ(){return k}}})(Qe,lt,xt,Ht,Ee,Li,ue,Qt),Ki=new WeakMap,Hn=((t,r,e,n,o,s)=>class extends e{constructor(l,a){super(l),this._nativeContext=l,Jt.set(this,l),n(l)&&o.set(l,new Set),this._destination=new t(this,a),this._listener=r(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const a="function"==typeof l?s(this,l):null;this._nativeContext.onstatechange=a;const u=this._nativeContext.onstatechange;this._onstatechange=null!==u&&u===a?l:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Hl,pd,Qi,ue,Ki,kt),er=((t,r,e,n,o,s)=>(c,l)=>{const a=c.createOscillator();return Se(a,l),ye(a,l,"detune"),ye(a,l,"frequency"),void 0!==l.periodicWave?a.setPeriodicWave(l.periodicWave):ge(a,l,"type"),r(e,()=>e(c))||Dn(a),r(n,()=>n(c))||s(a,c),r(o,()=>o(c))||Fn(a),t(c,a),a})(dn,Ve,Bn,Zi,Ln,Wi),fd=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null,a=null;const u=function(){var d=ee(function*(h,m){let f=e(h);const p=Re(f,m);return p||(f=r(m,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===c?void 0:c,type:f.type}),null!==l&&f.start(l),null!==a&&f.stop(a)),s.set(m,f),p?(yield t(m,h.detune,f.detune),yield t(m,h.frequency,f.frequency)):(yield n(m,h.detune,f.detune),yield n(m,h.frequency,f.frequency)),yield o(h,m,f),f});return function(m,f){return d.apply(this,arguments)}}();return{set periodicWave(d){c=d},set start(d){l=d},set stop(d){a=d},render(d,h){const m=s.get(h);return void 0!==m?Promise.resolve(m):u(d,h)}}})(Xe,er,_e,Je,xe),_d=((t,r,e,n,o,s,c)=>class extends t{constructor(a,u){const d=o(a),h={...Lc,...u},m=e(d,h),f=s(d),p=f?n():null,_=a.sampleRate/2;super(a,!1,m,p),this._detune=r(this,f,m.detune,153600,-153600),this._frequency=r(this,f,m.frequency,_,-_),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const u="function"==typeof a?c(this,a):null;this._nativeOscillatorNode.onended=u;const d=this._nativeOscillatorNode.onended;this._onended=null!==d&&d===u?a:d}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=a),"closed"!==this.context.state){St(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),tt(this)&&Ut(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(a=0){this._nativeOscillatorNode.stop(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=a)}})(we,Qe,er,fd,me,ue,kt),tr=(t=>(r,e)=>{const n=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=r.createBuffer(1,2,44100);return n.buffer=o,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}})(At),bd=((t,r,e,n,o)=>(s,{curve:c,oversample:l,...a})=>{const u=s.createWaveShaper(),d=s.createWaveShaper();Se(u,a),Se(d,a);const h=e(s,{...a,gain:1}),m=e(s,{...a,gain:-1}),f=e(s,{...a,gain:1}),p=e(s,{...a,gain:-1});let _=null,v=!1,b=null;const y={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){h.channelCount=g,m.channelCount=g,u.channelCount=g,f.channelCount=g,d.channelCount=g,p.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){h.channelCountMode=g,m.channelCountMode=g,u.channelCountMode=g,f.channelCountMode=g,d.channelCountMode=g,p.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){h.channelInterpretation=g,m.channelInterpretation=g,u.channelInterpretation=g,f.channelInterpretation=g,d.channelInterpretation=g,p.channelInterpretation=g},get context(){return u.context},get curve(){return b},set curve(g){if(null!==g&&g.length<2)throw r();if(null===g)u.curve=g,d.curve=g;else{const T=g.length,C=new Float32Array(T+2-T%2),w=new Float32Array(T+2-T%2);C[0]=g[0],w[0]=-g[T-1];const A=Math.ceil((T+1)/2),N=(T+1)/2-1;for(let R=1;R<A;R+=1){const S=R/A*N,F=Math.floor(S),U=Math.ceil(S);C[R]=F===U?g[F]:(1-(S-F))*g[F]+(1-(U-S))*g[U],w[R]=F===U?-g[T-1-F]:-(1-(S-F))*g[T-1-F]-(1-(U-S))*g[T-1-U]}C[A]=T%2==1?g[A-1]:(g[A-2]+g[A-1])/2,u.curve=C,d.curve=w}b=g,v&&(n(b)&&null===_?_=t(s,h):null!==_&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(g){u.oversample=g,d.oversample=g},addEventListener:(...g)=>h.addEventListener(g[0],g[1],g[2]),dispatchEvent:(...g)=>h.dispatchEvent(g[0]),removeEventListener:(...g)=>h.removeEventListener(g[0],g[1],g[2])};return null!==c&&(y.curve=c instanceof Float32Array?c:new Float32Array(c)),l!==y.oversample&&(y.oversample=l),o(It(y,f),()=>{h.connect(u).connect(f),h.connect(m).connect(d).connect(p).connect(f),v=!0,n(b)&&(_=t(s,h))},()=>{h.disconnect(u),u.disconnect(f),h.disconnect(m),m.disconnect(d),d.disconnect(p),p.disconnect(f),v=!1,null!==_&&(_(),_=null)})})(tr,Te,Le,Vi,ct),hn=((t,r,e,n,o,s,c)=>(l,a)=>{const u=l.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===l.createGain().gain.automationRate)return e(l,a);Se(u,a);const d=null===a.curve||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(null!==d&&d.length<2)throw r();ge(u,{curve:d},"curve"),ge(u,a,"oversample");let h=null,m=!1;return c(u,"curve",_=>()=>_.call(u),_=>v=>(_.call(u,v),m&&(n(v)&&null===h?h=t(l,u):!n(v)&&null!==h&&(h(),h=null)),v)),o(u,()=>{m=!0,n(u.curve)&&(h=t(l,u))},()=>{m=!1,null!==h&&(h(),h=null)})})(tr,Te,bd,Vi,ct,nt,Qt),gd=((t,r,e,n,o,s,c,l,a,u)=>(d,{coneInnerAngle:h,coneOuterAngle:m,coneOuterGain:f,distanceModel:p,maxDistance:_,orientationX:v,orientationY:b,orientationZ:y,panningModel:I,positionX:k,positionY:g,positionZ:T,refDistance:C,rolloffFactor:w,...A})=>{const N=d.createPanner();if(A.channelCount>2||"max"===A.channelCountMode)throw c();Se(N,A);const R={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S=e(d,{...R,channelInterpretation:"speakers",numberOfInputs:6}),F=n(d,{...A,gain:1}),U=n(d,{...R,gain:1}),W=n(d,{...R,gain:0}),V=n(d,{...R,gain:0}),Y=n(d,{...R,gain:0}),Q=n(d,{...R,gain:0}),H=n(d,{...R,gain:0}),K=o(d,256,6,1),$=s(d,{...R,curve:new Float32Array([1,1]),oversample:"none"});let pe=[v,b,y],Me=[k,g,T];const Fe=new Float32Array(1);K.onaudioprocess=({inputBuffer:O})=>{const Ie=[a(O,Fe,0),a(O,Fe,1),a(O,Fe,2)];Ie.some((Pt,Ot)=>Pt!==pe[Ot])&&(N.setOrientation(...Ie),pe=Ie);const ze=[a(O,Fe,3),a(O,Fe,4),a(O,Fe,5)];ze.some((Pt,Ot)=>Pt!==Me[Ot])&&(N.setPosition(...ze),Me=ze)},Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0});const te={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(O){if(O>2)throw c();F.channelCount=O,N.channelCount=O},get channelCountMode(){return N.channelCountMode},set channelCountMode(O){if("max"===O)throw c();F.channelCountMode=O,N.channelCountMode=O},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(O){F.channelInterpretation=O,N.channelInterpretation=O},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(O){N.coneInnerAngle=O},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(O){N.coneOuterAngle=O},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(O){if(O<0||O>1)throw r();N.coneOuterGain=O},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(O){N.distanceModel=O},get inputs(){return[F]},get maxDistance(){return N.maxDistance},set maxDistance(O){if(O<0)throw new RangeError;N.maxDistance=O},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return W.gain},get orientationZ(){return V.gain},get panningModel(){return N.panningModel},set panningModel(O){N.panningModel=O},get positionX(){return Y.gain},get positionY(){return Q.gain},get positionZ(){return H.gain},get refDistance(){return N.refDistance},set refDistance(O){if(O<0)throw new RangeError;N.refDistance=O},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(O){if(O<0)throw new RangeError;N.rolloffFactor=O},addEventListener:(...O)=>F.addEventListener(O[0],O[1],O[2]),dispatchEvent:(...O)=>F.dispatchEvent(O[0]),removeEventListener:(...O)=>F.removeEventListener(O[0],O[1],O[2])};return h!==te.coneInnerAngle&&(te.coneInnerAngle=h),m!==te.coneOuterAngle&&(te.coneOuterAngle=m),f!==te.coneOuterGain&&(te.coneOuterGain=f),p!==te.distanceModel&&(te.distanceModel=p),_!==te.maxDistance&&(te.maxDistance=_),v!==te.orientationX.value&&(te.orientationX.value=v),b!==te.orientationY.value&&(te.orientationY.value=b),y!==te.orientationZ.value&&(te.orientationZ.value=y),I!==te.panningModel&&(te.panningModel=I),k!==te.positionX.value&&(te.positionX.value=k),g!==te.positionY.value&&(te.positionY.value=g),T!==te.positionZ.value&&(te.positionZ.value=T),C!==te.refDistance&&(te.refDistance=C),w!==te.rolloffFactor&&(te.rolloffFactor=w),(1!==pe[0]||0!==pe[1]||0!==pe[2])&&N.setOrientation(...pe),(0!==Me[0]||0!==Me[1]||0!==Me[2])&&N.setPosition(...Me),u(It(te,N),()=>{F.connect(N),t(F,$,0,0),$.connect(U).connect(S,0,0),$.connect(W).connect(S,0,1),$.connect(V).connect(S,0,2),$.connect(Y).connect(S,0,3),$.connect(Q).connect(S,0,4),$.connect(H).connect(S,0,5),S.connect(K).connect(d.destination)},()=>{F.disconnect(N),l(F,$,0,0),$.disconnect(U),U.disconnect(S),$.disconnect(W),W.disconnect(S),$.disconnect(V),V.disconnect(S),$.disconnect(Y),Y.disconnect(S),$.disconnect(Q),Q.disconnect(S),$.disconnect(H),H.disconnect(S),S.disconnect(K),K.disconnect(d.destination)})})(tn,Te,lt,Le,Ht,hn,Ee,nn,Li,ct),nr=(t=>(r,e)=>{const n=r.createPanner();return void 0===n.orientationX?t(r,e):(Se(n,e),ye(n,e,"orientationX"),ye(n,e,"orientationY"),ye(n,e,"orientationZ"),ye(n,e,"positionX"),ye(n,e,"positionY"),ye(n,e,"positionZ"),ge(n,e,"coneInnerAngle"),ge(n,e,"coneOuterAngle"),ge(n,e,"coneOuterGain"),ge(n,e,"distanceModel"),ge(n,e,"maxDistance"),ge(n,e,"panningModel"),ge(n,e,"refDistance"),ge(n,e,"rolloffFactor"),n)})(gd),vd=((t,r,e,n,o,s,c,l,a,u)=>()=>{const d=new WeakMap;let h=null;const m=function(){var f=ee(function*(p,_){let v=null,b=s(p);const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},I={...y,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},k=Re(b,_);if("bufferSize"in b)v=n(_,{...y,gain:1});else if(!k){const g={...I,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=o(_,g)}if(d.set(_,null===v?b:v),null!==v){if(null===h){if(null===c)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new c(6,p.context.length,_.sampleRate),F=r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});F.connect(S.destination),h=ee(function*(){const U=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var W=ee(function*(V,Y){const Q=e(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===Y?1:0});return yield l(S,V,Q.offset),Q});return function(V,Y){return W.apply(this,arguments)}}()));for(let W=0;W<6;W+=1)U[W].connect(F,0,W),U[W].start(0);return u(S)})()}const g=yield h,T=n(_,{...y,gain:1});yield a(p,_,T);const C=[];for(let S=0;S<g.numberOfChannels;S+=1)C.push(g.getChannelData(S));let w=[C[0][0],C[1][0],C[2][0]],A=[C[3][0],C[4][0],C[5][0]],N=n(_,{...y,gain:1}),R=o(_,{...I,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:A[0],positionY:A[1],positionZ:A[2]});T.connect(N).connect(R.inputs[0]),R.connect(v);for(let S=128;S<g.length;S+=128){const F=[C[0][S],C[1][S],C[2][S]],U=[C[3][S],C[4][S],C[5][S]];if(F.some((W,V)=>W!==w[V])||U.some((W,V)=>W!==A[V])){w=F,A=U;const W=S/_.sampleRate;N.gain.setValueAtTime(0,W),N=n(_,{...y,gain:0}),R=o(_,{...I,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:A[0],positionY:A[1],positionZ:A[2]}),N.gain.setValueAtTime(1,W),T.connect(N).connect(R.inputs[0]),R.connect(v)}}return v}return k?(yield t(_,p.orientationX,b.orientationX),yield t(_,p.orientationY,b.orientationY),yield t(_,p.orientationZ,b.orientationZ),yield t(_,p.positionX,b.positionX),yield t(_,p.positionY,b.positionY),yield t(_,p.positionZ,b.positionZ)):(yield l(_,p.orientationX,b.orientationX),yield l(_,p.orientationY,b.orientationY),yield l(_,p.orientationZ,b.orientationZ),yield l(_,p.positionX,b.positionX),yield l(_,p.positionY,b.positionY),yield l(_,p.positionZ,b.positionZ)),Mt(b)?yield a(p,_,b.inputs[0]):yield a(p,_,b),b});return function(_,v){return f.apply(this,arguments)}}();return{render(f,p){const _=d.get(p);return void 0!==_?Promise.resolve(_):m(f,p)}}})(Xe,lt,xt,Le,nr,_e,Ne,Je,xe,un),yd=((t,r,e,n,o,s,c)=>class extends t{constructor(a,u){const d=o(a),h={...Zc,...u},m=e(d,h),f=s(d);super(a,!1,m,f?n():null),this._nativePannerNode=m,this._orientationX=r(this,f,m.orientationX,Oe,Be),this._orientationY=r(this,f,m.orientationY,Oe,Be),this._orientationZ=r(this,f,m.orientationZ,Oe,Be),this._positionX=r(this,f,m.positionX,Oe,Be),this._positionY=r(this,f,m.positionY,Oe,Be),this._positionZ=r(this,f,m.positionZ,Oe,Be),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}})(we,Qe,nr,vd,me,ue,vt),Cd=(t=>(r,{disableNormalization:e,imag:n,real:o})=>{const s=n instanceof Float32Array?n:new Float32Array(n),c=o instanceof Float32Array?o:new Float32Array(o),l=r.createPeriodicWave(c,s,{disableNormalization:e});if(Array.from(n).length<2)throw t();return l})(je),wd=((t,r,e,n)=>class Wr{constructor(s,c){const l=r(s),a=(t=>{const{imag:r,real:e}=t;return void 0===r?void 0===e?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(e,()=>0),real:e}:void 0===e?{...t,imag:r,real:Array.from(r,()=>0)}:{...t,imag:r,real:e}})({...Gc,...c}),u=t(l,a);return e.add(u),u}static[Symbol.hasInstance](s){return null!==s&&"object"==typeof s&&Object.getPrototypeOf(s)===Wr.prototype||e.has(s)}})(Cd,me,new WeakSet),Td=((t,r,e,n,o,s)=>{const l=new Float32Array([1,1]),a=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},d={...u,oversample:"none"},f=(p,_,v,b,y)=>{if(1===_)return((p,_,v,b)=>{const y=new Float32Array(16385),I=new Float32Array(16385);for(let A=0;A<16385;A+=1){const N=A/16384*a;y[A]=Math.cos(N),I[A]=Math.sin(N)}const k=e(p,{...u,gain:0}),g=n(p,{...d,curve:y}),T=n(p,{...d,curve:l}),C=e(p,{...u,gain:0}),w=n(p,{...d,curve:I});return{connectGraph(){_.connect(k),_.connect(void 0===T.inputs?T:T.inputs[0]),_.connect(C),T.connect(v),v.connect(void 0===g.inputs?g:g.inputs[0]),v.connect(void 0===w.inputs?w:w.inputs[0]),g.connect(k.gain),w.connect(C.gain),k.connect(b,0,0),C.connect(b,0,1)},disconnectGraph(){_.disconnect(k),_.disconnect(void 0===T.inputs?T:T.inputs[0]),_.disconnect(C),T.disconnect(v),v.disconnect(void 0===g.inputs?g:g.inputs[0]),v.disconnect(void 0===w.inputs?w:w.inputs[0]),g.disconnect(k.gain),w.disconnect(C.gain),k.disconnect(b,0,0),C.disconnect(b,0,1)}}})(p,v,b,y);if(2===_)return((p,_,v,b)=>{const y=new Float32Array(16385),I=new Float32Array(16385),k=new Float32Array(16385),g=new Float32Array(16385),T=Math.floor(8192.5);for(let Y=0;Y<16385;Y+=1)if(Y>T){const Q=(Y-T)/(16384-T)*a;y[Y]=Math.cos(Q),I[Y]=Math.sin(Q),k[Y]=0,g[Y]=1}else{const Q=Y/(16384-T)*a;y[Y]=1,I[Y]=0,k[Y]=Math.cos(Q),g[Y]=Math.sin(Q)}const C=r(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=e(p,{...u,gain:0}),A=n(p,{...d,curve:y}),N=e(p,{...u,gain:0}),R=n(p,{...d,curve:I}),S=n(p,{...d,curve:l}),F=e(p,{...u,gain:0}),U=n(p,{...d,curve:k}),W=e(p,{...u,gain:0}),V=n(p,{...d,curve:g});return{connectGraph(){_.connect(C),_.connect(void 0===S.inputs?S:S.inputs[0]),C.connect(w,0),C.connect(N,0),C.connect(F,1),C.connect(W,1),S.connect(v),v.connect(void 0===A.inputs?A:A.inputs[0]),v.connect(void 0===R.inputs?R:R.inputs[0]),v.connect(void 0===U.inputs?U:U.inputs[0]),v.connect(void 0===V.inputs?V:V.inputs[0]),A.connect(w.gain),R.connect(N.gain),U.connect(F.gain),V.connect(W.gain),w.connect(b,0,0),F.connect(b,0,0),N.connect(b,0,1),W.connect(b,0,1)},disconnectGraph(){_.disconnect(C),_.disconnect(void 0===S.inputs?S:S.inputs[0]),C.disconnect(w,0),C.disconnect(N,0),C.disconnect(F,1),C.disconnect(W,1),S.disconnect(v),v.disconnect(void 0===A.inputs?A:A.inputs[0]),v.disconnect(void 0===R.inputs?R:R.inputs[0]),v.disconnect(void 0===U.inputs?U:U.inputs[0]),v.disconnect(void 0===V.inputs?V:V.inputs[0]),A.disconnect(w.gain),R.disconnect(N.gain),U.disconnect(F.gain),V.disconnect(W.gain),w.disconnect(b,0,0),F.disconnect(b,0,0),N.disconnect(b,0,1),W.disconnect(b,0,1)}}})(p,v,b,y);throw o()};return(p,{channelCount:_,channelCountMode:v,pan:b,...y})=>{if("max"===v)throw o();const I=t(p,{...y,channelCount:1,channelCountMode:v,numberOfInputs:2}),k=e(p,{...y,channelCount:_,channelCountMode:v,gain:1}),g=e(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:b});let{connectGraph:T,disconnectGraph:C}=f(p,_,k,g,I);Object.defineProperty(g.gain,"defaultValue",{get:()=>0}),Object.defineProperty(g.gain,"maxValue",{get:()=>1}),Object.defineProperty(g.gain,"minValue",{get:()=>-1});const w={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(S){k.channelCount!==S&&(A&&C(),({connectGraph:T,disconnectGraph:C}=f(p,S,k,g,I)),A&&T()),k.channelCount=S},get channelCountMode(){return k.channelCountMode},set channelCountMode(S){if("clamped-max"===S||"max"===S)throw o();k.channelCountMode=S},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(S){k.channelInterpretation=S},get context(){return k.context},get inputs(){return[k]},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get pan(){return g.gain},addEventListener:(...S)=>k.addEventListener(S[0],S[1],S[2]),dispatchEvent:(...S)=>k.dispatchEvent(S[0]),removeEventListener:(...S)=>k.removeEventListener(S[0],S[1],S[2])};let A=!1;return s(It(w,I),()=>{T(),A=!0},()=>{C(),A=!1})}})(lt,Gt,Le,hn,Ee,ct),ir=((t,r)=>(e,n)=>{const o=n.channelCountMode;if("clamped-max"===o)throw r();if(void 0===e.createStereoPanner)return t(e,n);const s=e.createStereoPanner();return Se(s,n),ye(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>o,set:c=>{if(c!==o)throw r()}}),s})(Td,Ee),Sd=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(a,u){let d=e(a);const h=Re(d,u);return h||(d=r(u,{channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value})),s.set(u,d),h?yield t(u,a.pan,d.pan):yield n(u,a.pan,d.pan),Mt(d)?yield o(a,u,d.inputs[0]):yield o(a,u,d),d});return function(u,d){return l.apply(this,arguments)}}();return{render(l,a){const u=s.get(a);return void 0!==u?Promise.resolve(u):c(l,a)}}})(Xe,ir,_e,Je,xe),Md=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const u=o(l),d={...Kc,...a},h=e(u,d),m=s(u);super(l,!1,h,m?n():null),this._pan=r(this,m,h.pan)}get pan(){return this._pan}})(we,Qe,ir,Sd,me,ue),Id=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let a=r(c);return Re(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),n.set(l,a),Mt(a)?yield e(c,l,a.inputs[0]):yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(hn,_e,xe),kd=((t,r,e,n,o,s,c)=>class extends t{constructor(a,u){const d=o(a),h={...gl,...u},m=e(d,h);super(a,!0,m,s(d)?n():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(null===a)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}})(we,Te,hn,Id,me,ue,vt),rr=(t=>null!==t&&t.isSecureContext)(He),Qn=(t=>(r,e,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(r*e)},currentTime:{configurable:!0,get:()=>r}});try{return n()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(He),or=new WeakMap,Nd=((t,r)=>e=>{let n=t.get(e);if(void 0!==n)return n;if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new r(1,1,44100),t.set(e,n),n})(or,Ne),Ad=rr?((t,r,e,n,o,s,c,l,a,u,d,h,m)=>{let f=0;return(p,_,v={credentials:"omit"})=>{const b=d.get(p);if(void 0!==b&&b.has(_))return Promise.resolve();const y=u.get(p);if(void 0!==y){const g=y.get(_);if(void 0!==g)return g}const I=s(p),k=void 0===I.audioWorklet?o(_).then(([g,T])=>{const[C,w]=_i(g,T);return e(`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}\n})})(window,'_AWGS')`)}).then(()=>{const g=m._AWGS.pop();if(void 0===g)throw new SyntaxError;n(I.currentTime,I.sampleRate,()=>g(class{},void 0,(T,C)=>{if(""===T.trim())throw r();const w=kn.get(I);if(void 0!==w){if(w.has(T))throw r();gi(C),bi(C.parameterDescriptors),w.set(T,C)}else gi(C),bi(C.parameterDescriptors),kn.set(I,new Map([[T,C]]))},I.sampleRate,void 0,void 0))}):Promise.all([o(_),Promise.resolve(t(h,h))]).then(([[g,T],C])=>{const w=f+1;f=w;const[A,N]=_i(g,T),W=new Blob([`${A};((AudioWorkletProcessor,registerProcessor)=>{${N}\n})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(W);return I.audioWorklet.addModule(V,v).then(()=>{if(l(I))return I;const Y=c(I);return Y.audioWorklet.addModule(V,v).then(()=>Y)}).then(Y=>{if(null===a)throw new SyntaxError;try{new a(Y,`__sac${w}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return void 0===y?u.set(p,new Map([[_,k]])):y.set(_,k),k.then(()=>{const g=d.get(p);void 0===g?d.set(p,new Set([_])):g.add(_)}).finally(()=>{const g=u.get(p);void 0!==g&&g.delete(_)}),k}})(Ve,Ee,(t=>r=>new Promise((e,n)=>{if(null===t)return void n(new SyntaxError);const o=t.document.head;if(null===o)n(new SyntaxError);else{const s=t.document.createElement("script"),c=new Blob([r],{type:"application/javascript"}),l=URL.createObjectURL(c),a=t.onerror,u=()=>{t.onerror=a,URL.revokeObjectURL(l)};t.onerror=(d,h,m,f,p)=>h===l||h===t.location.href&&1===m&&1===f?(u(),n(p),!1):null!==a?a(d,h,m,f,p):void 0,s.onerror=()=>{u(),n(new SyntaxError)},s.onload=()=>{u(),e()},s.src=l,s.type="module",o.appendChild(s)}}))(He),Qn,function(){var r=ee(function*(e){try{const n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch{}throw new DOMException("","AbortError")});return function(e){return r.apply(this,arguments)}}(),me,Nd,ue,Nt,new WeakMap,new WeakMap,((t,r)=>ee(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new r(1,128,44100),o=URL.createObjectURL(e);let s=!1,c=!1;try{yield n.audioWorklet.addModule(o);const l=new t(n,"a",{numberOfOutputs:0}),a=n.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>c=!0,a.connect(l),a.start(0),yield n.startRendering()}catch{}finally{URL.revokeObjectURL(o)}return s&&!c}))(Nt,Ne),He):void 0,xd=((t,r)=>e=>t(e)||r(e))(Un,ue),Rd=((t,r,e,n,o,s,c,l,a,u,d)=>(h,m)=>{const f=c(h)?h:s(h);if(o.has(m)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{o.add(m)}catch{}return r(a,()=>a(f))?f.decodeAudioData(m).then(p=>(xi(m).catch(()=>{}),r(l,()=>l(p))||d(p),t.add(p),p)):new Promise((p,_)=>{const v=function(){var y=ee(function*(){try{yield xi(m)}catch{}});return function(){return y.apply(this,arguments)}}(),b=y=>{_(y),v()};try{f.decodeAudioData(m,y=>{"function"!=typeof y.copyFromChannel&&(u(y),xn(y)),t.add(y),v().then(()=>p(y))},y=>{b(null===y?new DOMException("","EncodingError"):y)})}catch(y){b(y)}})})(Wn,Ve,0,0,new WeakSet,me,xd,$t,gt,Yn,Gn),sr=((t,r,e,n,o,s,c,l,a,u,d,h,m,f,p,_,v,b,y,I)=>class extends p{constructor(g,T){super(g,T),this._nativeContext=g,this._audioWorklet=void 0===t?void 0:{addModule:(C,w)=>t(this,C,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new o(this)}createBuffer(g,T,C){return new e({length:T,numberOfChannels:g,sampleRate:C})}createBufferSource(){return new n(this)}createChannelMerger(g=6){return new s(this,{numberOfInputs:g})}createChannelSplitter(g=6){return new c(this,{numberOfOutputs:g})}createConstantSource(){return new l(this)}createConvolver(){return new a(this)}createDelay(g=1){return new d(this,{maxDelayTime:g})}createDynamicsCompressor(){return new h(this)}createGain(){return new m(this)}createIIRFilter(g,T){return new f(this,{feedback:T,feedforward:g})}createOscillator(){return new _(this)}createPanner(){return new v(this)}createPeriodicWave(g,T,C={disableNormalization:!1}){return new b(this,{...C,imag:T,real:g})}createStereoPanner(){return new y(this)}createWaveShaper(){return new I(this)}decodeAudioData(g,T,C){return u(this._nativeContext,g).then(w=>("function"==typeof T&&T(w),w),w=>{throw"function"==typeof C&&C(w),w})}})(Ad,Zl,Wl,Gl,ql,Jl,$l,td,id,Rd,od,ad,ld,md,Hn,_d,yd,wd,Md,kd),Ed=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),a=((t,r)=>t.createMediaElementSource(r.mediaElement))(l,c);if(n(l))throw TypeError();super(s,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(we,0,me,ue),Pd=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s);if(n(l))throw new TypeError;const u=((t,r)=>{const e=t.createMediaStreamDestination();return Se(e,r),1===e.numberOfOutputs&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e})(l,{...Ga,...c});super(s,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(we,0,me,ue),Od=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),a=((t,{mediaStream:r})=>{const e=r.getAudioTracks();e.sort((s,c)=>s.id<c.id?-1:s.id>c.id?1:0);const n=e.slice(0,1),o=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(o,"mediaStream",{value:r}),o})(l,c);if(n(l))throw new TypeError;super(s,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(we,0,me,ue),Dd=((t,r)=>(e,{mediaStreamTrack:n})=>{if("function"==typeof e.createMediaStreamTrackSource)return e.createMediaStreamTrackSource(n);const o=new MediaStream([n]),s=e.createMediaStreamSource(o);if("audio"!==n.kind)throw t();if(r(e))throw new TypeError;return s})(Te,ue),Fd=((t,r,e)=>class extends t{constructor(o,s){const c=e(o);super(o,!0,r(c,s),null)}})(we,Dd,me),ar=((t,r,e,n,o,s,c,l,a)=>class extends t{constructor(d={}){if(null===a)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new a(d)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?e():p}if(null===h)throw n();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(d.latencyHint))throw new TypeError(`The provided value '${d.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==d.sampleRate&&h.sampleRate!==d.sampleRate)throw e();super(h,2);const{latencyHint:m}=d,{sampleRate:f}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===m?512/f:"interactive"===m||void 0===m?256/f:"playback"===m?1024/f:128*Math.max(2,Math.min(128,Math.round(m*f/128)))/f,this._nativeAudioContext=h,"webkitAudioContext"===a.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw r()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),(t=>{Rn(t.destination,[])})(this)}))}createMediaElementSource(d){return new o(this,{mediaElement:d})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(d){return new c(this,{mediaStream:d})}createMediaStreamTrackSource(d){return new l(this,{mediaStreamTrack:d})}resume(){return"suspended"===this._state?new Promise((d,h)=>{const m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),"running"===this._nativeAudioContext.state?d():this.resume().then(d,h)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(d=>{throw void 0===d||15===d.code?r():d})}suspend(){return this._nativeAudioContext.suspend().catch(d=>{throw void 0===d?r():d})}})(sr,Te,Ee,Bi,Ed,Pd,Od,Fd,nt),qn=(t=>r=>{const e=t.get(r);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e})(Ki),cr=((t=>{})(qn),(t=>(r,e,n=0,o=0)=>{const s=r[n];if(void 0===s)throw t();return on(e)?s.connect(e,0,o):s.connect(e,0)})(je)),Ld=(t=>(r,e)=>{t(r).delete(e)})(qn),lr=(t=>(r,e,n,o=0)=>void 0===e?r.forEach(s=>s.disconnect()):"number"==typeof e?cn(t,r,e).disconnect():on(e)?void 0===n?r.forEach(s=>s.disconnect(e)):void 0===o?cn(t,r,n).disconnect(e,0):cn(t,r,n).disconnect(e,0,o):void 0===n?r.forEach(s=>s.disconnect(e)):cn(t,r,n).disconnect(e,0))(je),dr=new WeakMap,Vd=((t,r)=>e=>r(t,e))(dr,Ge),Ud=((t,r,e,n,o,s,c,l,a,u,d,h,m)=>(f,p,_,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw a();const b=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(b.some(D=>D<1))throw a();if(b.length!==v.numberOfOutputs)throw r();if("explicit"!==v.channelCountMode)throw a();const y=v.channelCount*v.numberOfInputs,I=b.reduce((D,q)=>D+q,0),k=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length;if(y+k>6||I>6)throw a();const g=new MessageChannel,T=[],C=[];for(let D=0;D<v.numberOfInputs;D+=1)T.push(c(f,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),C.push(o(f,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const w=[];if(void 0!==_.parameterDescriptors)for(const{defaultValue:D,maxValue:q,minValue:ke,name:ve}of _.parameterDescriptors){const oe=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[ve]?v.parameterData[ve]:void 0===D?0:D});Object.defineProperties(oe.offset,{defaultValue:{get:()=>void 0===D?0:D},maxValue:{get:()=>void 0===q?Oe:q},minValue:{get:()=>void 0===ke?Be:ke}}),w.push(oe)}const A=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+k)}),N=Pi(p,f.sampleRate),R=l(f,N,y+k,Math.max(1,I)),S=o(f,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),F=[];for(let D=0;D<v.numberOfOutputs;D+=1)F.push(n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[D]}));for(let D=0;D<v.numberOfInputs;D+=1){T[D].connect(C[D]);for(let q=0;q<v.channelCount;q+=1)C[D].connect(A,q,D*v.channelCount+q)}const U=new Ni(void 0===_.parameterDescriptors?[]:_.parameterDescriptors.map(({name:D},q)=>{const ke=w[q];return ke.connect(A,0,y+q),ke.start(0),[D,ke.offset]}));A.connect(R);let W=v.channelInterpretation,V=null;const Y=0===v.numberOfOutputs?[R]:F,Q={get bufferSize(){return N},get channelCount(){return v.channelCount},set channelCount(D){throw e()},get channelCountMode(){return v.channelCountMode},set channelCountMode(D){throw e()},get channelInterpretation(){return W},set channelInterpretation(D){for(const q of T)q.channelInterpretation=D;W=D},get context(){return R.context},get inputs(){return T},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(D){"function"==typeof V&&Q.removeEventListener("processorerror",V),V="function"==typeof D?D:null,"function"==typeof V&&Q.addEventListener("processorerror",V)},get parameters(){return U},get port(){return g.port2},addEventListener:(...D)=>R.addEventListener(D[0],D[1],D[2]),connect:t.bind(null,Y),disconnect:u.bind(null,Y),dispatchEvent:(...D)=>R.dispatchEvent(D[0]),removeEventListener:(...D)=>R.removeEventListener(D[0],D[1],D[2])},H=new Map;var D;g.port1.addEventListener=(D=g.port1.addEventListener,(...q)=>{if("message"===q[0]){const ke="function"==typeof q[1]?q[1]:"object"==typeof q[1]&&null!==q[1]&&"function"==typeof q[1].handleEvent?q[1].handleEvent:null;if(null!==ke){const ve=H.get(q[1]);void 0!==ve?q[1]=ve:(q[1]=oe=>{d(f.currentTime,f.sampleRate,()=>ke(oe))},H.set(ke,q[1]))}}return D.call(g.port1,q[0],q[1],q[2])}),g.port1.removeEventListener=(D=>(...q)=>{if("message"===q[0]){const ke=H.get(q[1]);void 0!==ke&&(H.delete(q[1]),q[1]=ke)}return D.call(g.port1,q[0],q[1],q[2])})(g.port1.removeEventListener);let K=null;Object.defineProperty(g.port1,"onmessage",{get:()=>K,set:D=>{"function"==typeof K&&g.port1.removeEventListener("message",K),K="function"==typeof D?D:null,"function"==typeof K&&(g.port1.addEventListener("message",K),g.port1.start())}}),_.prototype.port=g.port1;let $=null;((t,r,e,n)=>{let o=Nn.get(t);void 0===o&&(o=new WeakMap,Nn.set(t,o));const s=dc(e,n);return o.set(r,s),s})(f,Q,_,v).then(D=>$=D);const Me=an(v.numberOfInputs,v.channelCount),Fe=an(v.numberOfOutputs,b),te=void 0===_.parameterDescriptors?[]:_.parameterDescriptors.reduce((D,{name:q})=>({...D,[q]:new Float32Array(128)}),{});let rt=!0;const dt=()=>{v.numberOfOutputs>0&&R.disconnect(S);for(let D=0,q=0;D<v.numberOfOutputs;D+=1){const ke=F[D];for(let ve=0;ve<b[D];ve+=1)S.disconnect(ke,q+ve,ve);q+=b[D]}},O=new Map;R.onaudioprocess=({inputBuffer:D,outputBuffer:q})=>{if(null!==$){const ke=h(Q);for(let ve=0;ve<N;ve+=128){for(let oe=0;oe<v.numberOfInputs;oe+=1)for(let Ce=0;Ce<v.channelCount;Ce+=1)sn(D,Me[oe],Ce,Ce,ve);void 0!==_.parameterDescriptors&&_.parameterDescriptors.forEach(({name:oe},Ce)=>{sn(D,te,oe,y+Ce,ve)});for(let oe=0;oe<v.numberOfInputs;oe+=1)for(let Ce=0;Ce<b[oe];Ce+=1)0===Fe[oe][Ce].byteLength&&(Fe[oe][Ce]=new Float32Array(128));try{const oe=Me.map((We,ut)=>{if(ke[ut].size>0)return O.set(ut,N/128),We;const ei=O.get(ut);return void 0===ei?[]:(We.every(Xh=>Xh.every(Jh=>0===Jh))&&(1===ei?O.delete(ut):O.set(ut,ei-1)),We)});rt=d(f.currentTime+ve/f.sampleRate,f.sampleRate,()=>$.process(oe,Fe,te));for(let We=0,ut=0;We<v.numberOfOutputs;We+=1){for(let qt=0;qt<b[We];qt+=1)Ai(q,Fe[We],qt,ut+qt,ve);ut+=b[We]}}catch(oe){rt=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:oe.colno,filename:oe.filename,lineno:oe.lineno,message:oe.message}))}if(!rt){for(let oe=0;oe<v.numberOfInputs;oe+=1){T[oe].disconnect(C[oe]);for(let Ce=0;Ce<v.channelCount;Ce+=1)C[ve].disconnect(A,Ce,oe*v.channelCount+Ce)}if(void 0!==_.parameterDescriptors){const oe=_.parameterDescriptors.length;for(let Ce=0;Ce<oe;Ce+=1){const We=w[Ce];We.disconnect(A,0,y+Ce),We.stop()}}A.disconnect(R),R.onaudioprocess=null,Ie?dt():Ot();break}}}};let Ie=!1;const ze=c(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Pt=()=>R.connect(ze).connect(f.destination),Ot=()=>{R.disconnect(ze),ze.disconnect()};return Pt(),m(Q,()=>{if(rt){Ot(),v.numberOfOutputs>0&&R.connect(S);for(let D=0,q=0;D<v.numberOfOutputs;D+=1){const ke=F[D];for(let ve=0;ve<b[D];ve+=1)S.connect(ke,q+ve,ve);q+=b[D]}}Ie=!0},()=>{rt&&(Pt(),dt()),Ie=!1})})(cr,je,Te,lt,Gt,xt,Le,Ht,Ee,lr,Qn,Vd,ct),Hd=(((t,r,e,n,o)=>{})(Te,Ud,Le,Ee,ct),((t,r,e,n,o,s,c,l,a,u,d,h,m,f,p,_)=>{})(Xe,cr,At,lt,Gt,xt,Le,Ld,lr,Qn,_e,Nt,Ne,Je,xe,un),(t=>{})(or),(t=>{})(dr),((t,r)=>{})(Ee,Ne),((t,r,e,n,o,s,c,l)=>{})(Wn,Ve,Vn,qn,un,$t,Yn,Gn),()=>Wa(Ve,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const r=new t,e=void 0!==r.close;try{r.close()}catch{}return e})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);return new Promise(e=>{let n=!0;const o=c=>{n&&(n=!1,r.startRendering(),e(c instanceof TypeError))};let s;try{s=r.decodeAudioData(null,()=>{},o)}catch(c){o(c)}void 0!==s&&s.catch(o)})})(Ne),(t=>()=>{if(null===t)return!1;let r;try{r=new t({latencyHint:"balanced"})}catch{return!1}return r.close(),!0})(nt),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Ne),((t,r)=>ee(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new MessageChannel,o=new r(1,128,44100),s=URL.createObjectURL(e);let c=!1;try{yield o.audioWorklet.addModule(s);const l=new t(o,"a",{numberOfOutputs:0}),a=o.createOscillator();yield new Promise(u=>{l.port.onmessage=()=>u(),l.port.postMessage(n.port2,[n.port2])}),l.port.onmessage=()=>c=!0,a.connect(l),a.start(0),yield o.startRendering(),c=yield new Promise(u=>{n.port1.onmessage=({data:d})=>u(1===d),n.port1.postMessage(0)})}catch{}finally{n.port1.close(),URL.revokeObjectURL(s)}return c}))(Nt,Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100);return void 0===r.createConstantSource||r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100),e=r.createConvolver();e.buffer=r.createBuffer(1,1,r.sampleRate);try{e.buffer=r.createBuffer(1,1,r.sampleRate)}catch{return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Ne),Pl,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(He),(t=>()=>{if(null===t)return!1;const r=new t;try{return r.createMediaStreamSource(new MediaStream),!1}catch{return!0}finally{r.close()}})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);if(void 0===r.createStereoPanner||void 0===r.createConstantSource)return Promise.resolve(!0);const e=r.createConstantSource(),n=r.createStereoPanner();return e.channelCount=1,e.offset.value=1,n.channelCount=1,e.start(),e.connect(n).connect(r.destination),r.startRendering().then(o=>1!==o.getChannelData(0)[0])})(Ne),Ol));var t;function Qd(t){return new ar({latencyHint:t})}class mr extends ar{}function qd(){return Hd}const pr=new i.OlP("LATENCY_HINT"),jd=new i.OlP("IS_SUPPORTED_PROMISE");let Xd=(()=>{class t{static forChild(){return{ngModule:t}}static forRoot(e){return{ngModule:t,providers:[{deps:[pr],provide:mr,useFactory:Qd},{provide:pr,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:jd,useFactory:qd}],imports:[x.ez]}),t})();const fr="audioPlayerVolume",_r="mediaTypeOnReveal";let br=(()=>{class t{getDefaultVolume(){var e;return parseFloat(null!==(e=localStorage.getItem(fr))&&void 0!==e?e:"0.5")}setDefaultVolume(e){localStorage.setItem(fr,e.toString())}getDefaultMediaTypeOnReveal(){var e;return parseInt(null!==(e=localStorage.getItem(_r))&&void 0!==e?e:"2")}setDefaultMediaTypeOnReveal(e){localStorage.setItem(_r,e.toString())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gr=M(4859),jn=M(7392),mn=M(8255);function Jd(t,r){1&t&&(i.TgZ(0,"mat-icon"),i._uU(1,"block"),i.qZA())}function zd(t,r){1&t&&(i.TgZ(0,"mat-icon"),i._uU(1,"image"),i.qZA())}function $d(t,r){1&t&&(i.TgZ(0,"mat-icon"),i._uU(1,"movie"),i.qZA())}let Kd=(()=>{class t{constructor(e,n,o,s,c){this.lobbyStore=e,this.lobbyMusicHttpService=n,this.socket=o,this.audioContext=s,this.localStorageHelper=c,this.subscriptions=[]}ngOnInit(){var e=this;this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=this.getDefaultVolumeValue(),this.mediaTypeOnReveal=this.localStorageHelper.getDefaultMediaTypeOnReveal(),this.gainNode.connect(this.audioContext.destination),this.subscriptions=[this.lobbyStore.currentLobbyAudioBuffer.subscribe(function(){var n=ee(function*(o){var s,c,l;null!==o?e.lobby.status===L.D.AnswerReveal&&e.lobby.playMusicOnAnswerReveal?e.nextAudioBuffer=o:(null===(s=e.source)||void 0===s||s.stop(),e.setSourceNull(),yield e.setSource(o)):e.setSourceNull(),(null===(c=e.lobby)||void 0===c?void 0:c.status)===L.D.PlayingMusic&&(e.gainNode.gain.value=e.getDefaultVolumeValue(),null===(l=e.source)||void 0===l||l.start())});return function(o){return n.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(function(){var n=ee(function*(o){var s,c;e.lobby=o,o&&(o.status===L.D.AnswerReveal&&(o.playMusicOnAnswerReveal?setTimeout(()=>{e.gainNode.gain.setValueAtTime(e.gainNode.gain.value,e.audioContext.currentTime),e.gainNode.gain.exponentialRampToValueAtTime(.01,e.audioContext.currentTime+5)},5e3):e.setSourceNull()),o.status===L.D.PlayingMusic&&(e.nextAudioBuffer&&(null===(s=e.source)||void 0===s||s.stop(),e.setSourceNull(),yield e.setSource(e.nextAudioBuffer),e.nextAudioBuffer=void 0),e.gainNode.gain.value=e.getDefaultVolumeValue(),null===(c=e.source)||void 0===c||c.start()),!o.playMusicOnAnswerReveal&&o.status!==L.D.PlayingMusic&&e.setSourceNull(),o.status===L.D.Buffering&&e.setSourceNull())});return function(o){return n.apply(this,arguments)}}()),this.lobbyStore.resumeMusic.subscribe(ee(function*(){yield e.audioContext.resume(),e.lobbyStore.setCanPlayMusic("running"===e.audioContext.state)}))]}ngOnDestroy(){this.setSourceNull(),this.audioContext.suspend(),this.subscriptions.forEach(e=>e.unsubscribe())}setSource(e){var n=this;return ee(function*(){n.gainNode.gain.value=n.getDefaultVolumeValue();const o=yield n.audioContext.decodeAudioData(e);n.source=n.audioContext.createBufferSource(),n.source.buffer=o,n.source.connect(n.gainNode),n.lobbyStore.setCanPlayMusic("running"===n.audioContext.state)})()}setSourceNull(){this.source&&(this.source.buffer=null)}getDefaultVolumeValue(){return this.localStorageHelper.getDefaultVolume()}updateVolume(e){this.gainNode.gain.value=e,this.localStorageHelper.setDefaultVolume(e)}getDefaultMediaTypeOnReveal(){return this.localStorageHelper.getDefaultMediaTypeOnReveal()}updateMediaTypeOnReveal(e){this.mediaTypeOnReveal=e,this.localStorageHelper.setDefaultMediaTypeOnReveal(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(Bo),i.Y36(be.i),i.Y36(mr),i.Y36(br))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-audio-player"]],decls:13,vars:12,consts:[["aria-label","unit(s)","color","primary",3,"min","max","step"],["matSliderThumb","",3,"value","valueChange"],["mat-icon-button","",1,"mat-icon-button",3,"matMenuTriggerFor"],["color","primary"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","mdbTooltip","Answer reveal media type"],[4,"ngIf"],["color","primary",3,"min","max","step","click"]],template:function(e,n){if(1&e&&(i.TgZ(0,"mat-slider",0)(1,"input",1),i.NdJ("valueChange",function(s){return n.updateVolume(s)}),i.qZA()(),i.TgZ(2,"button",2)(3,"mat-icon",3),i._uU(4,"more_vert"),i.qZA()(),i.TgZ(5,"mat-menu",4,5)(7,"button",6),i.YNc(8,Jd,2,0,"mat-icon",7),i.YNc(9,zd,2,0,"mat-icon",7),i.YNc(10,$d,2,0,"mat-icon",7),i.TgZ(11,"mat-slider",8),i.NdJ("click",function(s){return s.stopPropagation()}),i.TgZ(12,"input",1),i.NdJ("valueChange",function(s){return n.updateMediaTypeOnReveal(s)}),i.qZA()()()()),2&e){const o=i.MAs(6);i.Q6J("min",0)("max",1)("step",.001),i.xp6(1),i.Q6J("value",n.getDefaultVolumeValue()),i.xp6(1),i.Q6J("matMenuTriggerFor",o),i.xp6(6),i.Q6J("ngIf",!n.mediaTypeOnReveal),i.xp6(1),i.Q6J("ngIf",1===n.mediaTypeOnReveal),i.xp6(1),i.Q6J("ngIf",2===n.mediaTypeOnReveal),i.xp6(1),i.Q6J("min",0)("max",2)("step",1),i.xp6(1),i.Q6J("value",n.getDefaultMediaTypeOnReveal())}},dependencies:[x.O5,gr.RK,st,et,jn.Hw,Tn,mn.VK,mn.OP,mn.p6],encapsulation:2}),t})();var Rt=M(9646),vr=M(1884),yr=M(3900),Cr=M(9743),wr=M(7957);const eu=["answerInput"],tu=["trigger"];function nu(t,r){if(1&t&&i._UZ(0,"mat-option",7),2&t){const e=r.$implicit;i.Q6J("value",e.name)("innerHtml","<span>"+e.highlight+"</span>",i.oJD)}}let iu=(()=>{class t{constructor(e,n,o,s,c){this.lobbyHttpService=e,this.lobbyStore=n,this.gameHttpService=o,this.socket=s,this.cdf=c,this.myControl=new E.NI,this.me=null,this.lobbyStatuses=L.D,this.subscriptions=[]}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,vr.x)(),(0,yr.w)(e=>e?this.gameHttpService.getNames(e):(0,Rt.of)(null)))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{var n;null!==e&&((null===(n=this.me)||void 0===n?void 0:n.role)===X.Spectator?this.myControl.disable():[L.D.AnswerReveal,L.D.Buffering].includes(e.status)?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&!0===e.correctAnswer&&this.myControl.disable()})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Pe.Y),i.Y36(he),i.Y36(Cr.q),i.Y36(be.i),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-answer"]],viewQuery:function(e,n){if(1&e&&(i.Gf(eu,5),i.Gf(tu,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.answerInput=o.first),i.iGM(o=i.CRH())&&(n.matAutocompleteTrigger=o.first)}},decls:10,vars:9,consts:[[3,"ngSubmit"],["id","lobby-autocomplete",2,"width","100%"],["type","text","placeholder","Type your answer here...","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(e,n){if(1&e&&(i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||!n.myControl.value||n.submit()}),i.TgZ(1,"mat-form-field",1),i._UZ(2,"input",2,3),i.TgZ(5,"mat-autocomplete",4,5),i.NdJ("optionSelected",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||n.submit()}),i.YNc(7,nu,1,2,"mat-option",6),i.ALo(8,"slice"),i.ALo(9,"async"),i.qZA()()()),2&e){const o=i.MAs(6);i.xp6(2),i.Q6J("formControl",n.myControl)("matAutocomplete",o),i.xp6(5),i.Q6J("ngForOf",i.Dn7(8,3,i.lcZ(9,7,n.gameNames),0,30))}},dependencies:[x.sg,mt.KE,wr.XC,Ae.ey,wr.ZL,yt.Nt,E._Y,E.Fj,E.JJ,E.JL,E.F,E.oH,x.Ov,x.OU],encapsulation:2}),t})();function ru(t,r){if(1&t&&(i.TgZ(0,"div",1),i._uU(1),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.countdown,"\n")}}let ou=(()=>{class t{constructor(e){this.lobbyStore=e}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.countdownInterval&&clearInterval(this.countdownInterval),e?.status===L.D.PlayingMusic?(this.countdown=e.guessTime-1,this.startCountdown()):e?.status===L.D.AnswerReveal&&(this.countdown=void 0)}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{e?.musicFinishesIn&&(this.countdownInterval&&clearInterval(this.countdownInterval),this.countdown=e.musicFinishesIn-1,this.startCountdown())})]}ngOnDestroy(){clearInterval(this.countdownInterval),this.subscriptions.forEach(e=>e.unsubscribe())}startCountdown(){this.countdownInterval=setInterval(()=>{this.countdown>0?this.countdown--:(this.countdown=void 0,clearInterval(this.countdownInterval))},1e3)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-countdown"]],decls:1,vars:1,consts:[["class","align-self-center countdown",4,"ngIf"],[1,"align-self-center","countdown"]],template:function(e,n){1&e&&i.YNc(0,ru,2,1,"div",0),2&e&&i.Q6J("ngIf",void 0!==n.countdown)},dependencies:[x.O5],encapsulation:2}),t})();const Tr=function(t){return{timing:t}},Sr=function(t,r){return{value:t,params:r}};function su(t,r){if(1&t&&i._UZ(0,"div",2),2&t){const e=i.oxw();i.Q6J("@countdownProgress",i.WLB(3,Sr,e.lobby.status===e.lobbyStatuses.PlayingMusic?"empty":"full",i.VKq(1,Tr,e.lobby.guessTime)))}}function au(t,r){if(1&t&&i._UZ(0,"div",2),2&t){const e=i.oxw();i.Udp("width",e.timeRemaining/e.lobby.guessTime*100+"%"),i.Q6J("@countdownProgress",i.WLB(5,Sr,e.lobby.status===e.lobbyStatuses.PlayingMusic?"empty":"full",i.VKq(3,Tr,e.timeRemaining)))}}let cu=(()=>{class t{constructor(e){this.lobbyStore=e,this.lobbyStatuses=L.D}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e,this.timeRemaining=void 0}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{this.timeRemaining=e?.musicFinishesIn?e.musicFinishesIn:void 0})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-countdown-progress"]],decls:2,vars:2,consts:[["style","height: 1px",4,"ngIf"],["style","height: 1px",3,"width",4,"ngIf"],[2,"height","1px"]],template:function(e,n){1&e&&(i.YNc(0,su,1,6,"div",0),i.YNc(1,au,1,8,"div",1)),2&e&&(i.Q6J("ngIf",!n.timeRemaining),i.xp6(1),i.Q6J("ngIf",n.timeRemaining))},dependencies:[x.O5],encapsulation:2,data:{animation:[(0,re.X$)("countdownProgress",[(0,re.SB)("full",(0,re.oB)({width:"100%"})),(0,re.SB)("empty",(0,re.oB)({width:"0"})),(0,re.SB)("default",(0,re.oB)({width:"25%"})),(0,re.eR)("* => empty",[(0,re.jt)("{{timing}}s")],{params:{timing:"20"}}),(0,re.eR)("* => full",[(0,re.jt)("10s")])])]}}),t})();var lu=M(455);function du(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",3),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(2);return i.KtG(o.enableHintMode())}),i._uU(1,"Hint"),i.qZA()}}function uu(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"mat-slide-toggle",4),i.NdJ("change",function(o){i.CHM(e);const s=i.oxw(2);return i.KtG(s.toggleKeepHintMode(o))}),i._uU(1,"Keep hint mode "),i.qZA()}if(2&t){const e=i.oxw(2);i.Q6J("checked",null==e.me?null:e.me.keepHintMode)}}function hu(t,r){if(1&t&&(i.ynx(0),i.YNc(1,du,2,0,"button",1),i.YNc(2,uu,2,1,"mat-slide-toggle",2),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",!(null!=e.me&&e.me.hintMode)),i.xp6(1),i.Q6J("ngIf",null==e.me?null:e.me.hintMode)}}let mu=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.lobbySocket=n,this.subscriptions=[],this.lobbyHintMode=L.BF}ngOnInit(){this.subscriptions=[this.lobbyStore.me.subscribe(e=>{e&&(this.me=e)}),this.lobbyStore.lobby.subscribe(e=>{e&&(this.lobby=e)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}enableHintMode(){this.lobbySocket.emit("enableHintMode")}toggleKeepHintMode(e){this.lobbySocket.emit("toggleKeepHintMode",e.checked)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(be.i))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-hint-mode-toggle"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["color","primary",3,"checked","change",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],["color","primary",3,"checked","change"]],template:function(e,n){1&e&&i.YNc(0,hu,3,2,"ng-container",0),2&e&&i.Q6J("ngIf",n.lobby.hintMode===n.lobbyHintMode.Allowed)},dependencies:[x.O5,lu.Rr],encapsulation:2}),t})();const pu=["xd"];function fu(t,r){if(1&t&&(i.ynx(0),i._UZ(1,"input",2),i.TgZ(2,"label",3)(3,"span",4,5),i._uU(5),i.qZA()(),i.BQk()),2&t){const e=r.$implicit,n=r.index,o=i.oxw();i.xp6(1),i.Q6J("id",n)("formControl",o.formControl)("value",e),i.xp6(1),i.Q6J("for",n),i.xp6(3),i.Oqu(e)}}let _u=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.lobbySocket=n,this.subscriptions=[],this.games=[],this.formControl=new E.NI("")}ngOnInit(){this.subscriptions=[this.lobbyStore.hintModeGames.subscribe(e=>{this.games=e}),this.formControl.valueChanges.subscribe(e=>{this.lobbySocket.emit("answer",e)}),this.lobbyStore.me.subscribe(e=>{e&&(e.role===X.Spectator||e.correctAnswer)&&this.formControl.disable()})]}ngAfterViewInit(){setTimeout(()=>{this.spans.forEach(e=>{let o=2;e.nativeElement.offsetHeight>55&&(o=110/e.nativeElement.offsetHeight),e.nativeElement.style.fontSize=`${o}vh`})},1)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(be.i))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-hint-mode"]],viewQuery:function(e,n){if(1&e&&i.Gf(pu,5),2&e){let o;i.iGM(o=i.CRH())&&(n.spans=o)}},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-between",2,"height","260px"],[4,"ngFor","ngForOf"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"id","formControl","value"],[1,"btn","btn-outline-primary","col-12","col-md-5","d-flex","justify-content-center",2,"height","60px",3,"for"],[1,"align-self-center","hint-mode-answer"],["xd",""]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,fu,6,5,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",n.games))},dependencies:[x.sg,E.Fj,E._,E.JJ,E.oH],encapsulation:2}),t})();var pn=M(9751),Xn=M(576),Mr=M(3268);function Ir(t,r,e){return e?Ir(t,r).pipe((0,Mr.Z)(e)):new pn.y(n=>{const o=(...c)=>n.next(1===c.length?c[0]:c),s=t(o);return(0,Xn.m)(r)?()=>r(o,s):void 0})}var it=M(9841),Jn=M(9635),bu=M(6451),kr=M(8675),Et=M(4004),gu=M(8505),vu=M(4033),Nr=M(8421),fn=M(4482);const Cu={connector:()=>new Ye.x};function Ar(t,r=Cu){const{connector:e}=r;return(0,fn.e)((n,o)=>{const s=e();(0,Nr.Xf)(t(function yu(t){return new pn.y(r=>t.subscribe(r))}(s))).subscribe(o),o.add(n.subscribe(s))})}var Su=M(5577),zn=M(5403),Mu=M(4671),Iu=M(5032),xr=M(3269);function $n(...t){const r=(0,xr.jO)(t);return(0,fn.e)((e,n)=>{const o=t.length,s=new Array(o);let c=t.map(()=>!1),l=!1;for(let a=0;a<o;a++)(0,Nr.Xf)(t[a]).subscribe((0,zn.x)(n,u=>{s[a]=u,!l&&!c[a]&&(c[a]=!0,(l=c.every(Mu.y))&&(c=null))},Iu.Z));e.subscribe((0,zn.x)(n,a=>{if(l){const u=[a,...s];n.next(r?r(...u):u)}}))})}var ku=M(5026);const{isArray:Nu}=Array;function Au(t){return 1===t.length&&Nu(t[0])?t[0]:t}function Rr(...t){const r=(0,xr.jO)(t);return r?(0,Jn.z)(Rr(...t),(0,Mr.Z)(r)):(0,fn.e)((e,n)=>{(0,it.l)([e,...Au(t)])(n)})}var Ru=M(9300);const Eu=["youtubeContainer"];let Or=(()=>{class t{get videoId(){return this._videoId.value}set videoId(e){this._videoId.next(e)}get height(){return this._height.value}set height(e){this._height.next(e||390)}get width(){return this._width.value}set width(e){this._width.next(e||640)}set startSeconds(e){this._startSeconds.next(e)}set endSeconds(e){this._endSeconds.next(e)}set suggestedQuality(e){this._suggestedQuality.next(e)}get playerVars(){return this._playerVars.value}set playerVars(e){this._playerVars.next(e)}get disableCookies(){return this._disableCookies.value}set disableCookies(e){this._disableCookies.next(!!e)}constructor(e,n){this._ngZone=e,this._youtubeContainer=new Ye.x,this._destroyed=new Ye.x,this._playerChanges=new se.X(void 0),this._videoId=new se.X(void 0),this._height=new se.X(390),this._width=new se.X(640),this._startSeconds=new se.X(void 0),this._endSeconds=new se.X(void 0),this._suggestedQuality=new se.X(void 0),this._playerVars=new se.X(void 0),this._disableCookies=new se.X(!1),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,x.NF)(n)}ngOnInit(){if(!this._isBrowser)return;let e=(0,Rt.of)(!0);if(!window.YT||!window.YT.Player){const s=new Ye.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>s.next(!0))},e=s.pipe((0,ot.q)(1),(0,kr.O)(!1))}const n=this._disableCookies.pipe((0,Et.U)(s=>s?"https://www.youtube-nocookie.com":void 0)),o=function Fu(t,r,e,n,o,s,c,l){const a=(0,it.a)([r,e,c]).pipe($n((0,it.a)([o,s])),(0,Et.U)(([u,d])=>{const[h,m,f]=u,[p,_]=d;return h?{videoId:h,playerVars:f,width:p,height:_,host:m}:void 0}));return(0,it.a)([t,a,(0,Rt.of)(l)]).pipe(function Bu(t){return(0,Jn.z)(Rr(t),function xu(t){return(0,fn.e)((r,e)=>{let n=!1,o=0;r.subscribe((0,zn.x)(e,s=>(n||(n=!t(s,o++)))&&e.next(s)))})}(([r,e])=>!e),(0,Et.U)(([r])=>r))}(n),(0,ku.R)(Lu,void 0),(0,vr.x)())}(this._youtubeContainer,this._videoId,n,e,this._width,this._height,this._playerVars,this._ngZone).pipe((0,gu.b)(s=>{this._playerChanges.next(s)}),function Du(t){return(0,Su.z)(r=>r?Dr(r)?(0,Rt.of)(r):new pn.y(e=>{let n=!1,o=!1;const s=c=>{o=!0,n||(c.target.removeEventListener("onReady",s),e.next(c.target))};return r.addEventListener("onReady",s),()=>{n=!0,o||t(r)}}).pipe((0,ot.q)(1),(0,kr.O)(void 0)):(0,Rt.of)(void 0))}(s=>{Dr(s)||s.destroy()}),(0,ft.R)(this._destroyed),function Tu(t){return t?r=>Ar(t)(r):r=>function wu(t,r){const e=(0,Xn.m)(t)?t:()=>t;return(0,Xn.m)(r)?Ar(r,{connector:e}):n=>new vu.c(n,e)}(new Ye.x)(r)}());o.subscribe(s=>{this._player=s,s&&this._pendingPlayerState&&this._initializePlayer(s,this._pendingPlayerState),this._pendingPlayerState=void 0}),function Pu(t,r,e){(0,it.a)([t,r,e]).subscribe(([n,o,s])=>n&&n.setSize(o,s))}(o,this._width,this._height),function Ou(t,r){(0,it.a)([t,r]).subscribe(([e,n])=>e&&n&&e.setPlaybackQuality(n))}(o,this._suggestedQuality),function Vu(t,r,e,n,o,s){const c=(0,it.a)([e,n]).pipe((0,Et.U)(([d,h])=>({startSeconds:d,endSeconds:h}))),l=c.pipe(Kn(t,d=>!!d&&!function Uu(t){const r=t.getPlayerState();return r!==YT.PlayerState.UNSTARTED&&r!==YT.PlayerState.CUED}(d))),a=r.pipe(Kn(t,(d,h)=>!!d&&d.videoId!==h)),u=t.pipe(Kn((0,it.a)([r,c]),([d,h],m)=>!(!m||d==m.videoId&&!h.startSeconds&&!h.endSeconds)));(0,bu.T)(u,a,l).pipe($n((0,it.a)([t,r,c,o])),(0,Et.U)(([d,h])=>h),(0,ft.R)(s)).subscribe(([d,h,m,f])=>{!h||!d||(d.videoId=h,d.cueVideoById({videoId:h,suggestedQuality:f,...m}))})}(o,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),o.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(e,n){this._player?this._player.seekTo(e,n):this._getPendingState().seek={seconds:e,allowSeekAhead:n}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(e){this._player?this._player.setVolume(e):this._getPendingState().volume=e}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(e){if(this._player)return this._player.setPlaybackRate(e);this._getPendingState().playbackRate=e}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(e,n){const{playbackState:o,playbackRate:s,volume:c,muted:l,seek:a}=n;switch(o){case YT.PlayerState.PLAYING:e.playVideo();break;case YT.PlayerState.PAUSED:e.pauseVideo();break;case YT.PlayerState.CUED:e.stopVideo()}null!=s&&e.setPlaybackRate(s),null!=c&&e.setVolume(c),null!=l&&(l?e.mute():e.unMute()),null!=a&&e.seekTo(a.seconds,a.allowSeekAhead)}_getLazyEmitter(e){return this._playerChanges.pipe((0,yr.w)(n=>n?Ir(o=>{n.addEventListener(e,o)},o=>{try{n.removeEventListener&&n.removeEventListener(e,o)}catch{}}):(0,Rt.of)()),n=>new pn.y(o=>n.subscribe({next:s=>this._ngZone.run(()=>o.next(s)),error:s=>o.error(s),complete:()=>o.complete()})),(0,ft.R)(this._destroyed))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.Lbi))},t.\u0275cmp=i.Xpm({type:t,selectors:[["youtube-player"]],viewQuery:function(e,n){if(1&e&&i.Gf(Eu,5),2&e){let o;i.iGM(o=i.CRH())&&(n.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:"disableCookies",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(e,n){1&e&&i._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),t})();function Lu(t,[r,e,n]){if(t&&e&&(t.playerVars!==e.playerVars||t.host!==e.host))t.destroy();else{if(!e)return void(t&&t.destroy());if(t)return t}const o=n.runOutsideAngular(()=>new YT.Player(r,e));return o.videoId=e.videoId,o.playerVars=e.playerVars,o.host=e.host,o}function Dr(t){return"getPlayerStatus"in t}function Kn(t,r){return(0,Jn.z)($n(t),(0,Ru.h)(([e,n])=>r(n,e)),(0,Et.U)(([e])=>e))}let Zu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();const Fr=["*"];function Wu(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",7),i.NdJ("click",function(){const s=i.CHM(e).index,c=i.oxw(2);return i.KtG(c.to(s))}),i.qZA()}if(2&t){const e=r.index,n=i.oxw(2);i.ekj("active",e===n.activeSlide),i.uIk("aria-current",e===n.activeSlide)}}function Yu(t,r){if(1&t&&(i.TgZ(0,"div",5),i.YNc(1,Wu,1,3,"button",6),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.items)}}function Gu(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.prev())}),i._UZ(1,"span",9),i.TgZ(2,"span",10),i._uU(3,"Previous"),i.qZA()()}}function Hu(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",11),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.next())}),i._UZ(1,"span",12),i.TgZ(2,"span",10),i._uU(3,"Next"),i.qZA()()}}let Br=(()=>{class t{constructor(e){this._elementRef=e,this.interval=null,this.carouselItem=!0,this.active=!1,this.next=!1,this.prev=!1,this.start=!1,this.end=!1}get host(){return this._elementRef.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mdb-carousel-item"]],hostVars:12,hostBindings:function(e,n){2&e&&i.ekj("carousel-item",n.carouselItem)("active",n.active)("carousel-item-next",n.next)("carousel-item-prev",n.prev)("carousel-item-start",n.start)("carousel-item-end",n.end)},inputs:{interval:"interval"},ngContentSelectors:Fr,decls:1,vars:0,template:function(e,n){1&e&&(i.F$t(),i.Hsn(0))},encapsulation:2}),t})();var Ue=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NEXT=1]="NEXT",t[t.PREV=2]="PREV"}(Ue||(Ue={})),Ue))();let Qu=(()=>{class t{constructor(e,n){this._elementRef=e,this._cdRef=n,this.animation="slide",this._controls=!1,this._dark=!1,this._indicators=!1,this._ride=!0,this._interval=5e3,this.keyboard=!0,this.pause=!0,this.wrap=!0,this.slide=new i.vpe,this.slideChange=new i.vpe,this._activeSlide=0,this._isPlaying=!1,this._isSliding=!1,this._destroy$=new Ye.x,this.display=!0}get items(){return this._items&&this._items.toArray()}get controls(){return this._controls}set controls(e){this._controls=(0,ne.Ig)(e)}get dark(){return this._dark}set dark(e){this._dark=(0,ne.Ig)(e)}get indicators(){return this._indicators}set indicators(e){this._indicators=(0,ne.Ig)(e)}get ride(){return this._ride}set ride(e){this._ride=(0,ne.Ig)(e)}get interval(){return this._interval}set interval(e){this._interval=e,this.items&&this._restartInterval()}get activeSlide(){return this._activeSlide}set activeSlide(e){this.items.length&&this._activeSlide!==e&&(this._activeSlide=e,this._restartInterval())}onMouseEnter(){this.pause&&this._isPlaying&&this.stop()}onMouseLeave(){this.pause&&!this._isPlaying&&this.play()}ngAfterViewInit(){Promise.resolve().then(()=>{this._setActiveSlide(this._activeSlide),this.interval>0&&this.ride&&this.play(),this._cdRef.markForCheck()}),this.keyboard&&(0,pt.R)(this._elementRef.nativeElement,"keydown").pipe((0,ft.R)(this._destroy$)).subscribe(e=>{"ArrowRight"===e.key?this.next():"ArrowLeft"===e.key&&this.prev()})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}_setActiveSlide(e){this.items[this._activeSlide].active=!1,this.items[e].active=!0,this._activeSlide=e}_restartInterval(){this._resetInterval();const e=this.items[this.activeSlide],n=e.interval?e.interval:this.interval;!isNaN(n)&&n>0&&(this._lastInterval=setInterval(()=>{const o=+n;this._isPlaying&&!isNaN(o)&&o>0?(this.next(),this._cdRef.markForCheck()):this.stop()},n))}_resetInterval(){this._lastInterval&&(clearInterval(this._lastInterval),this._lastInterval=null)}play(){this._isPlaying||(this._isPlaying=!0,this._restartInterval())}stop(){this._isPlaying&&(this._isPlaying=!1,this._resetInterval())}to(e){if(!(e>this.items.length-1||e<0))return this.activeSlide===e?(this.stop(),void this.play()):(this._animateSlides(e>this.activeSlide?Ue.NEXT:Ue.PREV,this.activeSlide,e),void(this.activeSlide=e))}next(){this._isSliding||this._slide(Ue.NEXT)}prev(){this._isSliding||this._slide(Ue.PREV)}_slide(e){if(!this.wrap&&(e===Ue.NEXT&&this._activeSlide===this.items.length-1||e===Ue.PREV&&0===this._activeSlide))return;const s=this._getNewSlideIndex(e);this._animateSlides(e,this.activeSlide,s),this.activeSlide=s,this.slide.emit()}_animateSlides(e,n,o){const s=this.items[n],c=this.items[o],l=s.host,a=c.host;if(this._isSliding=!0,this._isPlaying&&this.stop(),e===Ue.NEXT){c.next=!0,setTimeout(()=>{this._reflow(a),s.start=!0,c.start=!0,this._cdRef.markForCheck()},0);const u=600;(0,pt.R)(l,"transitionend").pipe((0,ot.q)(1)).subscribe(()=>{c.next=!1,c.start=!1,c.active=!0,s.active=!1,s.start=!1,s.next=!1,this.slideChange.emit(),this._isSliding=!1}),this._emulateTransitionEnd(l,u)}else if(e===Ue.PREV){c.prev=!0,setTimeout(()=>{this._reflow(a),s.end=!0,c.end=!0,this._cdRef.markForCheck()},0);const u=600;(0,pt.R)(l,"transitionend").pipe((0,ot.q)(1)).subscribe(()=>{c.prev=!1,c.end=!1,c.active=!0,s.active=!1,s.end=!1,s.prev=!1,this.slideChange.emit(),this._isSliding=!1}),this._emulateTransitionEnd(l,u)}!this._isPlaying&&this.interval>0&&this.play()}_reflow(e){return e.offsetHeight}_emulateTransitionEnd(e,n){let o=!1;const c=n+5;(0,pt.R)(e,"transitionend").pipe((0,ot.q)(1)).subscribe(()=>{o=!0}),setTimeout(()=>{o||e.dispatchEvent(new Event("transitionend"))},c)}_getNewSlideIndex(e){let n;return e===Ue.NEXT&&(n=this._getNextSlideIndex()),e===Ue.PREV&&(n=this._getPrevSlideIndex()),n}_getNextSlideIndex(){const e=this._activeSlide===this.items.length-1;return e?this.wrap&&e?0:this._activeSlide:this._activeSlide+1}_getPrevSlideIndex(){const e=0===this._activeSlide;return e?this.wrap&&e?this.items.length-1:this._activeSlide:this._activeSlide-1}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mdb-carousel"]],contentQueries:function(e,n,o){if(1&e&&i.Suo(o,Br,4),2&e){let s;i.iGM(s=i.CRH())&&(n._items=s)}},hostVars:2,hostBindings:function(e,n){1&e&&i.NdJ("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()}),2&e&&i.ekj("d-block",n.display)},inputs:{animation:"animation",controls:"controls",dark:"dark",indicators:"indicators",ride:"ride",interval:"interval",keyboard:"keyboard",pause:"pause",wrap:"wrap"},outputs:{slide:"slide",slideChange:"slideChange"},ngContentSelectors:Fr,decls:6,vars:7,consts:[[1,"carousel","slide"],["class","carousel-indicators",4,"ngIf"],[1,"carousel-inner"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],[1,"carousel-indicators"],["type","button",3,"active","click",4,"ngFor","ngForOf"],["type","button",3,"click"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(e,n){1&e&&(i.F$t(),i.TgZ(0,"div",0),i.YNc(1,Yu,2,1,"div",1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.YNc(4,Gu,4,0,"button",3),i.YNc(5,Hu,4,0,"button",4),i.qZA()),2&e&&(i.ekj("carousel-fade","fade"===n.animation)("carousel-dark",n.dark),i.xp6(1),i.Q6J("ngIf",n.indicators),i.xp6(3),i.Q6J("ngIf",n.controls),i.xp6(1),i.Q6J("ngIf",n.controls))},dependencies:[x.sg,x.O5],encapsulation:2,changeDetection:0}),t})(),qu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[x.ez]}),t})();function ju(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"youtube-player",2),i.NdJ("ready",function(o){i.CHM(e);const s=i.oxw();return i.KtG(s.playVideo(o))}),i.qZA()}if(2&t){const e=i.oxw();i.Q6J("videoId",e.lobbyMusic.video.videoId)("playerVars",e.playerVars)}}function Xu(t,r){if(1&t&&(i.TgZ(0,"mdb-carousel-item"),i._UZ(1,"img",5),i.qZA()),2&t){const e=r.$implicit;i.xp6(1),i.Q6J("src","https://images.igdb.com/igdb/image/upload/t_1080p/"+e.imageId+".jpg",i.LSH)}}function Ju(t,r){if(1&t&&(i.TgZ(0,"mdb-carousel",3),i.YNc(1,Xu,2,1,"mdb-carousel-item",4),i.qZA()),2&t){const e=i.oxw();i.Q6J("animation","fade")("interval",5e3),i.xp6(1),i.Q6J("ngForOf",e.lobbyMusic.screenshots)}}let Lr=!1,zu=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.localStorageHelper=n,this.subscriptions=[],this.playerVars={autoplay:1,controls:0,showinfo:0,rel:0,modestbranding:1},this.lobbyMusic=null,this.mediaTypeOnReveal=n.getDefaultMediaTypeOnReveal(),this.initYoutubePlayer()}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(e=>{this.lobbyMusic=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}playVideo(e){e.target.setPlaybackQuality("highres"),e.target.mute(),e.target.seekTo(this.lobbyMusic.startVideoAt,!0)}initYoutubePlayer(){if(!Lr){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),Lr=!0}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(br))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-answer-reveal-media"]],decls:2,vars:2,consts:[["class","game-reveal-video-media","suggestedQuality","highres",3,"videoId","playerVars","ready",4,"ngIf"],["class","game-reveal-picture-media",3,"animation","interval",4,"ngIf"],["suggestedQuality","highres",1,"game-reveal-video-media",3,"videoId","playerVars","ready"],[1,"game-reveal-picture-media",3,"animation","interval"],[4,"ngFor","ngForOf"],["alt","...",1,"d-block","w-100",3,"src"]],template:function(e,n){1&e&&(i.YNc(0,ju,1,2,"youtube-player",0),i.YNc(1,Ju,2,3,"mdb-carousel",1)),2&e&&(i.Q6J("ngIf",2===n.mediaTypeOnReveal&&(null==n.lobbyMusic?null:n.lobbyMusic.video)),i.xp6(1),i.Q6J("ngIf",(1===n.mediaTypeOnReveal||2===n.mediaTypeOnReveal&&!(null!=n.lobbyMusic&&n.lobbyMusic.video))&&n.lobbyMusic&&n.lobbyMusic.screenshots.length>0))},dependencies:[x.sg,x.O5,Or,Qu,Br],encapsulation:2}),t})();function $u(t,r){1&t&&i._UZ(0,"div")}function Ku(t,r){if(1&t&&(i.TgZ(0,"div",9),i._uU(1),i._UZ(2,"mat-progress-bar",10),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.loadProgress,"% "),i.xp6(1),i.Q6J("value",e.loadProgress)}}function eh(t,r){1&t&&i._UZ(0,"app-hint-mode-toggle")}function th(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"div",11)(1,"p"),i._uU(2,"Press the button to start playing"),i._UZ(3,"br"),i._uU(4,"(Music will play on the next loop)"),i.qZA(),i.TgZ(5,"button",12),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.play())}),i._uU(6,"Play"),i.qZA()()}}const nh=function(t){return{"text-warning":t}};function ih(t,r){if(1&t&&(i.TgZ(0,"div",13),i._UZ(1,"span",14),i.qZA()),2&t){const e=i.oxw();i.Q6J("title",e.serverBuffering?"server loading...":"client loading..."),i.xp6(1),i.Q6J("ngClass",i.VKq(2,nh,e.serverBuffering))}}function rh(t,r){if(1&t&&(i.TgZ(0,"div",15)(1,"small",16),i._uU(2),i.qZA()()),2&t){const e=i.oxw();i.xp6(2),i.Oqu(e.error)}}const Vr=function(t){return{"d-none":t}};function oh(t,r){if(1&t&&(i.TgZ(0,"div",17),i._uU(1," Buffering... "),i.qZA()),2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(1,Vr,!e.canPlayMusic))}}function sh(t,r){if(1&t&&i._UZ(0,"app-lobby-countdown",18),2&t){const e=i.oxw();i.Q6J("ngClass",i.VKq(1,Vr,!e.canPlayMusic))}}function ah(t,r){1&t&&i._UZ(0,"app-hint-mode")}function ch(t,r){1&t&&i._UZ(0,"app-lobby-answer",9)}function lh(t,r){1&t&&i._UZ(0,"div")}function dh(t,r){1&t&&i._UZ(0,"app-answer-reveal-media")}const uh=function(t){return{"hint-mode":t}};let hh=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[],this.canPlayMusic=!1,this.lobbyStatuses=L.D,this.lobbyUserStatus=ce,this.lobbyHintModes=L.BF,this.lobbyUserRoles=X,this.loadProgress=0,this.serverBuffering=!1}ngOnInit(){this.subscriptions=[this.lobbyStore.canPlayMusic.subscribe(e=>{this.canPlayMusic=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{this.me=e}),this.lobbyStore.lobbyLoadProgress.subscribe(e=>{this.loadProgress=e}),this.lobbyStore.error.subscribe(e=>{this.error=e}),this.lobbyStore.lobbyServerBuffer.subscribe(e=>{this.serverBuffering=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.lobbyStore.setResumeMusic()}showAnswerComponent(){var e,n,o;return(null===(e=this.me)||void 0===e?void 0:e.role)!==X.Spectator&&!(null!==(n=this.me)&&void 0!==n&&n.hintMode)&&(null===(o=this.lobby)||void 0===o?void 0:o.status)===L.D.PlayingMusic}showEmptyTopDiv(){var e,n,o;return(null===(e=this.lobby)||void 0===e?void 0:e.status)===L.D.Buffering||(null===(n=this.lobby)||void 0===n?void 0:n.status)===L.D.Loading||(null===(o=this.lobby)||void 0===o?void 0:o.hintMode)!==L.BF.Allowed}showEmptyBottomDiv(){var e,n,o;return(null===(e=this.lobby)||void 0===e?void 0:e.status)===L.D.Buffering||(null===(n=this.lobby)||void 0===n?void 0:n.status)===L.D.Loading||(null===(o=this.me)||void 0===o?void 0:o.role)===X.Spectator}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-center-container"]],decls:16,vars:15,consts:[[1,"lobby-center-container","bg-dark","px-4","pt-4","position-relative",3,"ngClass"],[1,"d-flex","text-center","align-items-center","h-100","justify-content-between","position-relative","flex-column"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","align-self-center position-absolute",4,"ngIf"],["class","position-absolute","style","top: 0; left: 0",3,"title",4,"ngIf"],["class","position-absolute","style","top: 0; left: 24px",4,"ngIf"],["class","align-self-center countdown",3,"ngClass",4,"ngIf"],["class","text-center",3,"ngClass",4,"ngIf"],[1,"w-100"],["mode","determinate",3,"value"],[1,"align-self-center","position-absolute"],[1,"btn","btn-primary",3,"click"],[1,"position-absolute",2,"top","0","left","0",3,"title"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"ngClass"],[1,"position-absolute",2,"top","0","left","24px"],[1,"text-danger"],[1,"align-self-center","countdown",3,"ngClass"],[1,"text-center",3,"ngClass"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,$u,1,0,"div",2),i.YNc(3,Ku,3,2,"div",3),i.YNc(4,eh,1,0,"app-hint-mode-toggle",2),i.YNc(5,th,7,0,"div",4),i.YNc(6,ih,2,4,"div",5),i.YNc(7,rh,3,1,"div",6),i.YNc(8,oh,2,3,"div",7),i.YNc(9,sh,1,3,"app-lobby-countdown",8),i.YNc(10,ah,1,0,"app-hint-mode",2),i.YNc(11,ch,1,0,"app-lobby-answer",3),i.YNc(12,lh,1,0,"div",2),i.qZA(),i._UZ(13,"app-lobby-audio-player")(14,"app-lobby-countdown-progress"),i.YNc(15,dh,1,0,"app-answer-reveal-media",2),i.qZA()),2&e&&(i.Q6J("ngClass",i.VKq(13,uh,null==n.me?null:n.me.hintMode)),i.xp6(2),i.Q6J("ngIf",n.showEmptyTopDiv()),i.xp6(1),i.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Loading),i.xp6(1),i.Q6J("ngIf",(null==n.lobby?null:n.lobby.hintMode)===n.lobbyHintModes.Allowed&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),i.xp6(1),i.Q6J("ngIf",!n.canPlayMusic),i.xp6(1),i.Q6J("ngIf",(null==n.me?null:n.me.status)===n.lobbyUserStatus.Buffering||n.serverBuffering),i.xp6(1),i.Q6J("ngIf",n.error),i.xp6(1),i.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Buffering),i.xp6(1),i.Q6J("ngIf",n.canPlayMusic&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),i.xp6(1),i.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic&&((null==n.lobby?null:n.lobby.hintMode)===n.lobbyHintModes.Always||(null==n.me?null:n.me.hintMode))),i.xp6(1),i.Q6J("ngIf",n.showAnswerComponent()),i.xp6(1),i.Q6J("ngIf",n.showEmptyBottomDiv()),i.xp6(3),i.Q6J("ngIf",n.lobby.status===n.lobbyStatuses.AnswerReveal))},dependencies:[x.mk,x.O5,li.pW,Kd,iu,ou,cu,mu,_u,zu],encapsulation:2}),t})();function mh(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){i.CHM(e);const o=i.oxw();return i.KtG(o.restart())}),i._UZ(1,"i",7),i.qZA()}}let ph=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.subscriptions=[],this.lobbyUserRoles=X}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{this.me=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}restart(){this.socket.emit("restart")}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(be.i))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-information"]],decls:10,vars:4,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"],["class","btn btn-sm btn-primary","mdbTooltip","Restart lobby",3,"click",4,"ngIf"],["mdbTooltip","Restart lobby",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa-solid","fa-arrow-rotate-back"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"i",3),i._uU(4),i.qZA(),i.TgZ(5,"div",2),i._UZ(6,"i",4),i._uU(7),i.qZA(),i.TgZ(8,"div",2),i.YNc(9,mh,2,0,"button",5),i.qZA()()()),2&e&&(i.xp6(4),i.hij("",null==n.lobby?null:n.lobby.guessTime,"s"),i.xp6(3),i.AsE("",null==n.lobby?null:n.lobby.currentLobbyMusicPosition,"/",null==n.lobby?null:n.lobby.lobbyMusics," "),i.xp6(2),i.Q6J("ngIf",(null==n.me?null:n.me.role)===n.lobbyUserRoles.Host))},dependencies:[x.O5,Tn],encapsulation:2}),t})();function fh(t,r){if(1&t&&(i.ynx(0),i._uU(1),i.BQk()),2&t){const e=i.oxw(3);i.xp6(1),i.Oqu(e.answer.gameToMusic.game.platforms[0].name)}}function _h(t,r){1&t&&(i.ynx(0),i._uU(1,", "),i.BQk())}function bh(t,r){if(1&t&&(i.ynx(0),i._uU(1),i.YNc(2,_h,2,0,"ng-container",13),i.BQk()),2&t){const e=r.$implicit,n=r.last,o=r.last;i.xp6(1),i.hij(" ",e.abbreviation,""),i.xp6(1),i.Q6J("ngIf",!n&&!o)}}function gh(t,r){if(1&t&&(i.ynx(0),i.YNc(1,bh,3,2,"ng-container",18),i.BQk()),2&t){const e=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",e.answer.gameToMusic.game.platforms)}}function vh(t,r){if(1&t&&(i.TgZ(0,"small",17),i.YNc(1,fh,2,1,"ng-container",13),i.YNc(2,gh,2,1,"ng-container",13),i.qZA()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",1===(null==e.answer.gameToMusic.game.platforms?null:e.answer.gameToMusic.game.platforms.length)),i.xp6(1),i.Q6J("ngIf",(null==e.answer.gameToMusic.game.platforms?null:e.answer.gameToMusic.game.platforms.length)>1&&11===e.answer.gameToMusic.game.category)}}function yh(t,r){if(1&t&&i._UZ(0,"img",19),2&t){const e=i.oxw(2);i.Q6J("src","https://images.igdb.com/igdb/image/upload/t_720p/"+e.answer.gameToMusic.game.cover.imageId+".jpg",i.LSH)("alt",e.answer.gameToMusic.game.name)}}function Ch(t,r){if(1&t&&(i.TgZ(0,"div",20)(1,"h2",21),i._uU(2),i.qZA()()),2&t){const e=i.oxw(2);i.xp6(2),i.Oqu(e.answer.gameToMusic.game.name)}}const Ur=function(t){return{"background-color":t}};function wh(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",23),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.addToList())}),i.TgZ(1,"mat-icon"),i._uU(2,"add"),i.qZA()()}if(2&t){const e=i.oxw(3);i.Q6J("ngStyle",i.VKq(1,Ur,e.answer.gameToMusic.game.cover?e.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"#171717"))}}function Th(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"button",23),i.NdJ("click",function(){i.CHM(e);const o=i.oxw(3);return i.KtG(o.removeFromList())}),i.TgZ(1,"mat-icon"),i._uU(2,"remove"),i.qZA()()}if(2&t){const e=i.oxw(3);i.Q6J("ngStyle",i.VKq(1,Ur,e.answer.gameToMusic.game.cover?null==e.answer.gameToMusic.game.cover.colorPalette?null:e.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"black"))}}function Sh(t,r){if(1&t&&(i.ynx(0),i.YNc(1,wh,3,3,"button",22),i.YNc(2,Th,3,3,"button",22),i.BQk()),2&t){const e=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!1===e.me.playedTheGame),i.xp6(1),i.Q6J("ngIf",!0===e.me.playedTheGame)}}function Mh(t,r){if(1&t&&(i.ynx(0),i.TgZ(1,"div",5)(2,"h2",6),i._uU(3),i.YNc(4,vh,3,2,"small",7),i.qZA()(),i.TgZ(5,"div",8)(6,"div",9)(7,"div",10),i.YNc(8,yh,1,2,"img",11),i.YNc(9,Ch,3,1,"ng-template",null,12,i.W1O),i.qZA(),i.YNc(11,Sh,3,2,"ng-container",13),i.qZA()(),i.TgZ(12,"div",14)(13,"div")(14,"h4",6),i._uU(15,"Music"),i.qZA(),i.TgZ(16,"small",15),i._uU(17),i.qZA()(),i.TgZ(18,"div",16)(19,"h4",6),i._uU(20,"Artist"),i.qZA(),i.TgZ(21,"small",15),i._uU(22),i.qZA()()(),i.BQk()),2&t){const e=i.MAs(10),n=i.oxw();let o,s;i.xp6(3),i.hij(" ",n.answer.gameToMusic.game.name," "),i.xp6(1),i.Q6J("ngIf",1===(null==n.answer.gameToMusic.game.platforms?null:n.answer.gameToMusic.game.platforms.length)||(null==n.answer.gameToMusic.game.platforms?null:n.answer.gameToMusic.game.platforms.length)>1&&11===n.answer.gameToMusic.game.category),i.xp6(4),i.Q6J("ngIf",n.answer.gameToMusic.game.cover)("ngIfElse",e),i.xp6(3),i.Q6J("ngIf",n.me),i.xp6(6),i.Oqu(null!==(o=n.answer.gameToMusic.title)&&void 0!==o?o:n.answer.gameToMusic.music.title),i.xp6(5),i.Oqu(null!==(s=n.answer.gameToMusic.artist)&&void 0!==s?s:n.answer.gameToMusic.music.artist)}}function Ih(t,r){1&t&&(i.TgZ(0,"div",5),i._UZ(1,"h2",24),i.qZA(),i.TgZ(2,"div",25),i._UZ(3,"div",26),i.qZA(),i.TgZ(4,"div",25)(5,"div"),i._UZ(6,"h4",27)(7,"small",28)(8,"small",29),i.qZA(),i.TgZ(9,"div",16),i._UZ(10,"h4",27)(11,"small",30)(12,"small",29),i.qZA()())}function kh(t,r){1&t&&(i.TgZ(0,"p",16)(1,"small",31),i._UZ(2,"i",32),i._uU(3," This music may not reflect the difficulty configured. "),i.qZA()())}const Nh=function(t){return{"d-none d-md-block":t}};let Ah=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.gameHttpService=n,this.interactedWithList=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(e=>{this.answer=e,this.interactedWithList=!1}),this.lobbyStore.lobby.subscribe(e=>{e.status!==L.D.AnswerReveal&&(this.answer=null)}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{null!==e&&(this.answer=e)}),this.lobbyStore.me.subscribe(e=>{this.interactedWithList||(this.me={...e})})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}addToList(){this.gameHttpService.addToList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!0,this.interactedWithList=!0})}removeFromList(){this.gameHttpService.removeFromList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!1,this.interactedWithList=!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he),i.Y36(Cr.q))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-answer-reveal"]],decls:6,vars:6,consts:[[1,"bg-dark","p-4","mb-2","mb-md-0",3,"ngClass"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","mt-2",4,"ngIf"],[1,"col-md-12"],[1,"mb-1"],["class","ms-1 text-muted","style","font-size: 11px",4,"ngIf"],[1,"col-sm-4","col-md-6"],[2,"position","relative","aspect-ratio","3/4","display","flex","align-items","center"],[1,"w-100"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],["noImage",""],[4,"ngIf"],[1,"col-sm-8","col-md-6"],[2,"font-size","11px"],[1,"mt-2"],[1,"ms-1","text-muted",2,"font-size","11px"],[4,"ngFor","ngForOf"],[1,"card-img-top",3,"src","alt"],[1,"p-2","text-center"],[1,"m-0"],["class","game-item-cta","mat-mini-fab","","aria-label","Example icon button with a heart icon",3,"ngStyle","click",4,"ngIf"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"game-item-cta",3,"ngStyle","click"],[1,"placeholder","col-md-6"],[1,"col-md-6"],[1,"w-auto","h-100","img-placeholder",2,"aspect-ratio","3/4"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"],[2,"font-size","10px"],[1,"fa-solid","fa-exclamation-triangle","text-primary"]],template:function(e,n){if(1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,Mh,23,7,"ng-container",2),i.YNc(3,Ih,13,0,"ng-template",null,3,i.W1O),i.YNc(5,kh,4,0,"p",4),i.qZA()()),2&e){const o=i.MAs(4);i.Q6J("ngClass",i.VKq(4,Nh,!(null!=n.answer&&n.answer.gameToMusic))),i.xp6(2),i.Q6J("ngIf",null==n.answer?null:n.answer.gameToMusic)("ngIfElse",o),i.xp6(3),i.Q6J("ngIf",n.answer&&n.answer.contributeToMissingData)}},dependencies:[x.mk,x.sg,x.O5,x.PC,gr.nh,jn.Hw],encapsulation:2}),t})();const xh=function(t){return{"text-primary":t}};let Rh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-score-row"]],inputs:{user:"user"},decls:10,vars:11,consts:[[1,"row",3,"ngClass"],[1,"col-1"],[1,"col"],[1,"col-3","d-flex","justify-content-end"],[1,"col-1","text-muted","justify-content-end"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._uU(2),i.qZA(),i.TgZ(3,"div",2),i._uU(4),i.ALo(5,"slice"),i.qZA(),i.TgZ(6,"div",3),i._uU(7),i.qZA(),i.TgZ(8,"div",4),i._uU(9),i.qZA()()),2&e&&(i.Q6J("ngClass",i.VKq(9,xh,n.user.me)),i.xp6(2),i.hij("#",n.user.rank,""),i.xp6(2),i.Oqu(i.Dn7(5,5,n.user.user.username,0,50)),i.xp6(3),i.hij("",n.user.points," pts"),i.xp6(2),i.Oqu(n.user.musicGuessedRight))},dependencies:[x.mk,x.OU],encapsulation:2}),t})();function Eh(t,r){if(1&t&&i._UZ(0,"app-lobby-score-row",3),2&t){const e=i.oxw().$implicit;i.Q6J("user",e)}}function Ph(t,r){if(1&t&&i._UZ(0,"app-lobby-score-row",3),2&t){const e=i.oxw().$implicit,n=i.oxw();i.Q6J("user",n.getMeIndex()<=3?e:n.getMe())}}function Oh(t,r){if(1&t&&(i.ynx(0),i.YNc(1,Eh,1,1,"app-lobby-score-row",2),i.YNc(2,Ph,1,1,"app-lobby-score-row",2),i.BQk()),2&t){const e=r.index;i.xp6(1),i.Q6J("ngIf",e<=2),i.xp6(1),i.Q6J("ngIf",3===e)}}let Dh=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{e&&(this.users=e.filter(n=>[X.Host,X.Player].includes(n.role)).sort((n,o)=>n.points>o.points?-1:1).reduce((n,o,s)=>{let c=0===s?1:n[s-1].rank+1;return 0!==s&&o.points===n[s-1].points&&(c=n[s-1].rank),[...n,{...o,rank:c}]},[]))}),this.lobbyStore.me.subscribe(e=>{this.me=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getMeIndex(){return this.users.findIndex(e=>e.me)}getMe(){return this.users.find(e=>e.me)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(he))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-score"]],decls:2,vars:1,consts:[[1,"bg-dark","p-4"],[4,"ngFor","ngForOf"],[3,"user",4,"ngIf"],[3,"user"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Oh,3,2,"ng-container",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",n.users))},dependencies:[x.sg,x.O5,Rh],encapsulation:2}),t})(),Fh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-playing"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-md-3","d-flex","flex-column"],[1,"mt-2","order-1","order-md-0","mb-2","mb-md-0"],[1,"mt-2","order-0","order-md-1"],[1,"col-md-6","lobby-col"],[1,"col-md-3","lobby-col"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div"),i._UZ(3,"app-button-play"),i.qZA(),i.TgZ(4,"div"),i._UZ(5,"app-lobby-information"),i.qZA(),i.TgZ(6,"div",2),i._UZ(7,"app-lobby-answer-reveal"),i.qZA(),i.TgZ(8,"div",3),i._UZ(9,"app-lobby-score"),i.qZA()(),i.TgZ(10,"div",4),i._UZ(11,"app-lobby-center-container"),i.qZA(),i.TgZ(12,"div",5),i._UZ(13,"app-lobby-chat"),i.qZA()())},dependencies:[ai,hh,ph,Ah,Dh,ci],encapsulation:2}),t})();function Bh(t,r){1&t&&(i.TgZ(0,"div",4),i._uU(1,"Sorry, Safari cannot play music, please use another browser"),i.qZA())}function Lh(t,r){1&t&&(i.ynx(0),i._UZ(1,"app-lobby-waiting"),i.BQk())}function Vh(t,r){1&t&&(i.ynx(0),i._UZ(1,"app-lobby-playing"),i.BQk())}function Uh(t,r){if(1&t&&(i.ynx(0),i.YNc(1,Lh,2,0,"ng-container",5),i.YNc(2,Vh,2,0,"ng-container",5),i._UZ(3,"app-lobby-users"),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Waiting),i.xp6(1),i.Q6J("ngIf",e.lobbyService.isPLaying(e.lobby))}}function Zh(t,r){1&t&&i._uU(0,"loading")}let Wh=(()=>{class t{constructor(e,n,o,s,c,l,a,u,d,h){this.lobbyHttpService=e,this.lobbyService=n,this.router=o,this.route=s,this.dialog=c,this.socket=l,this.authService=a,this.lobbyStore=u,this.snackBar=d,this.lobbyFileSocket=h,this.lobbyStatuses=L.D,this.subscriptions=[],this.isSafari=!1}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.lobbyStore.disconnect(),this.socket.disconnect(),this.lobbyFileSocket.disconnect()}ngOnInit(){this.isSafari=new RegExp(/^(?!.*chrome.*)(?=.*safari.*).*$/i).test(navigator.userAgent),this.socket.connect(),this.subscriptions=[this.socket.fromEvent("connect_error").subscribe(e=>{"Unauthorized"===e.message&&(this.lobbyFileSocket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.lobbyFileSocket.connect(),this.socket.emit("fake emit")}))}),this.lobbyFileSocket.fromEvent("connect_error").subscribe(e=>{"Unauthorized"===e.message&&this.lobby&&(this.lobbyFileSocket.disconnect(),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("fake emit"))}),this.socket.fromEvent("NotFoundException").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(mo.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("error").subscribe(e=>{this.lobbyStore.setLobbyError(e)}),this.socket.fromEvent("lobbyJoined").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("join")}),this.socket.fromEvent("lobbyUsers").subscribe(e=>{this.lobbyStore.setUsers(e)}),this.socket.fromEvent("lobby").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyStartBuffer").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!0),this.lobbyStore.resetLobbyError()}),this.socket.fromEvent("lobbyBufferEnd").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!1)}),this.lobbyFileSocket.fromEvent("buffer").subscribe(e=>{this.lobbyStore.setCurrentLobbyAudioBuffer(e),this.socket.emit("readyToPlayMusic")}),this.socket.fromEvent("currentLobbyMusic").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusic(e)}),this.socket.fromEvent("lobbyAnswer").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicAnswer(e)}),this.socket.fromEvent("lobbyUser").subscribe(e=>{this.lobbyStore.updateLobbyUser(e)}),this.socket.fromEvent("lobbyReset").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyAudioBuffer(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(e=>{this.snackBar.open(e,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.socket.fromEvent("disconnect").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("chat").subscribe(e=>{this.lobbyStore.addMessage(e)}),this.socket.fromEvent("hintModeGames").subscribe(e=>{this.lobbyStore.setHintModeGames(e)}),this.socket.fromEvent("lobbyLoadProgress").subscribe(e=>{this.lobbyStore.setLobbyLoadProgress(e)}),this.route.paramMap.subscribe(e=>{this.lobbyCode=e.get("code")})],this.lobbyService.join(this.lobbyCode)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Pe.Y),i.Y36(po.V),i.Y36(ie.F0),i.Y36(ie.gz),i.Y36(fo.uw),i.Y36(be.i),i.Y36(Ze.e),i.Y36(he),i.Y36(ht.ux),i.Y36(_o.Q))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby"]],decls:5,vars:3,consts:[[1,"container-fluid"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf","ngIfElse"],["loading",""],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,n){if(1&e&&(i.TgZ(0,"div",0),i.YNc(1,Bh,2,0,"div",1),i.YNc(2,Uh,4,2,"ng-container",2),i.YNc(3,Zh,1,0,"ng-template",null,3,i.W1O),i.qZA()),2&e){const o=i.MAs(4);i.xp6(1),i.Q6J("ngIf",n.isSafari),i.xp6(1),i.Q6J("ngIf",n.lobby)("ngIfElse",o)}},dependencies:[x.O5,So,Oo,Fh],encapsulation:2}),t})();var Yh=M(266),Gh=M(4385);const Hh=[{path:"create",component:uo},{path:":code",component:Wh},{path:"**",redirectTo:"create"}];let Qh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Pe.Y,he],imports:[x.ez,ie.Bz.forChild(Hh),ho.m,wn,ht.ZX,eo,Yh.AV,Xd.forRoot("balanced"),jn.Ps,so,Gh.LD,li.Cv,Zu,mn.Tx,qu]}),t})()},8021:function(Z,fe,M){!function(x,i,E,L){"use strict";var X=function(B,j,P){return{endTime:j,insertTime:P,type:"exponentialRampToValue",value:B}},ce=function(B,j,P){return{endTime:j,insertTime:P,type:"linearRampToValue",value:B}},le=function(B,j){return{startTime:j,type:"setValue",value:B}},Pe=function(B,j,P){return{duration:P,startTime:j,type:"setValueCurve",values:B}},ie=function(B,j,P){var G=P.target;return G+(j-G)*Math.exp((P.startTime-B)/P.timeConstant)},be=function(B){return"exponentialRampToValue"===B.type},se=function(B){return"linearRampToValue"===B.type},Ze=function(B){return be(B)||se(B)},ht=function(B){return"setValue"===B.type},he=function(B){return"setValueCurve"===B.type},Dt=function ae(B,j,P,J){var G=B[j];return void 0===G?J:Ze(G)||ht(G)?G.value:he(G)?G.values[G.values.length-1]:ie(P,ae(B,j-1,G.startTime,J),G)},mt=function(B,j,P,J,G){return void 0===P?[J.insertTime,G]:Ze(P)?[P.endTime,P.value]:ht(P)?[P.startTime,P.value]:he(P)?[P.startTime+P.duration,P.values[P.values.length-1]]:[P.startTime,Dt(B,j-1,P.startTime,G)]},yt=function(B){return"cancelAndHold"===B.type},Ft=function(B){return"cancelScheduledValues"===B.type},ne=function(B){return yt(B)||Ft(B)?B.cancelTime:be(B)||se(B)?B.endTime:B.startTime},jt=function(B,j,P,J){var de=J.value;return P===de?de:0<P&&0<de||P<0&&de<0?P*Math.pow(de/P,(B-j)/(J.endTime-j)):0},Ae=function(B,j,P,J){return P+(B-j)/(J.endTime-j)*(J.value-P)},Ye=function(B,j){var G=j.values;return function(B,j){var P=Math.floor(j),J=Math.ceil(j);return P===J?B[P]:(1-(j-P))*B[P]+(1-(J-j))*B[J]}(G,(B-j.startTime)/j.duration*(G.length-1))},Ct=function(B){return"setTarget"===B.type},_n=function(ae){function B(j){E(this,B),this._automationEvents=[],this._currenTime=0,this._defaultValue=j}return L(B,[{key:ae,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(P){var J=ne(P);if(yt(P)||Ft(P)){var G=this._automationEvents.findIndex(function(qe){return Ft(P)&&he(qe)?qe.startTime+qe.duration>=J:ne(qe)>=J}),de=this._automationEvents[G];if(-1!==G&&(this._automationEvents=this._automationEvents.slice(0,G)),yt(P)){var z=this._automationEvents[this._automationEvents.length-1];if(void 0!==de&&Ze(de)){if(Ct(z))throw new Error("The internal list is malformed.");var wt=he(z)?z.startTime+z.duration:ne(z),st=he(z)?z.values[z.values.length-1]:z.value,Bt=be(de)?jt(J,wt,st,de):Ae(J,wt,st,de),Lt=be(de)?X(Bt,J,this._currenTime):ce(Bt,J,this._currenTime);this._automationEvents.push(Lt)}void 0!==z&&Ct(z)&&this._automationEvents.push(le(this.getValue(J),J)),void 0!==z&&he(z)&&z.startTime+z.duration>J&&(this._automationEvents[this._automationEvents.length-1]=Pe(new Float32Array([6,7]),z.startTime,J-z.startTime))}}else{var $e=this._automationEvents.findIndex(function(qe){return ne(qe)>J}),Ke=-1===$e?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[$e-1];if(void 0!==Ke&&he(Ke)&&ne(Ke)+Ke.duration>J)return!1;var et=be(P)?X(P.value,P.endTime,this._currenTime):se(P)?ce(P.value,J,this._currenTime):P;if(-1===$e)this._automationEvents.push(et);else{if(he(P)&&J+P.duration>ne(this._automationEvents[$e]))return!1;this._automationEvents.splice($e,0,et)}}return!0}},{key:"flush",value:function(P){var J=this._automationEvents.findIndex(function(z){return ne(z)>P});if(J>1){var G=this._automationEvents.slice(J-1),de=G[0];Ct(de)&&G.unshift(le(Dt(this._automationEvents,J-2,de.startTime,this._defaultValue),de.startTime)),this._automationEvents=G}}},{key:"getValue",value:function(P){if(0===this._automationEvents.length)return this._defaultValue;var J=this._automationEvents.findIndex(function(wn){return ne(wn)>P}),G=this._automationEvents[J],de=(-1===J?this._automationEvents.length:J)-1,z=this._automationEvents[de];if(void 0!==z&&Ct(z)&&(void 0===G||!Ze(G)||G.insertTime>P))return ie(P,Dt(this._automationEvents,de-1,z.startTime,this._defaultValue),z);if(void 0!==z&&ht(z)&&(void 0===G||!Ze(G)))return z.value;if(void 0!==z&&he(z)&&(void 0===G||!Ze(G)||z.startTime+z.duration>P))return P<z.startTime+z.duration?Ye(P,z):z.values[z.values.length-1];if(void 0!==z&&Ze(z)&&(void 0===G||!Ze(G)))return z.value;if(void 0!==G&&be(G)){var wt=mt(this._automationEvents,de,z,G,this._defaultValue),st=i(wt,2);return jt(P,st[0],st[1],G)}if(void 0!==G&&se(G)){var $e=mt(this._automationEvents,de,z,G,this._defaultValue),Ke=i($e,2);return Ae(P,Ke[0],Ke[1],G)}return this._defaultValue}}]),B}(Symbol.iterator);x.AutomationEventList=_n,x.createCancelAndHoldAutomationEvent=function(B){return{cancelTime:B,type:"cancelAndHold"}},x.createCancelScheduledValuesAutomationEvent=function(B){return{cancelTime:B,type:"cancelScheduledValues"}},x.createExponentialRampToValueAutomationEvent=function(B,j){return{endTime:j,type:"exponentialRampToValue",value:B}},x.createLinearRampToValueAutomationEvent=function(B,j){return{endTime:j,type:"linearRampToValue",value:B}},x.createSetTargetAutomationEvent=function(B,j,P){return{startTime:j,target:B,timeConstant:P,type:"setTarget"}},x.createSetValueAutomationEvent=le,x.createSetValueCurveAutomationEvent=Pe}(fe,M(5463),M(8860),M(9450))},6801:Z=>{Z.exports=function fe(M,x){(null==x||x>M.length)&&(x=M.length);for(var i=0,E=new Array(x);i<x;i++)E[i]=M[i];return E},Z.exports.__esModule=!0,Z.exports.default=Z.exports},409:Z=>{Z.exports=function fe(M){if(Array.isArray(M))return M},Z.exports.__esModule=!0,Z.exports.default=Z.exports},8860:Z=>{Z.exports=function fe(M,x){if(!(M instanceof x))throw new TypeError("Cannot call a class as a function")},Z.exports.__esModule=!0,Z.exports.default=Z.exports},9450:(Z,fe,M)=>{var x=M(8719);function i(L,X){for(var ce=0;ce<X.length;ce++){var le=X[ce];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(L,x(le.key),le)}}Z.exports=function E(L,X,ce){return X&&i(L.prototype,X),ce&&i(L,ce),Object.defineProperty(L,"prototype",{writable:!1}),L},Z.exports.__esModule=!0,Z.exports.default=Z.exports},1940:Z=>{Z.exports=function fe(M,x){var i=null==M?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(null!=i){var E,L,X,ce,le=[],Pe=!0,ie=!1;try{if(X=(i=i.call(M)).next,0===x){if(Object(i)!==i)return;Pe=!1}else for(;!(Pe=(E=X.call(i)).done)&&(le.push(E.value),le.length!==x);Pe=!0);}catch(be){ie=!0,L=be}finally{try{if(!Pe&&null!=i.return&&(ce=i.return(),Object(ce)!==ce))return}finally{if(ie)throw L}}return le}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},8517:Z=>{Z.exports=function fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},Z.exports.__esModule=!0,Z.exports.default=Z.exports},5463:(Z,fe,M)=>{var x=M(409),i=M(1940),E=M(6874),L=M(8517);Z.exports=function X(ce,le){return x(ce)||i(ce,le)||E(ce,le)||L()},Z.exports.__esModule=!0,Z.exports.default=Z.exports},5157:(Z,fe,M)=>{var x=M(6584).default;Z.exports=function i(E,L){if("object"!==x(E)||null===E)return E;var X=E[Symbol.toPrimitive];if(void 0!==X){var ce=X.call(E,L||"default");if("object"!==x(ce))return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===L?String:Number)(E)},Z.exports.__esModule=!0,Z.exports.default=Z.exports},8719:(Z,fe,M)=>{var x=M(6584).default,i=M(5157);Z.exports=function E(L){var X=i(L,"string");return"symbol"===x(X)?X:String(X)},Z.exports.__esModule=!0,Z.exports.default=Z.exports},6584:Z=>{function fe(M){return Z.exports=fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},Z.exports.__esModule=!0,Z.exports.default=Z.exports,fe(M)}Z.exports=fe,Z.exports.__esModule=!0,Z.exports.default=Z.exports},6874:(Z,fe,M)=>{var x=M(6801);Z.exports=function i(E,L){if(E){if("string"==typeof E)return x(E,L);var X=Object.prototype.toString.call(E).slice(8,-1);if("Object"===X&&E.constructor&&(X=E.constructor.name),"Map"===X||"Set"===X)return Array.from(E);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return x(E,L)}},Z.exports.__esModule=!0,Z.exports.default=Z.exports}}]);