"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[503],{8503:(ds,dt,c)=>{c.r(dt),c.d(dt,{LobbyModule:()=>cs});var u=c(6814),e=c(9212),ue=c(5861),l=c(6223),m=c(6201),Yt=c(6973),qt=c(305),Pe=c(7921),Ue=c(7398),V=function(o){return o.Host="host",o.Player="player",o.Spectator="spectator",o}(V||{}),De=function(o){return o.Buffering="buffering",o.ReadyToPlayMusic="ready_to_play_music",o}(De||{}),me=c(4664),ut=c(4716),he=c(1274),Ne=c(5438),ne=c(2787),S=c(5619),Ve=c(304),Be=c(2939);let x=(()=>{class o{authService;router;snack;usersBehaviorSubject=new S.X([]);meBehaviorSubject=new S.X(null);lobbyBehaviorSubject=new S.X(null);currentLobbyAudioBufferBehaviorSubject=new S.X(null);currentLobbyMusicAnswerBehaviorSubject=new S.X(null);currentLobbyMusicBehaviorSubject=new S.X(null);canPlayMusicBehaviorSubject=new S.X(!1);resumeMusicBehaviorSubject=new S.X(void 0);messagesBehaviorSubject=new S.X([]);hintModeGamesBehaviorSubject=new S.X([]);lobbyLoadProgressBehaviorSubject=new S.X(0);lobbyErrorBehaviorSubject=new S.X(void 0);lobbyServerBufferBehaviorSubject=new S.X(!1);audioContextSubject=new S.X(null);sourceSubject=new S.X(null);gainNodeSubject=new S.X(null);lobby=this.lobbyBehaviorSubject.asObservable();users=this.usersBehaviorSubject.asObservable();me=this.meBehaviorSubject.asObservable();currentLobbyAudioBuffer=this.currentLobbyAudioBufferBehaviorSubject.asObservable();currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable();currentLobbyMusic=this.currentLobbyMusicBehaviorSubject.asObservable();canPlayMusic=this.canPlayMusicBehaviorSubject.asObservable();resumeMusic=this.resumeMusicBehaviorSubject.asObservable();messages=this.messagesBehaviorSubject.asObservable();hintModeGames=this.hintModeGamesBehaviorSubject.asObservable();lobbyLoadProgress=this.lobbyLoadProgressBehaviorSubject.asObservable();error=this.lobbyErrorBehaviorSubject.asObservable();lobbyServerBuffer=this.lobbyServerBufferBehaviorSubject.asObservable();audioContext=this.audioContextSubject.asObservable();source=this.sourceSubject.asObservable();gainNode=this.gainNodeSubject.asObservable();constructor(t,i,n){this.authService=t,this.router=i,this.snack=n}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyAudioBufferBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(t){this.lobbyBehaviorSubject.next(t)}getUsers(){return this.usersBehaviorSubject.getValue()}getMe(){return this.meBehaviorSubject.getValue()}setUsers(t){const i=t.find(n=>n.user.username===this.authService.decodeJwt().username);void 0===i?(this.snack.open("You have been kicked out from the lobby",void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3}),this.router.navigate(["/"])):(i.me=!0,this.usersBehaviorSubject.next(t),this.meBehaviorSubject.next(i))}getCurrentLobbyAudioBuffer(){return this.currentLobbyAudioBufferBehaviorSubject.getValue()}setCurrentLobbyAudioBuffer(t){this.currentLobbyAudioBufferBehaviorSubject.next(t)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(t){this.currentLobbyMusicAnswerBehaviorSubject.next(t)}getCurrentLobbyMusic(){return this.currentLobbyMusicBehaviorSubject.getValue()}setCurrentLobbyMusic(t){this.currentLobbyMusicBehaviorSubject.next(t),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getCurrentLobbyAudioContext(){return this.audioContextSubject.getValue()}setCurrentLobbyAudioContext(t){this.audioContextSubject.next(t)}setCurrentLobbyGainNode(t){this.gainNodeSubject.next(t)}getCurrentLobbyGainNode(){return this.gainNodeSubject.getValue()}getCurrentLobbySource(){return this.sourceSubject.getValue()}setCurrentLobbySource(t){this.sourceSubject.next(t)}updateLobbyUser(t){let i=this.getUsers();const n=i.findIndex(s=>s.user.username===t.user.username);-1!==n?i[n]=t:i=[...i,t],this.setUsers(i)}getCanPlayMusic(){return this.canPlayMusicBehaviorSubject.getValue()}setCanPlayMusic(t){this.canPlayMusicBehaviorSubject.next(t)}setResumeMusic(){this.resumeMusicBehaviorSubject.next()}getMessages(){return this.messagesBehaviorSubject.getValue()}addMessage(t){this.messagesBehaviorSubject.next([...this.getMessages(),t])}setMessages(t){this.messagesBehaviorSubject.next(t)}setHintModeGames(t){this.hintModeGamesBehaviorSubject.next(t);const i=this.getMe();i&&(i.hintMode=!0)}setLobbyLoadProgress(t){this.lobbyLoadProgressBehaviorSubject.next(t)}setLobbyError(t){this.lobbyErrorBehaviorSubject.next(t)}resetLobbyError(){this.lobbyErrorBehaviorSubject.next(void 0)}setLobbyServerBuffer(t){this.lobbyServerBufferBehaviorSubject.next(t)}static \u0275fac=function(i){return new(i||o)(e.LFG(Ve.e),e.LFG(ne.F0),e.LFG(Be.ux))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Jt=c(5986),Le=c(9157),Ce=c(4630),P=c(3680),mt=c(2032),Gt=c(9388),Oe=c(2831),Se=c(8645);const zt=["knob"],jt=["valueIndicatorContainer"];function Xt(o,r){if(1&o&&(e.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),e._uU(4),e.qZA()()()),2&o){const t=e.oxw();e.xp6(4),e.Oqu(t.valueIndicatorText)}}const Wt=["trackActive"];function $t(o,r){if(1&o&&e._UZ(0,"div"),2&o){const t=r.$implicit,i=r.$index,n=e.oxw(3);e.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),e.Udp("transform",n._calcTickMarkTransform(i))}}function Kt(o,r){if(1&o&&e.SjG(0,$t,1,4,"div",9,e.x6l),2&o){const t=e.oxw(2);e.wJu(t._tickMarks)}}function ei(o,r){if(1&o&&(e.TgZ(0,"div",7,8),e.YNc(2,Kt,2,0),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.um2(2,t._cachedWidth?2:-1)}}function ti(o,r){if(1&o&&e._UZ(0,"mat-slider-visual-thumb",6),2&o){const t=e.oxw();e.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const ii=["*"];var d=function(o){return o[o.START=1]="START",o[o.END=2]="END",o}(d||{}),se=function(o){return o[o.ACTIVE=0]="ACTIVE",o[o.INACTIVE=1]="INACTIVE",o}(se||{});const ke=new e.OlP("_MatSlider"),ht=new e.OlP("_MatSliderThumb"),pt=new e.OlP("_MatSliderRangeThumb"),bt=new e.OlP("_MatSliderVisualThumb");let oi=(()=>{class o{constructor(t,i,n,s){this._cdr=t,this._ngZone=i,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,e.f3M)(Oe.t4),this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const h=this._hostElement.getBoundingClientRect(),b=this._slider._isCursorOnSliderThumb(a,h);this._isHovered=b,b?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{0===a.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=n.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t&&(t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===P.DH.FADING_IN||t?.state===P.DH.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===d.START?d.END:d.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===d.START?d.END:d.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(ke))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,n){if(1&i&&(e.Gf(P.wG,5),e.Gf(zt,5),e.Gf(jt,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._ripple=s.first),e.iGM(s=e.CRH())&&(n._knob=s.first),e.iGM(s=e.CRH())&&(n._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[e._Bn([{provide:bt,useExisting:o}]),e.jDz],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,n){1&i&&(e.YNc(0,Xt,5,1,"div",0),e._UZ(1,"div",1,2)(3,"div",3)),2&i&&(e.um2(0,n.discrete?0:-1),e.xp6(3),e.Q6J("matRippleDisabled",!0))},dependencies:[P.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return o})(),_t=(()=>{class o{get disabled(){return this._disabled}set disabled(t){this._disabled=t;const i=this._getInput(d.END),n=this._getInput(d.START);i&&(i.disabled=this._disabled),n&&(n.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}get min(){return this._min}set min(t){const i=isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(d.END),n=this._getInput(d.START),s=i.value,a=n.value;n.min=t.new,i.min=Math.max(t.new,n.value),n.max=Math.min(i.max,i.value),n._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,n):this._onTranslateXChangeBySideEffect(n,i),s!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMinNonRange(t){const i=this._getInput(d.END);if(i){const n=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(d.END),n=this._getInput(d.START),s=i.value,a=n.value;i.max=t.new,n.max=Math.min(t.new,i.value),i.min=n.value,i._updateWidthInactive(),n._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(n,i):this._onTranslateXChangeBySideEffect(i,n),s!==i.value&&this._onValueChange(i),a!==n.value&&this._onValueChange(n)}_updateMaxNonRange(t){const i=this._getInput(d.END);if(i){const n=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),n!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(d.END),i=this._getInput(d.START),n=t.value,s=i.value,a=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),n!==t.value&&this._onValueChange(t),s!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(d.END);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,n,s,a,h){this._ngZone=t,this._cdr=i,this._elementRef=n,this._dir=s,this._globalRippleOptions=a,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=b=>`${b}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,e.f3M)(Oe.t4),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===h,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(d.END),i=this._getInput(d.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();const n=this._getThumb(d.END);this._rippleRadius=n._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(d.END),i=this._getInput(d.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(d.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(d.START)._isActive||this._getThumb(d.END)._isActive}_getValue(t=d.END){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(d.START)?._skipUIUpdate&&!this._getInput(d.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(d.END),i=this._getInput(d.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(d.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(d.START),i=this._getInput(d.END);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),n=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),n._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(t.thumbPosition===d.END?d.END:d.START)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===d.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const n=this._getThumb(t.thumbPosition);i.length<3?n._hostElement.classList.add("mdc-slider__thumb--short-value"):n._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(d.END),i=this._getInput(d.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,n=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*n-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const n=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${n})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${n})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let n=Math.max(Math.floor((i-this.min)/t),0),s=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?n++:s++,this._tickMarks=Array(n).fill(se.ACTIVE).concat(Array(s).fill(se.INACTIVE))}_updateTickMarkUIRange(t){const i=this._getValue(),n=this._getValue(d.START),s=Math.max(Math.floor((n-this.min)/t),0),a=Math.max(Math.floor((i-n)/t)+1,0),h=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(s).fill(se.INACTIVE).concat(Array(a).fill(se.ACTIVE),Array(h).fill(se.INACTIVE))}_getInput(t){return t===d.END&&this._input?this._input:this._inputs?.length?t===d.START?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return t===d.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const n=i.width/2,b=t.clientY-(i.y+n);return Math.pow(t.clientX-(i.x+n),2)+Math.pow(b,2)<Math.pow(n,2)}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Gt.Is,8),e.Y36(P.Y2,8),e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-slider"]],contentQueries:function(i,n,s){if(1&i&&(e.Suo(s,ht,5),e.Suo(s,pt,4)),2&i){let a;e.iGM(a=e.CRH())&&(n._input=a.first),e.iGM(a=e.CRH())&&(n._inputs=a)}},viewQuery:function(i,n){if(1&i&&(e.Gf(Wt,5),e.Gf(bt,5)),2&i){let s;e.iGM(s=e.CRH())&&(n._trackActive=s.first),e.iGM(s=e.CRH())&&(n._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,n){2&i&&(e.Tol("mat-"+(n.color||"primary")),e.ekj("mdc-slider--range",n._isRange)("mdc-slider--disabled",n.disabled)("mdc-slider--discrete",n.discrete)("mdc-slider--tick-marks",n.showTickMarks)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],discrete:[e.lbL.HasDecoratorInputTransform,"discrete","discrete",e.VuI],showTickMarks:[e.lbL.HasDecoratorInputTransform,"showTickMarks","showTickMarks",e.VuI],min:[e.lbL.HasDecoratorInputTransform,"min","min",e.Cb_],color:"color",disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],max:[e.lbL.HasDecoratorInputTransform,"max","max",e.Cb_],step:[e.lbL.HasDecoratorInputTransform,"step","step",e.Cb_],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[e._Bn([{provide:ke,useExisting:o}]),e.Xq5,e.jDz],ngContentSelectors:ii,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[3,"class","transform"]],template:function(i,n){1&i&&(e.F$t(),e.Hsn(0),e.TgZ(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"div",3,4),e.qZA(),e.YNc(6,ei,3,1,"div",5),e.qZA(),e.YNc(7,ti,1,3,"mat-slider-visual-thumb",6),e._UZ(8,"mat-slider-visual-thumb",6)),2&i&&(e.xp6(6),e.um2(6,n.showTickMarks?6:-1),e.xp6(),e.um2(7,n._isRange?7:-1),e.xp6(),e.Q6J("discrete",n.discrete)("thumbPosition",2)("valueIndicatorText",n.endValueIndicatorText))},dependencies:[oi],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return o})();const si={provide:l.JU,useExisting:(0,e.Gpc)(()=>Ie),multi:!0},ri={provide:l.JU,useExisting:(0,e.Gpc)(()=>ft),multi:!0};let Ie=(()=>{class o{get value(){return(0,e.Cb_)(this._hostElement.value,0)}set value(t){const i=(t=isNaN(t)?0:t)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return(0,e.Cb_)(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return(0,e.Cb_)(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return(0,e.Cb_)(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return(0,e.VuI)(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,n,s){this._ngZone=t,this._elementRef=i,this._cdr=n,this._slider=s,this.valueChange=new e.vpe,this.dragStart=new e.vpe,this.dragEnd=new e.vpe,this.thumbPosition=d.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new Se.x,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,e.f3M)(Oe.t4),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,n=this._slider._cachedWidth,s=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/s),w=Math.round((this._slider._isRtl?1-i/n:i/n)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,R=Math.round(w/s)*s;if(R===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=R,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(ke))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,n){1&i&&e.NdJ("change",function(){return n._onChange()})("input",function(){return n._onInput()})("blur",function(){return n._onBlur()})("focus",function(){return n._onFocus()}),2&i&&e.uIk("aria-valuetext",n._valuetext)},inputs:{value:[e.lbL.HasDecoratorInputTransform,"value","value",e.Cb_]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[e._Bn([si,{provide:ht,useExisting:o}]),e.Xq5]})}return o})(),ft=(()=>{class o extends Ie{getSibling(){return this._sibling||(this._sibling=this._slider._getInput(this._isEndThumb?d.START:d.END)),this._sibling}getMinPos(){const t=this.getSibling();return!this._isLeftThumb&&t?t.translateX:this._tickMarkOffset}getMaxPos(){const t=this.getSibling();return this._isLeftThumb&&t?t.translateX:this._slider._cachedWidth-this._tickMarkOffset}_setIsLeftThumb(){this._isLeftThumb=this._isEndThumb&&this._slider._isRtl||!this._isEndThumb&&!this._slider._isRtl}constructor(t,i,n,s){super(t,n,s,i),this._cdr=s,this._isEndThumb=this._hostElement.hasAttribute("matSliderEndThumb"),this._setIsLeftThumb(),this.thumbPosition=this._isEndThumb?d.END:d.START}_getDefaultValue(){return this._isEndThumb&&this._slider._isRange?this.max:this.min}_onInput(){super._onInput(),this._updateSibling(),this._isActive||this._updateWidthInactive()}_onNgControlValueChange(){super._onNgControlValueChange(),this.getSibling()?._updateMinMax()}_onPointerDown(t){this.disabled||0!==t.button||(this._sibling&&(this._sibling._updateWidthActive(),this._sibling._hostElement.classList.add("mat-mdc-slider-input-no-pointer-events")),super._onPointerDown(t))}_onPointerUp(){super._onPointerUp(),this._sibling&&setTimeout(()=>{this._sibling._updateWidthInactive(),this._sibling._hostElement.classList.remove("mat-mdc-slider-input-no-pointer-events")})}_onPointerMove(t){super._onPointerMove(t),!this._slider.step&&this._isActive&&this._updateSibling()}_fixValue(t){super._fixValue(t),this._sibling?._updateMinMax()}_clamp(t){return Math.max(Math.min(t,this.getMaxPos()),this.getMinPos())}_updateMinMax(){const t=this.getSibling();t&&(this._isEndThumb?(this.min=Math.max(this._slider.min,t.value),this.max=this._slider.max):(this.min=this._slider.min,this.max=Math.min(this._slider.max,t.value)))}_updateWidthActive(){const t=2*this._slider._rippleRadius-2*this._slider._inputPadding;this._hostElement.style.width=`${(this._slider._cachedWidth+this._slider._inputPadding-t-2*this._tickMarkOffset)*(this._slider.min<this._slider.max?(this.max-this.min)/(this._slider.max-this._slider.min):1)+t}px`,this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`}_updateWidthInactive(){const t=this.getSibling();if(!t)return;const n=this._isEndThumb?this.value-(this.value-t.value)/2:this.value+(t.value-this.value)/2,a=this._slider.min<this._slider.max?this._isEndThumb?(this.max-n)/(this._slider.max-this._slider.min):(n-this.min)/(this._slider.max-this._slider.min):1;let h=this._slider._rippleRadius;1===a?h=48:0===a&&(h=0),this._hostElement.style.width=`${(this._slider._cachedWidth-2*this._tickMarkOffset)*a+h}px`,this._hostElement.style.padding="0px",this._isLeftThumb?(this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`,this._hostElement.style.right="auto"):(this._hostElement.style.left="auto",this._hostElement.style.right=`-${this._slider._rippleRadius-this._tickMarkOffset}px`)}_updateStaticStyles(){this._hostElement.classList.toggle("mat-slider__right-input",!this._isLeftThumb)}_updateSibling(){const t=this.getSibling();t&&(t._updateMinMax(),this._isActive?t._updateWidthActive():t._updateWidthInactive())}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t,this._updateWidthInactive(),this._updateSibling())}_setValue(t){super._setValue(t),this._updateWidthInactive(),this._updateSibling()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.R0b),e.Y36(ke),e.Y36(e.SBq),e.Y36(e.sBO))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["input","matSliderStartThumb",""],["input","matSliderEndThumb",""]],exportAs:["matSliderRangeThumb"],standalone:!0,features:[e._Bn([ri,{provide:pt,useExisting:o}]),e.qOj]})}return o})(),ai=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[P.BQ,P.si]})}return o})();var li=c(4300),ci=c(8337);const di=["input"],ui=["formField"],mi=["*"];let gt=0;class yt{constructor(r,t){this.source=r,this.value=t}}const hi={provide:l.JU,useExisting:(0,e.Gpc)(()=>xt),multi:!0},vt=new e.OlP("MatRadioGroup"),pi=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function bi(){return{color:"accent"}}});let xt=(()=>{class o{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+gt++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new yt(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO))};static#t=this.\u0275dir=e.lG2({type:o,selectors:[["mat-radio-group"]],contentQueries:function(i,n,s){if(1&i&&e.Suo(s,He,5),2&i){let a;e.iGM(a=e.CRH())&&(n._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],required:[e.lbL.HasDecoratorInputTransform,"required","required",e.VuI]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[e._Bn([hi,{provide:vt,useExisting:o}]),e.Xq5]})}return o})(),He=(()=>{class o{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,n,s,a,h,b,w){this._elementRef=i,this._changeDetector=n,this._focusMonitor=s,this._radioDispatcher=a,this._providerOverride=b,this._uniqueId="mat-radio-"+ ++gt,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===h,w&&(this.tabIndex=(0,e.Cb_)(w,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new yt(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const n=this._inputElement?.nativeElement;n&&(n.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(vt,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(li.tE),e.Y36(ci.A8),e.Y36(e.QbO,8),e.Y36(pi,8),e.$8M("tabindex"))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-radio-button"]],viewQuery:function(i,n){if(1&i&&(e.Gf(di,5),e.Gf(ui,7,e.SBq)),2&i){let s;e.iGM(s=e.CRH())&&(n._inputElement=s.first),e.iGM(s=e.CRH())&&(n._rippleTrigger=s.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,n){1&i&&e.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&i&&(e.uIk("id",n.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color)("mat-mdc-radio-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[e.lbL.None,"aria-label","ariaLabel"],ariaLabelledby:[e.lbL.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[e.lbL.None,"aria-describedby","ariaDescribedby"],disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],tabIndex:[e.lbL.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:(0,e.Cb_)(t)],checked:[e.lbL.HasDecoratorInputTransform,"checked","checked",e.VuI],value:"value",labelPosition:"labelPosition",disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],required:[e.lbL.HasDecoratorInputTransform,"required","required",e.VuI],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[e.Xq5,e.jDz],ngContentSelectors:mi,decls:13,vars:16,consts:[["mat-internal-form-field","",3,"labelPosition"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,n){1&i&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),e.NdJ("click",function(a){return n._onTouchTargetClick(a)}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("change",function(a){return n._onInputInteraction(a)}),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"div",7)(8,"div",8),e.qZA(),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA()(),e.TgZ(11,"label",11),e.Hsn(12),e.qZA()()),2&i&&(e.Q6J("labelPosition",n.labelPosition),e.xp6(2),e.ekj("mdc-radio--disabled",n.disabled),e.xp6(2),e.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),e.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",n._rippleTrigger.nativeElement)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0),e.xp6(2),e.Q6J("for",n.inputId))},dependencies:[P.wG,P.fq],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return o})(),_i=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[P.BQ,u.ez,P.si,He,P.BQ]})}return o})();var Ae=c(3651),fi=c(8484),p=c(6825),Ye=c(2438),Me=c(9773),gi=c(1374);function yi(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("@fade.done",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onAnimationEnd(n))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("@fade",t.animationState)("@.disabled",!t.animation)("innerHTML",t.title,e.oJD)}}function vi(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@fade.done",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onAnimationEnd(n))}),e._uU(1),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("@fade",t.animationState)("@.disabled",!t.animation),e.xp6(),e.hij(" ",t.title,"\n")}}let xi=(()=>{class o{_cdRef;title;html;animation;tooltip=!0;_hidden=new Se.x;animationState="hidden";constructor(t){this._cdRef=t}markForCheck(){this._cdRef.markForCheck()}onAnimationEnd(t){"hidden"===t.toState&&this._hidden.next()}static \u0275fac=function(i){return new(i||o)(e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["mdb-tooltip"]],hostVars:2,hostBindings:function(i,n){2&i&&e.ekj("tooltip",n.tooltip)},inputs:{title:"title",html:"html",animation:"animation"},decls:2,vars:2,consts:[["class","tooltip-inner",3,"innerHTML",4,"ngIf"],["class","tooltip-inner",4,"ngIf"],[1,"tooltip-inner",3,"innerHTML"],[1,"tooltip-inner"]],template:function(i,n){1&i&&e.YNc(0,yi,1,3,"div",0)(1,vi,2,3,"div",1),2&i&&(e.Q6J("ngIf",n.html),e.xp6(),e.Q6J("ngIf",!n.html))},dependencies:[u.O5],encapsulation:2,data:{animation:[(0,p.X$)("fade",[(0,p.SB)("visible",(0,p.oB)({opacity:1})),(0,p.SB)("hidden",(0,p.oB)({opacity:0})),(0,p.eR)("visible => hidden",(0,p.jt)("150ms linear")),(0,p.eR)(":enter",(0,p.jt)("150ms linear"))])]},changeDetection:0})}return o})(),Re=(()=>{class o{_overlay;_overlayPositionBuilder;_elementRef;mdbTooltip="";tooltipDisabled=!1;placement="top";html=!1;animation=!0;trigger="hover focus";delayShow=0;delayHide=0;offset=0;tooltipShow=new e.vpe;tooltipShown=new e.vpe;tooltipHide=new e.vpe;tooltipHidden=new e.vpe;_overlayRef;_tooltipRef;_open=!1;_showTimeout=0;_hideTimeout=0;_destroy$=new Se.x;constructor(t,i,n){this._overlay=t,this._overlayPositionBuilder=i,this._elementRef=n}ngOnInit(){this.tooltipDisabled||""===this.mdbTooltip||this._bindTriggerEvents()}ngOnDestroy(){(this._open||this._showTimeout)&&this.hide(),this._destroy$.next(),this._destroy$.complete()}_bindTriggerEvents(){this.trigger.split(" ").forEach(i=>{if("click"===i)(0,Ye.R)(this._elementRef.nativeElement,i).pipe((0,Me.R)(this._destroy$)).subscribe(()=>this.toggle());else if("manual"!==i){const s="hover"===i?"mouseleave":"focusout";(0,Ye.R)(this._elementRef.nativeElement,"hover"===i?"mouseenter":"focusin").pipe((0,Me.R)(this._destroy$)).subscribe(()=>this.show()),(0,Ye.R)(this._elementRef.nativeElement,s).pipe((0,Me.R)(this._destroy$)).subscribe(()=>this.hide())}})}_createOverlayConfig(){const t=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(this._getPosition());return new Ae.X_({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:t})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_getPosition(){let t;const i={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-this.offset},n={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:this.offset},s={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.offset},a={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-this.offset};switch(this.placement){case"top":t=[i,n];break;case"bottom":t=[n,i];break;case"left":t=[a,s];break;case"right":t=[s,a]}return t}show(){(this._hideTimeout||this._open)&&(this._overlayRef.detach(),clearTimeout(this._hideTimeout),this._hideTimeout=null),this._createOverlay(),this._showTimeout=setTimeout(()=>{if(!this._overlayRef.hasAttached()){const t=new fi.C5(xi);this.tooltipShow.emit(this),this._open=!0,this._tooltipRef=this._overlayRef.attach(t),this._tooltipRef.instance.title=this.mdbTooltip,this._tooltipRef.instance.html=this.html,this._tooltipRef.instance.animation=this.animation,this._tooltipRef.instance.animationState="visible",this._tooltipRef.instance.markForCheck(),this.tooltipShown.emit(this)}},this.delayShow)}hide(){this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null,this._hideTimeout=setTimeout(()=>{this.tooltipHide.emit(this),this._tooltipRef?(this._tooltipRef.instance._hidden.pipe((0,gi.P)()).subscribe(()=>{this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this)}),this._tooltipRef.instance.animationState="hidden",this._tooltipRef.instance.markForCheck()):(this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this))},this.delayHide))}toggle(){this._open?this.hide():this.show()}static \u0275fac=function(i){return new(i||o)(e.Y36(Ae.aV),e.Y36(Ae.wJ),e.Y36(e.SBq))};static \u0275dir=e.lG2({type:o,selectors:[["","mdbTooltip",""]],inputs:{mdbTooltip:"mdbTooltip",tooltipDisabled:"tooltipDisabled",placement:"placement",html:"html",animation:"animation",trigger:"trigger",delayShow:"delayShow",delayHide:"delayHide",offset:"offset"},outputs:{tooltipShow:"tooltipShow",tooltipShown:"tooltipShown",tooltipHide:"tooltipHide",tooltipHidden:"tooltipHidden"},exportAs:["mdbTooltip"]})}return o})(),wi=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[u.ez,Ae.U8]})}return o})();const Ti=["musicPlayedInput"];function Ci(o,r){1&o&&e._UZ(0,"span",2)}function Si(o,r){if(1&o&&(e.TgZ(0,"mat-checkbox",70),e._uU(1," Contribute to improving the database "),e._UZ(2,"i",71),e.qZA()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("mdbTooltip",t.accuracyText())("html",!0)}}function ki(o,r){1&o&&(e.TgZ(0,"div",72)(1,"h4",73),e._uU(2,"Unlock filters by pledging on Patreon!"),e.qZA(),e.TgZ(3,"a",74),e._uU(4,"Pledge"),e.qZA()())}function Ii(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.TgZ(2,"mat-slider",75),e._UZ(3,"input",76)(4,"input",77),e.qZA(),e._uU(5),e.qZA()),2&o){const t=e.oxw(2);e.xp6(),e.hij(" ",t.lobbyForm.get("filterMinYear").value," "),e.xp6(),e.Q6J("min",t.lobbyInfo.filterMinYear)("max",t.lobbyInfo.filterMaxYear),e.xp6(),e.Q6J("value",t.lobbyInfo.filterMinYear),e.xp6(),e.Q6J("value",t.lobbyInfo.filterMaxYear),e.xp6(),e.hij(" ",t.lobbyForm.get("filterMaxYear").value," ")}}function Ai(o,r){if(1&o&&e._UZ(0,"mat-option",78),2&o){const t=r.$implicit;e.Q6J("value",t)("innerHTML",t.name,e.oJD)}}function Mi(o,r){1&o&&(e.TgZ(0,"span",86),e._uU(1,"to"),e.qZA(),e._UZ(2,"input",87))}function Ri(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",79)(1,"span",80),e._uU(2),e.qZA(),e.TgZ(3,"div",81)(4,"select",82)(5,"option",83),e._uU(6,"Excluded"),e.qZA(),e.TgZ(7,"option",84),e._uU(8,"Limited"),e.qZA()(),e.YNc(9,Mi,3,0),e.TgZ(10,"i",85),e.NdJ("click",function(){const s=e.CHM(t).$index,a=e.oxw(2);return e.KtG(a.deleteCollectionFilter(s))}),e.qZA()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.oxw(2);e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(t.collection.name),e.xp6(7),e.um2(9,"limitation"===n.lobbyForm.controls.collectionFilters.at(i).controls.type.value?9:-1)}}function Ei(o,r){if(1&o&&e._UZ(0,"mat-option",78),2&o){const t=r.$implicit;e.Q6J("value",t)("innerHTML",t.name,e.oJD)}}function Zi(o,r){1&o&&(e.TgZ(0,"span",86),e._uU(1,"to"),e.qZA(),e._UZ(2,"input",87))}function Fi(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",79)(1,"span",80),e._uU(2),e.qZA(),e.TgZ(3,"div",81)(4,"select",82)(5,"option",83),e._uU(6,"Excluded"),e.qZA(),e.TgZ(7,"option",84),e._uU(8,"Limited"),e.qZA()(),e.YNc(9,Zi,3,0),e.TgZ(10,"i",85),e.NdJ("click",function(){const s=e.CHM(t).$index,a=e.oxw(2);return e.KtG(a.deleteGenreFilter(s))}),e.qZA()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.oxw(2);e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(t.genre.name),e.xp6(7),e.um2(9,"limitation"===n.lobbyForm.controls.genreFilters.at(i).controls.type.value?9:-1)}}function Pi(o,r){if(1&o&&e._UZ(0,"mat-option",78),2&o){const t=r.$implicit;e.Q6J("value",t)("innerHTML",t.name,e.oJD)}}function Ui(o,r){1&o&&(e.TgZ(0,"span",86),e._uU(1,"to"),e.qZA(),e._UZ(2,"input",87))}function Di(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",79)(1,"span",80),e._uU(2),e.qZA(),e.TgZ(3,"div",81)(4,"select",82)(5,"option",83),e._uU(6,"Excluded"),e.qZA(),e.TgZ(7,"option",84),e._uU(8,"Limited"),e.qZA()(),e.YNc(9,Ui,3,0),e.TgZ(10,"i",85),e.NdJ("click",function(){const s=e.CHM(t).$index,a=e.oxw(2);return e.KtG(a.deleteThemeFilter(s))}),e.qZA()()()}if(2&o){const t=r.$implicit,i=r.$index,n=e.oxw(2);e.Q6J("formGroupName",i),e.xp6(2),e.Oqu(t.theme.name),e.xp6(7),e.um2(9,"limitation"===n.lobbyForm.controls.themeFilters.at(i).controls.type.value?9:-1)}}function Ni(o,r){1&o&&e._UZ(0,"span",92)}function Vi(o,r){if(1&o&&(e.TgZ(0,"div",88)(1,"div",89)(2,"button",90),e._uU(3," Create "),e.YNc(4,Ni,1,0,"span",91),e.qZA()()()),2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.submitLoading)}}function Bi(o,r){1&o&&e._UZ(0,"span",92)}function Li(o,r){if(1&o&&(e.TgZ(0,"button",90),e._uU(1," Save "),e.YNc(2,Bi,1,0,"span",91),e.qZA()),2&o){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",t.submitLoading)}}function Oi(o,r){if(1&o&&(e.TgZ(0,"div",88)(1,"div",89),e.YNc(2,Li,3,1,"button",93),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.userCanEdit)}}function Hi(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(!n.userCanEdit||n.submit())}),e.TgZ(1,"div",4)(2,"div",5),e._UZ(3,"input",6),e.TgZ(4,"div",7),e._UZ(5,"input",8),e.TgZ(6,"span",9),e._uU(7,"keep it empty if this is public lobby"),e.qZA()()(),e.TgZ(8,"h1",10),e._uU(9,"Settings"),e.qZA(),e.TgZ(10,"div",11)(11,"div",12)(12,"h3"),e._uU(13,"Lobby"),e.qZA(),e.TgZ(14,"div",11)(15,"div",13)(16,"div")(17,"label"),e._uU(18,"Number of musics "),e.qZA()(),e.TgZ(19,"mat-slider",14),e._UZ(20,"input",15),e.qZA(),e.TgZ(21,"div",16),e._UZ(22,"input",17),e.qZA()(),e.TgZ(23,"div",13)(24,"div")(25,"label"),e._uU(26,"Guessing time "),e.qZA()(),e.TgZ(27,"div")(28,"mat-slider",14),e._UZ(29,"input",18),e.qZA(),e.TgZ(30,"div",16),e._UZ(31,"input",19),e._uU(32,"s "),e.qZA()()(),e.TgZ(33,"div",13)(34,"div")(35,"label"),e._uU(36," Played games "),e._UZ(37,"i",20),e.qZA()(),e.TgZ(38,"div")(39,"mat-slider",21),e._UZ(40,"input",22),e.qZA(),e.TgZ(41,"div",16),e._UZ(42,"input",23,24),e.qZA()()()()(),e.TgZ(44,"div",25)(45,"h3"),e._uU(46,"Difficulty"),e.qZA(),e.TgZ(47,"section",26)(48,"mat-checkbox",27),e._uU(49," Easy "),e.qZA(),e.TgZ(50,"mat-checkbox",28),e._uU(51,"Medium"),e.qZA(),e.TgZ(52,"mat-checkbox",29),e._uU(53,"Hard"),e.qZA()(),e.YNc(54,Si,3,2,"mat-checkbox",30),e.TgZ(55,"div")(56,"h3"),e._uU(57," Hint Button "),e._UZ(58,"i",31),e.qZA(),e.TgZ(59,"mat-radio-group",32)(60,"mat-radio-button",33),e._uU(61,"Disabled"),e.qZA(),e.TgZ(62,"mat-radio-button",33),e._uU(63,"Allowed"),e.qZA(),e.TgZ(64,"mat-radio-button",33),e._uU(65,"Always"),e.qZA()()()(),e.TgZ(66,"div",34)(67,"h3"),e._uU(68,"Game mode"),e.qZA(),e.TgZ(69,"mat-radio-group",35)(70,"mat-radio-button",33),e._uU(71,"Standard"),e.qZA(),e.TgZ(72,"mat-radio-button",36),e._uU(73,"Quick-draw"),e.qZA(),e.TgZ(74,"mat-radio-button",37),e._uU(75,"Battle royale"),e.qZA(),e.TgZ(76,"mat-radio-button",38),e._uU(77," Local Couch "),e.qZA()()()(),e.TgZ(78,"div",39)(79,"div",40)(80,"h3"),e._uU(81,"Modifiers"),e.qZA(),e.TgZ(82,"mat-checkbox",41),e._uU(83," Duplicate games "),e.qZA(),e.TgZ(84,"mat-checkbox",42),e._uU(85," Keep Playing Music On Answer Reveal "),e.qZA(),e.TgZ(86,"mat-checkbox",43),e._uU(87," Show correct answers during guess time "),e.qZA(),e.TgZ(88,"mat-checkbox",44),e._uU(89," Allow answer by game series "),e.qZA()()(),e.TgZ(90,"div",39)(91,"div",45)(92,"h3"),e._uU(93,"Filters"),e.qZA(),e.TgZ(94,"div",46),e.YNc(95,ki,5,0,"div",47),e.TgZ(96,"div",48)(97,"div",49)(98,"mat-checkbox",50,51),e._uU(100," Filter by year "),e.qZA(),e.YNc(101,Ii,6,6,"div"),e.qZA(),e.TgZ(102,"div",52)(103,"mat-checkbox",53,51),e._uU(105," Limit all game series to "),e._UZ(106,"input",54),e.qZA()(),e.TgZ(107,"div",55)(108,"mat-form-field",56),e._UZ(109,"input",57,58),e.TgZ(111,"mat-autocomplete",59,60),e.NdJ("optionSelected",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.addCollectionFilter(n))}),e.YNc(113,Ai,1,2,"mat-option",61),e.ALo(114,"async"),e.qZA()(),e.TgZ(115,"div",62),e.SjG(116,Ri,11,3,"div",94,e.ikw),e.qZA()(),e.TgZ(118,"div",55)(119,"mat-form-field",56),e._UZ(120,"input",63,58),e.TgZ(122,"mat-autocomplete",59,64),e.NdJ("optionSelected",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.addGenreFilter(n))}),e.YNc(124,Ei,1,2,"mat-option",61),e.ALo(125,"async"),e.qZA()(),e.TgZ(126,"div",65),e.SjG(127,Fi,11,3,"div",94,e.ikw),e.qZA()(),e.TgZ(129,"div",55)(130,"mat-form-field",56),e._UZ(131,"input",66,58),e.TgZ(133,"mat-autocomplete",59,67),e.NdJ("optionSelected",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.addThemeFilter(n))}),e.YNc(135,Pi,1,2,"mat-option",61),e.ALo(136,"async"),e.qZA()(),e.TgZ(137,"div",68),e.SjG(138,Di,11,3,"div",94,e.ikw),e.qZA()()()()()(),e.YNc(140,Vi,5,1,"div",69),e.qZA(),e.YNc(141,Oi,3,1,"div",69),e.qZA()}if(2&o){const t=e.MAs(99),i=e.MAs(112),n=e.MAs(123),s=e.MAs(134),a=e.oxw();e.Q6J("formGroup",a.lobbyForm),e.xp6(19),e.Q6J("min",5)("max",100)("step",1),e.xp6(9),e.Q6J("min",5)("max",30)("step",1),e.xp6(11),e.Q6J("min",0)("step",1)("max",a.lobbyForm.get("musicNumber").value),e.xp6(3),e.Q6J("max",a.lobby?a.lobby.playedMusics:20),e.xp6(12),e.Q6J("ngIf",!a.hideContribution()),e.xp6(4),e.Q6J("html",!0),e.xp6(2),e.Q6J("value",a.lobbyHintModes.Disabled),e.xp6(2),e.Q6J("value",a.lobbyHintModes.Allowed),e.xp6(2),e.Q6J("value",a.lobbyHintModes.Always),e.xp6(6),e.Q6J("value",a.lobbyGameModes.Standard),e.xp6(6),e.Q6J("value",a.lobbyGameModes.LocalCouch)("html",!0),e.xp6(19),e.um2(95,(a.lobby?a.lobby.premium:a.lobbyInfo.userIsPremium)?-1:95),e.xp6(6),e.um2(101,t.checked?101:-1),e.xp6(8),e.Q6J("formControl",a.collectionFormControl)("matAutocomplete",i),e.xp6(2),e.Q6J("displayWith",a.formatFilter),e.xp6(2),e.Q6J("ngForOf",e.lcZ(114,35,a.collections)),e.xp6(3),e.wJu(a.collectionFilters),e.xp6(4),e.Q6J("formControl",a.genreFormControl)("matAutocomplete",n),e.xp6(2),e.Q6J("displayWith",a.formatFilter),e.xp6(2),e.Q6J("ngForOf",e.lcZ(125,37,a.genres)),e.xp6(3),e.wJu(a.genreFilters),e.xp6(4),e.Q6J("formControl",a.themeFormControl)("matAutocomplete",s),e.xp6(2),e.Q6J("displayWith",a.formatFilter),e.xp6(2),e.Q6J("ngForOf",e.lcZ(136,39,a.themes)),e.xp6(3),e.wJu(a.themeFilters),e.xp6(2),e.Q6J("ngIf",!a.lobby),e.xp6(),e.Q6J("ngIf",a.lobby)}}let wt=(()=>{class o{fb;lobbyHttpService;gameHttpService;router;lobbyStore;authService;lobbyForm;lobby;submitLoading=!1;loading=!1;userCanEdit=!0;subscriptions=[];lobbyInfo;lobbyGameModes=m.in;lobbyHintModes=m.BF;songSelectionPercentage=100;collections;collectionFormControl=new l.NI;collectionFilters=[];genres;genreFormControl=new l.NI;genreFilters=[];themes;themeFormControl=new l.NI;themeFilters=[];musicPlayedInput;constructor(t,i,n,s,a,h){this.fb=t,this.lobbyHttpService=i,this.gameHttpService=n,this.router=s,this.lobbyStore=a,this.authService=h}ngOnInit(){var t=this;return(0,ue.Z)(function*(){t.lobby=t.lobbyStore.getLobby(),t.loading=!0,t.songSelectionPercentage=t.lobby?t.lobby.playedMusics/t.lobby.musicNumber*100:100,t.lobbyInfo=yield function Qt(o,r){const t="object"==typeof r;return new Promise((i,n)=>{const s=new qt.Hp({next:a=>{i(a),s.unsubscribe()},error:n,complete:()=>{t?i(r.defaultValue):n(new Yt.K)}});o.subscribe(s)})}(t.lobbyHttpService.info()),t.lobbyForm=t.fb.group({name:[t.lobby?t.lobby.name:`${t.authService.decodeJwt().username}'s lobby`,l.kI.required.bind(t)],password:[t.lobby?.password],musicNumber:[t.lobby?t.lobby.musicNumber:20,[l.kI.max(100),l.kI.min(5)]],playedMusics:[t.lobby?t.lobby.playedMusics:20,[l.kI.max(t.lobby?.musicNumber??20),l.kI.min(0)]],guessTime:[t.lobby?t.lobby.guessTime:20,[l.kI.max(30),l.kI.min(5)]],allowDuplicates:[!!t.lobby&&t.lobby.allowDuplicates],easyDifficulty:[!t.lobby||t.lobby.difficulty.includes(m.PT.Easy)],mediumDifficulty:[!t.lobby||t.lobby.difficulty.includes(m.PT.Medium)],hardDifficulty:[!t.lobby||t.lobby.difficulty.includes(m.PT.Hard)],allowContributeToMissingData:[!t.lobby||t.lobby.allowContributeToMissingData],allowCollectionAnswer:[!!t.lobby&&t.lobby.allowCollectionAnswer],gameMode:[t.lobby?t.lobby.gameMode:m.in.Standard],playMusicOnAnswerReveal:[!t.lobby||t.lobby.playMusicOnAnswerReveal],showCorrectAnswersDuringGuessTime:[!!t.lobby&&t.lobby.showCorrectAnswersDuringGuessTime],hintMode:[t.lobby?t.lobby.hintMode:m.BF.Allowed,[l.kI.required.bind(t)]],filterByYear:[!!t.lobby&&t.lobby.filterByYear],filterMinYear:[t.lobby?t.lobby.filterMinYear:t.lobbyInfo.filterMinYear,[l.kI.max(t.lobbyInfo.filterMaxYear),l.kI.min(t.lobbyInfo.filterMinYear)]],filterMaxYear:[t.lobby?t.lobby.filterMaxYear:t.lobbyInfo.filterMaxYear,[l.kI.max(t.lobbyInfo.filterMaxYear),l.kI.min(t.lobbyInfo.filterMinYear)]],limitAllCollections:[!!t.lobby&&t.lobby.limitAllCollectionsTo>0],limitAllCollectionsTo:[t.lobby&&t.lobby.limitAllCollectionsTo||1],collectionFilters:new l.Oe(t.lobby?.collectionFilters?t.lobby.collectionFilters.map(i=>new l.cw({id:new l.NI(i.id),type:new l.NI(i.type),limitation:new l.NI(i.limitation)})):[]),genreFilters:new l.Oe(t.lobby?.genreFilters?t.lobby.genreFilters.map(i=>new l.cw({id:new l.NI(i.id),type:new l.NI(i.type),limitation:new l.NI(i.limitation)})):[]),themeFilters:new l.Oe(t.lobby?.themeFilters?t.lobby.themeFilters.map(i=>new l.cw({id:new l.NI(i.id),type:new l.NI(i.type),limitation:new l.NI(i.limitation)})):[])}),t.loading=!1,t.lobby&&(t.subscriptions=[t.lobbyStore.lobby.subscribe(i=>{t.lobby=i,t.lobbyForm.patchValue({name:t.lobby.name,...t.lobby?.password&&{password:t.lobby?.password},musicNumber:t.lobby.musicNumber,guessTime:t.lobby.guessTime,allowDuplicates:t.lobby.allowDuplicates,easyDifficulty:t.lobby.difficulty.includes(m.PT.Easy),mediumDifficulty:t.lobby.difficulty.includes(m.PT.Medium),hardDifficulty:t.lobby.difficulty.includes(m.PT.Hard)}),t.lobbyForm.controls.collectionFilters=new l.Oe(i.collectionFilters.map(n=>new l.cw({id:new l.NI(n.collection.id,[l.kI.required.bind(t)]),type:new l.NI(n.type,[l.kI.required.bind(t)]),limitation:new l.NI(n.limitation)}))),t.lobbyForm.controls.genreFilters=new l.Oe(i.genreFilters.map(n=>new l.cw({id:new l.NI(n.genre.id,[l.kI.required.bind(t)]),type:new l.NI(n.type,[l.kI.required.bind(t)]),limitation:new l.NI(n.limitation)}))),t.lobbyForm.controls.themeFilters=new l.Oe(i.themeFilters.map(n=>new l.cw({id:new l.NI(n.theme.id,[l.kI.required.bind(t)]),type:new l.NI(n.type,[l.kI.required.bind(t)]),limitation:new l.NI(n.limitation)}))),t.collectionFilters=i.collectionFilters,t.genreFilters=i.genreFilters,t.themeFilters=i.themeFilters,t.toggleForms()}),t.lobbyStore.me.subscribe(i=>{null!==i&&(t.userCanEdit=i.role===V.Host,t.toggleForms())})]),t.lobbyForm.get("musicNumber").valueChanges.subscribe({next:i=>{t.lobbyForm.get("musicNumber").setValue(i,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0}),t.musicPlayedInput.nativeElement.max=i;const n=t.lobbyForm.get("playedMusics");n.setValue(Math.round(i*t.songSelectionPercentage/100),{emitEvent:!1}),n.setValidators([l.kI.max(t.lobby?.musicNumber||20),l.kI.min(0)])}}),t.lobbyForm.get("guessTime").valueChanges.subscribe({next:i=>{t.lobbyForm.get("guessTime").setValue(i,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),t.lobbyForm.get("playedMusics").valueChanges.subscribe({next:i=>{t.lobbyForm.get("playedMusics").setValue(i,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0}),t.songSelectionPercentage=i/t.lobbyForm.get("musicNumber").value*100}}),t.collections=t.gameHttpService.getCollections(""),t.collections=t.collectionFormControl.valueChanges.pipe((0,Pe.O)(""),(0,me.w)(i=>null===i?t.collections:t.gameHttpService.getCollections(i)),(0,Ue.U)(i=>i.filter(n=>!t.collectionFilters.map(s=>s.collection.id).includes(n.id)))),t.genres=t.gameHttpService.getGenres(""),t.genres=t.genreFormControl.valueChanges.pipe((0,Pe.O)(""),(0,me.w)(i=>null===i?t.genres:t.gameHttpService.getGenres(i)),(0,Ue.U)(i=>i.filter(n=>!t.genreFilters.map(s=>s.genre.id).includes(n.id)))),t.themes=t.gameHttpService.getThemes(""),t.themes=t.themeFormControl.valueChanges.pipe((0,Pe.O)(""),(0,me.w)(i=>null===i?t.themes:t.gameHttpService.getThemes(i)),(0,Ue.U)(i=>i.filter(n=>!t.themeFilters.map(s=>s.theme.id).includes(n.id))))})()}toggleForms(){this.userCanEdit?(this.lobbyForm.enable(),this.collectionFormControl.enable(),this.genreFormControl.enable(),this.themeFormControl.enable()):(this.lobbyForm.disable(),this.collectionFormControl.disable(),this.genreFormControl.disable(),this.themeFormControl.disable())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}submit(){this.submitLoading=!0;let t=[];this.lobbyForm.get("easyDifficulty").value&&(t=[...t,m.PT.Easy]),this.lobbyForm.get("mediumDifficulty").value&&(t=[...t,m.PT.Medium]),this.lobbyForm.get("hardDifficulty").value&&(t=[...t,m.PT.Hard]);const i={name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,playedMusics:this.lobbyForm.get("playedMusics").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:t,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,showCorrectAnswersDuringGuessTime:this.lobbyForm.get("showCorrectAnswersDuringGuessTime").value,hintMode:this.lobbyForm.get("hintMode").value,filterByYear:this.lobbyForm.get("filterByYear").value,filterMinYear:this.lobbyForm.get("filterMinYear").value,filterMaxYear:this.lobbyForm.get("filterMaxYear").value,allowCollectionAnswer:this.lobbyForm.get("allowCollectionAnswer").value,limitAllCollectionsTo:this.lobbyForm.controls.limitAllCollections.value?this.lobbyForm.get("limitAllCollectionsTo").value:0,collectionFilters:this.lobbyForm.controls.collectionFilters.getRawValue().map(n=>({id:n.id,type:n.type,limitation:n.limitation})),genreFilters:this.lobbyForm.controls.genreFilters.getRawValue().map(n=>({id:n.id,type:n.type,limitation:n.limitation})),themeFilters:this.lobbyForm.controls.themeFilters.getRawValue().map(n=>({id:n.id,type:n.type,limitation:n.limitation}))};null===this.lobby?this.lobbyHttpService.create(i).pipe((0,ut.x)(()=>this.submitLoading=!1)).subscribe(n=>{this.router.navigate([`/lobby/${n.code}`])}):this.lobbyHttpService.update(this.lobby.code,i).pipe((0,ut.x)(()=>this.submitLoading=!1)).subscribe(()=>{})}hideContribution(){return this.lobbyForm.get("easyDifficulty").value&&this.lobbyForm.get("mediumDifficulty").value&&this.lobbyForm.get("hardDifficulty").value}accuracyText(){return`By checking this, each music has <strong class="text-primary">${Math.round(1e4*(this.lobbyInfo.musicAccuracyRatio+Number.EPSILON))/100}% chance</strong> to not reflect the difficulty chosen in order to improve our database.<br>The more you play, the lower the chance!`}formatFilter=t=>t?.name;addCollectionFilter(t){const i=t.option.value;this.collectionFilters.push({type:"exclusion",collection:i}),this.lobbyForm.controls.collectionFilters.push(new l.cw({id:new l.NI(i.id,[l.kI.required.bind(this)]),type:new l.NI("exclusion",[l.kI.required.bind(this)]),limitation:new l.NI(1)})),this.collectionFormControl.setValue("")}deleteCollectionFilter(t){this.collectionFilters.splice(t,1),this.lobbyForm.controls.collectionFilters.removeAt(t),this.collectionFormControl.setValue("")}addGenreFilter(t){const i=t.option.value;this.genreFilters.push({type:"exclusion",genre:i}),this.lobbyForm.controls.genreFilters.push(new l.cw({id:new l.NI(i.id,[l.kI.required.bind(this)]),type:new l.NI("exclusion",[l.kI.required.bind(this)]),limitation:new l.NI(1)})),this.genreFormControl.setValue("")}deleteGenreFilter(t){this.genreFilters.splice(t,1),this.lobbyForm.controls.genreFilters.removeAt(t),this.genreFormControl.setValue("")}addThemeFilter(t){const i=t.option.value;this.themeFilters.push({type:"exclusion",theme:i}),this.lobbyForm.controls.themeFilters.push(new l.cw({id:new l.NI(i.id,[l.kI.required.bind(this)]),type:new l.NI("exclusion",[l.kI.required.bind(this)]),limitation:new l.NI(1)})),this.themeFormControl.setValue("")}deleteThemeFilter(t){this.themeFilters.splice(t,1),this.lobbyForm.controls.themeFilters.removeAt(t),this.themeFormControl.setValue("")}static \u0275fac=function(i){return new(i||o)(e.Y36(l.qu),e.Y36(he.Y),e.Y36(Ne.q),e.Y36(ne.F0),e.Y36(x),e.Y36(Ve.e))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-config"]],viewQuery:function(i,n){if(1&i&&e.Gf(Ti,5),2&i){let s;e.iGM(s=e.CRH())&&(n.musicPlayedInput=s.first)}},decls:3,vars:1,consts:[[1,"bg-dark","tw-p-3","tw-rounded-md","tw-h-full"],["class","spinner-border text-primary spinner-border-sm","role","status","aria-hidden","true"],["role","status","aria-hidden","true",1,"spinner-border","text-primary","spinner-border-sm"],[1,"h-100",3,"formGroup","ngSubmit"],[1,"form-container"],[1,"tw-flex","tw-flex-col","md:tw-flex-row","tw-gap-4","md:tw-gap-8"],["type","text","formControlName","name","required","required","placeholder","Lobby name",1,"form-control","!tw-bg-grey","tw-rounded-md","placeholder:tw-text-light-grey","tw-h-[50px]","tw-w-[200px]"],[1,"tw-flex","tw-flex-col","tw-items-start","md:tw-items-center"],["type","text","formControlName","password","required","required","placeholder","Password",1,"form-control","!tw-bg-grey","tw-rounded-md","placeholder:tw-text-light-grey","tw-h-[50px]","tw-w-[200px]","tw-mb-2"],[1,"tw-text-xs"],[1,"!tw-mt-2"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary",2,"width","70%",3,"min","max","step"],["matSliderThumb","","formControlName","musicNumber"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["matSliderThumb","","formControlName","guessTime"],["type","number","max","100","min","5","formControlName","guessTime"],["mdbTooltip","The number of songs from players' list. The rest will be filled with random games.","placement","top",1,"fa-solid","fa-question-circle"],["color","primary",2,"width","70%",3,"min","step","max"],["matSliderThumb","","formControlName","playedMusics"],["type","number","min","0","formControlName","playedMusics",3,"max"],["musicPlayedInput",""],[1,"col-md-6","mb-2"],[1,"mb-3"],["formControlName","easyDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","mediumDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","hardDifficulty","color","primary",1,"mx-3","checkbox-center"],["class","mx-3","color","primary","formControlName","allowContributeToMissingData",4,"ngIf"],["mdbTooltip","Allow players to choose between 4 answers, but they win half the usual points","placement","bottom",1,"fa-solid","fa-question-circle",3,"html"],["aria-label","Select an option","formControlName","hintMode","color","primary",1,"d-flex"],[3,"value"],[1,"col-md-6","mt-2","mt-md-0"],["aria-label","Select an option","formControlName","gameMode","color","primary",1,"d-flex"],["value","2","disabled",""],["value","3","disabled",""],["mdbTooltip","One of you plays the music, the other can turn off their phone. <br>Don't worry about neither your score nor your accuracy, it's gone","placement","bottom",3,"value","html"],[1,"row","mt-3"],[1,"col-md-6"],["formControlName","allowDuplicates","color","primary",1,"me-2","checkbox-center"],["formControlName","playMusicOnAnswerReveal","color","primary",1,"me-2","checkbox-center"],["formControlName","showCorrectAnswersDuringGuessTime","color","primary",1,"me-2","checkbox-center"],["formControlName","allowCollectionAnswer","color","primary",1,"me-2","checkbox-center"],[1,"col-md-12"],[1,"tw-relative"],["class","tw-absolute w-100 h-100 tw-flex tw-flex-col tw-justify-center tw-rounded-2xl","style","background-color: rgba(0, 0, 0, 0.78); z-index: 10"],[1,"!tw-px-2","tw-grid","tw-grid-cols-1","lg:tw-grid-cols-3","tw-gap-4"],[1,"tw-col-span-1","lg:tw-col-span-1"],["formControlName","filterByYear","color","primary",1,"me-2","checkbox-center"],["filterDate",""],[1,"tw-col-span-1","lg:tw-col-span-2"],["formControlName","limitAllCollections","color","primary",1,"me-2","checkbox-center"],["type","number","max","100","min","1","formControlName","limitAllCollectionsTo"],[1,"tw-col-span-1"],[1,"tw-w-full"],["type","text","placeholder","Filter by serie","aria-label","Number","matInput","","autocomplete","off","autocapitalize","off","spellcheck","false",3,"formControl","matAutocomplete"],["trigger","matAutocompleteTrigger"],[3,"displayWith","optionSelected"],["collectionAutocomplete","matAutocomplete"],[3,"value","innerHTML",4,"ngFor","ngForOf"],["formArrayName","collectionFilters",1,"tw-flex","flex-column"],["type","text","placeholder","Filter by genre","aria-label","Number","matInput","","autocomplete","off","autocapitalize","off","spellcheck","false",3,"formControl","matAutocomplete"],["genreAutocomplete","matAutocomplete"],["formArrayName","genreFilters",1,"tw-flex","flex-column"],["type","text","placeholder","Filter by theme","aria-label","Number","matInput","","autocomplete","off","autocapitalize","off","spellcheck","false",3,"formControl","matAutocomplete"],["themeAutocomplete","matAutocomplete"],["formArrayName","themeFilters",1,"tw-flex","flex-column"],["class","row justify-content-end mt-2",4,"ngIf"],["color","primary","formControlName","allowContributeToMissingData",1,"mx-3"],["placement","bottom",1,"fa-solid","fa-question-circle",3,"mdbTooltip","html"],[1,"tw-absolute","w-100","h-100","tw-flex","tw-flex-col","tw-justify-center","tw-rounded-2xl",2,"background-color","rgba(0, 0, 0, 0.78)","z-index","10"],[1,"tw-self-center"],["href","https://www.patreon.com/c/littlegubs","target","_blank",1,"btn","btn-primary","tw-self-center"],[3,"min","max"],["matSliderStartThumb","","formControlName","filterMinYear",3,"value"],["matSliderEndThumb","","formControlName","filterMaxYear",3,"value"],[3,"value","innerHTML"],[1,"max-xl:tw-flex-col","tw-mb-2","lg:tw-flex",3,"formGroupName"],[1,"tw-w-full","xl:tw-w-1/2"],[1,"tw-w-full","xl:tw-w-1/2","tw-flex","tw-justify-end","tw-items-center"],["formControlName","type"],["value","exclusion"],["value","limitation"],[1,"ms-2","fa-solid","fa-times","text-danger",3,"click"],[1,"tw-mx-1"],["type","number","max","100","min","1","formControlName","limitation"],[1,"row","justify-content-end","mt-2"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["class","btn btn-primary w-100","type","submit",4,"ngIf"],["class","max-xl:tw-flex-col tw-mb-2 lg:tw-flex",3,"formGroupName"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Ci,1,0,"span",1)(2,Hi,142,41),e.qZA()),2&i&&(e.xp6(),e.um2(1,n.loading?1:2))},dependencies:[u.sg,u.O5,Jt.oG,Le.KE,Ce.XC,P.ey,Ce.ZL,mt.Nt,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.Q7,l.qQ,l.Fd,l.oH,l.sg,l.u,l.x0,l.CE,_t,Ie,ft,xt,He,Re,u.Ov],encapsulation:2})}return o})(),Yi=(()=>{class o{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"tw-w-5/6"]],template:function(i,n){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-lobby-config",0),e.qZA())},dependencies:[wt],encapsulation:2})}return o})();var qi=c(2132),Qi=c(4896),Ji=c(2075),Gi=c(7700),X=c(9678),zi=c(68);function ji(o,r){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.play())}),e._uU(2,"Play"),e.qZA(),e.BQk()}}const Xi=o=>({row:o}),Wi=(o,r)=>({"col-md-6":o,"col-md-12":r});let Tt=(()=>{class o{lobbyHttpService;lobbyStore;socket;router;lobby;role;lobbyUsersRoles=V;lobbyStatus=m.D;subscriptions=[];constructor(t,i,n,s){this.lobbyHttpService=t,this.lobbyStore=i,this.socket=n,this.router=s}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&(this.role=t.role)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.socket.emit("leave",this.lobby.code),this.router.navigate(["/"])}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&this.lobby.status===m.D.Waiting}static \u0275fac=function(i){return new(i||o)(e.Y36(he.Y),e.Y36(x),e.Y36(X.i),e.Y36(ne.F0))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-button-play"]],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,ji,3,0,"ng-container",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.leave()}),e._uU(3," Leave "),e.qZA()()),2&i&&(e.Q6J("ngClass",e.VKq(3,Xi,n.showPlayButton())),e.xp6(),e.Q6J("ngIf",n.showPlayButton()),e.xp6(),e.Q6J("ngClass",e.WLB(5,Wi,n.showPlayButton(),!n.showPlayButton())))},dependencies:[u.mk,u.O5],encapsulation:2})}return o})();const $i=["chat"],Ki=["messageElement"];function eo(o,r){if(1&o&&(e.TgZ(0,"span",9),e._uU(1),e.qZA(),e._uU(2)),2&o){const t=e.oxw().$implicit;e.xp6(),e.hij("",t.username,": "),e.xp6(),e.hij(" ",t.message," ")}}function to(o,r){if(1&o&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(),e.Oqu(t.message)}}function io(o,r){if(1&o&&(e.TgZ(0,"div",null,8),e.YNc(2,eo,3,2)(3,to,2,1),e.qZA()),2&o){const t=r.$implicit;e.xp6(2),e.um2(2,null!==t.username?2:3)}}const oo=o=>({disabled:o});let Ct=(()=>{class o{lobbyStore;socket;subscriptions=[];messages=[];message=new l.NI(null,[l.kI.required.bind(this)]);chat;messageElements;constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.messages.subscribe(t=>{this.messages=t})]}ngAfterViewInit(){this.scrollToBottom(),this.messageElements.changes.subscribe(this.scrollToBottom)}scrollToBottom=()=>{this.chat.nativeElement.scrollTop=this.chat.nativeElement.scrollHeight};ngOnDestroy(){this.lobbyStore.setMessages([]),this.subscriptions.forEach(t=>t.unsubscribe())}submit(){this.socket.emit("chat",this.message.value),this.message.setValue(null)}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(X.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-chat"]],viewQuery:function(i,n){if(1&i&&(e.Gf($i,5),e.Gf(Ki,5)),2&i){let s;e.iGM(s=e.CRH())&&(n.chat=s.first),e.iGM(s=e.CRH())&&(n.messageElements=s)}},decls:10,vars:5,consts:[[1,"bg-dark","p-4","chat-container","d-none","d-md-block"],[1,"chat"],["chat",""],[4,"ngFor","ngForOf"],[1,"input-group","align-self-center","w-100","mt-2",3,"ngSubmit"],["type","text","placeholder","Your message","aria-label","Your message","aria-describedby","button-addon2",1,"form-control",3,"formControl"],["type","submit","id","button-addon2",1,"btn","btn-outline-primary",3,"ngClass"],[1,"far","fa-paper-plane"],["messageElement",""],[1,"text-primary"],[1,"text-warning"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,io,4,1,"div",3),e.qZA(),e.TgZ(4,"div")(5,"form",4),e.NdJ("ngSubmit",function(){return n.message.invalid||n.submit()}),e._UZ(6,"input",5),e.TgZ(7,"button",6),e._uU(8," Send "),e._UZ(9,"i",7),e.qZA()()()()),2&i&&(e.xp6(3),e.Q6J("ngForOf",n.messages),e.xp6(3),e.Q6J("formControl",n.message),e.xp6(),e.Q6J("ngClass",e.VKq(3,oo,n.message.invalid)))},dependencies:[u.mk,u.sg,l._Y,l.Fj,l.JJ,l.JL,l.F,l.oH],encapsulation:2})}return o})(),no=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-waiting"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-9","lobby-col"],[1,"d-md-none"],[1,"col-md-9"],[1,"col-md-3","lobby-col"],[1,"d-none","d-md-block","mb-md-2"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-button-play",2)(3,"app-lobby-config",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"app-button-play",5)(6,"app-lobby-chat"),e.qZA()())},dependencies:[wt,Tt,Ct],encapsulation:2})}return o})();function so(o,r){1&o&&e._UZ(0,"i",11)}function ro(o,r){1&o&&e._UZ(0,"i",12)}function ao(o,r){1&o&&e._UZ(0,"span",13)}function lo(o,r){1&o&&e._UZ(0,"i",14)}function co(o,r){1&o&&e._UZ(0,"i",15)}function uo(o,r){1&o&&e._UZ(0,"i",16)}function mo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",17)(1,"div",18)(2,"div",19)(3,"i",20),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw();return e.KtG(s.kick(n))}),e.qZA()()()()}}const ho=(o,r)=>({"mx-2":o,"mx-3":r}),po=o=>({"text-muted":o});function bo(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div"),e.YNc(4,so,1,0,"i",4)(5,ro,1,0,"i",5),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,ao,1,0,"span",6),e.qZA(),e.TgZ(9,"div"),e.YNc(10,lo,1,0,"i",7)(11,co,1,0,"i",8)(12,uo,1,0,"i",9),e.qZA(),e._UZ(13,"div"),e.qZA(),e.YNc(14,mo,4,0,"div",10),e.qZA(),e.BQk()),2&o){const t=r.$implicit,i=e.oxw();e.xp6(),e.Q6J("ngClass",e.WLB(11,ho,i.me.role!==i.lobbyUserRoles.Host,i.me.role===i.lobbyUserRoles.Host)),e.xp6(),e.Q6J("@userStatus",i.getStatusClass(t))("ngClass",e.VKq(14,po,t.disconnected||t.role===i.lobbyUserRoles.Spectator)),e.xp6(2),e.Q6J("ngIf",t.role===i.lobbyUserRoles.Host),e.xp6(),e.Q6J("ngIf",t.role===i.lobbyUserRoles.Spectator&&!t.disconnected),e.xp6(2),e.Oqu(t.user.username),e.xp6(),e.Q6J("ngIf",t.status===i.lobbyUserStatus.Buffering),e.xp6(2),e.Q6J("ngIf",!0===t.user.premium),e.xp6(),e.Q6J("ngIf",t.playedTheGame),e.xp6(),e.Q6J("ngIf",(null==i.lobby?null:i.lobby.hintMode)!==i.lobbyHintModes.Always&&t.hintMode),e.xp6(2),e.Q6J("ngIf",i.me.role===i.lobbyUserRoles.Host&&t.role===i.lobbyUserRoles.Player)}}let _o=(()=>{class o{lobbyStore;socket;showRank=!1;users;me;lobby;lobbyHintModes=m.BF;lobbyUserRoles=V;lobbyUserStatus=De;subscriptions=[];constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(t=>{this.users=t}),this.lobbyStore.me.subscribe(t=>{this.me=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobby=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getStatusClass(t){return!1===t.correctAnswer?"wrongAnswer":!0===t.correctAnswer?"correctAnswer":"default"}kick(t){this.socket.emit("kick",t.user.username)}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(X.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],[4,"ngFor","ngForOf"],[1,"user-card","bg-dark","text-center","p-1","position-relative",3,"ngClass"],[1,"row","justify-content-between",3,"ngClass"],["class","fa fa-star",4,"ngIf"],["class","fa fa-ghost",4,"ngIf"],["class","text-white spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","tw-mx-1 fa fa-crown tw-text-green",4,"ngIf"],["class","text-info fa fa-gamepad mx-1",4,"ngIf"],["class","text-white far fa-eye mx-1",4,"ngIf"],["class","users-actions d-flex flex-column position-absolute","style","top: 0; right: -15px",4,"ngIf"],[1,"fa","fa-star"],[1,"fa","fa-ghost"],["role","status","aria-hidden","true",1,"text-white","spinner-border","spinner-border-sm"],[1,"tw-mx-1","fa","fa-crown","tw-text-green"],[1,"text-info","fa","fa-gamepad","mx-1"],[1,"text-white","far","fa-eye","mx-1"],[1,"users-actions","d-flex","flex-column","position-absolute",2,"top","0","right","-15px"],[1,"bg-dark","pt-1"],[1,"col"],[1,"icon-action","text-danger","fa","fa-times",3,"click"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,bo,15,16,"ng-container",1),e.qZA()),2&i&&(e.xp6(),e.Q6J("ngForOf",n.users))},dependencies:[u.mk,u.sg,u.O5],encapsulation:2,data:{animation:[(0,p.X$)("userStatus",[(0,p.SB)("wrongAnswer",(0,p.oB)({color:"white"})),(0,p.SB)("correctAnswer",(0,p.oB)({color:"#56ff43"})),(0,p.SB)("default",(0,p.oB)({color:"white"})),(0,p.eR)("* => wrongAnswer",[(0,p.jt)("1s",(0,p.F4)([(0,p.oB)({color:"red",offset:0}),(0,p.oB)({color:"white",offset:.75})]))])])]}})}return o})();const St="audioPlayerVolume",kt="mediaTypeOnReveal",It="audioVisualizer";let Ee=(()=>{class o{getDefaultVolume(){return parseFloat(localStorage.getItem(St)??"0.5")}setDefaultVolume(t){localStorage.setItem(St,t.toString())}getDefaultMediaTypeOnReveal(){return parseInt(localStorage.getItem(kt)??"2")}setDefaultMediaTypeOnReveal(t){localStorage.setItem(kt,t.toString())}getAudioVisualizerStatus(){const t=localStorage.getItem(It);return!t||"true"===t}setAudioVisualizerStatus(t){localStorage.setItem(It,t.toString())}static \u0275fac=function(i){return new(i||o)};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var At=c(6007),Mt=c(2599),Rt=c(2296),qe=c(617),Ze=c(7988);function fo(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"block"),e.qZA())}function go(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"image"),e.qZA())}function yo(o,r){1&o&&(e.TgZ(0,"mat-icon"),e._uU(1,"movie"),e.qZA())}function vo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",11)(1,"mat-slide-toggle",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.setAudioVisualizerStatus())}),e.qZA(),e._uU(2,"Enable audio visualizer "),e._UZ(3,"p"),e.qZA()}if(2&o){const t=e.oxw();e.xp6(),e.Q6J("checked",t.audioVisualizerStatus)}}let xo=(()=>{class o{lobbyStore;localStorageHelper;audio;lobby;subscriptions=[];gainNode;source;nextAudioBuffer;mediaTypeOnReveal;audioContext=new AudioContext;audioVisualizerStatus;meIsPremium=!1;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i}ngOnInit(){var t=this;this.lobbyStore.me.subscribe(i=>{null!==i&&(this.meIsPremium=i.user.premium)}),this.lobbyStore.setCurrentLobbyAudioContext(this.audioContext),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.setValueAtTime(this.getDefaultVolumeValue(),this.audioContext.currentTime),this.mediaTypeOnReveal=this.localStorageHelper.getDefaultMediaTypeOnReveal(),this.audioVisualizerStatus=this.localStorageHelper.getAudioVisualizerStatus(),this.gainNode.connect(this.audioContext.destination),this.lobbyStore.setCurrentLobbyGainNode(this.gainNode),this.subscriptions=[this.lobbyStore.currentLobbyAudioBuffer.subscribe(function(){var i=(0,ue.Z)(function*(n){null!==n?t.lobby.status===m.D.AnswerReveal&&t.lobby.playMusicOnAnswerReveal?t.nextAudioBuffer=n:(t.source?.stop(),t.setSourceNull(),yield t.setSource(n)):t.setSourceNull(),t.lobby?.status===m.D.PlayingMusic&&(t.gainNode.gain.setValueAtTime(t.getDefaultVolumeValue(),t.audioContext.currentTime),t.lobbyStore.setCurrentLobbyGainNode(t.gainNode),t.source?.start())});return function(n){return i.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(function(){var i=(0,ue.Z)(function*(n){t.lobby=n,n&&(n.status===m.D.AnswerReveal&&(n.playMusicOnAnswerReveal?setTimeout(()=>{t.gainNode.gain.setValueAtTime(t.gainNode.gain.value,t.audioContext.currentTime),t.gainNode.gain.exponentialRampToValueAtTime(.01,t.audioContext.currentTime+5),t.lobbyStore.setCurrentLobbyGainNode(t.gainNode)},5e3):t.setSourceNull()),n.status===m.D.PlayingMusic&&(t.nextAudioBuffer&&(t.source?.stop(),t.setSourceNull(),yield t.setSource(t.nextAudioBuffer),t.nextAudioBuffer=void 0),t.gainNode.gain.setValueAtTime(t.getDefaultVolumeValue(),t.audioContext.currentTime),t.lobbyStore.setCurrentLobbyGainNode(t.gainNode),t.source?.start()),!n.playMusicOnAnswerReveal&&n.status!==m.D.PlayingMusic&&t.setSourceNull(),n.status===m.D.Buffering&&t.setSourceNull())});return function(n){return i.apply(this,arguments)}}()),this.lobbyStore.resumeMusic.subscribe((0,ue.Z)(function*(){yield t.audioContext.resume(),t.lobbyStore.setCanPlayMusic("running"===t.audioContext.state)}))]}ngOnDestroy(){this.setSourceNull(),this.audioContext.suspend(),this.subscriptions.forEach(t=>t.unsubscribe())}setSource(t){var i=this;return(0,ue.Z)(function*(){i.gainNode.gain.setValueAtTime(i.getDefaultVolumeValue(),i.audioContext.currentTime),i.lobbyStore.setCurrentLobbyGainNode(i.gainNode);const n=yield i.audioContext.decodeAudioData(t);i.source=i.audioContext.createBufferSource(),i.source.buffer=n,i.source.connect(i.gainNode),i.lobbyStore.setCanPlayMusic("running"===i.audioContext.state),i.lobbyStore.setCurrentLobbySource(i.source)})()}setSourceNull(){this.source&&(this.source.buffer=null)}getDefaultVolumeValue(){return this.localStorageHelper.getDefaultVolume()}updateVolume(t){const i=t.valueAsNumber;this.gainNode.gain.setValueAtTime(i,this.audioContext.currentTime),this.localStorageHelper.setDefaultVolume(i),this.lobbyStore.setCurrentLobbyGainNode(this.gainNode)}getDefaultMediaTypeOnReveal(){return this.localStorageHelper.getDefaultMediaTypeOnReveal()}updateMediaTypeOnReveal(t){this.mediaTypeOnReveal=t,this.localStorageHelper.setDefaultMediaTypeOnReveal(t)}setAudioVisualizerStatus(){this.audioVisualizerStatus=!this.audioVisualizerStatus,this.localStorageHelper.setAudioVisualizerStatus(this.audioVisualizerStatus)}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(Ee))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-audio-player"]],decls:14,vars:13,consts:[["aria-label","unit(s)","color","primary",3,"min","max","step","input"],["matSliderThumb","",3,"value"],["mat-icon-button","",1,"mat-icon-button",3,"matMenuTriggerFor"],["color","primary"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","mdbTooltip","Answer reveal media type"],[4,"ngIf"],["color","primary",3,"min","max","step","click"],["matSliderThumb","",3,"value","valueChange"],["class","tw-border-none tw-bg-transparent"],[1,"tw-border-none","tw-bg-transparent"],["color","primary",3,"checked","click"]],template:function(i,n){if(1&i&&(e.TgZ(0,"mat-slider",0),e.NdJ("input",function(a){return n.updateVolume(a.target)}),e._UZ(1,"input",1),e.qZA(),e.TgZ(2,"button",2)(3,"mat-icon",3),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"mat-menu",4,5)(7,"button",6),e.YNc(8,fo,2,0,"mat-icon",7)(9,go,2,0,"mat-icon",7)(10,yo,2,0,"mat-icon",7),e.TgZ(11,"mat-slider",8),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(12,"input",9),e.NdJ("valueChange",function(a){return n.updateMediaTypeOnReveal(a)}),e.qZA()()(),e.YNc(13,vo,4,1,"button",10),e.qZA()),2&i){const s=e.MAs(6);e.Q6J("min",0)("max",1)("step",.001),e.xp6(),e.Q6J("value",n.getDefaultVolumeValue()),e.xp6(),e.Q6J("matMenuTriggerFor",s),e.xp6(6),e.Q6J("ngIf",!n.mediaTypeOnReveal),e.xp6(),e.Q6J("ngIf",1===n.mediaTypeOnReveal),e.xp6(),e.Q6J("ngIf",2===n.mediaTypeOnReveal),e.xp6(),e.Q6J("min",0)("max",2)("step",1),e.xp6(),e.Q6J("value",n.getDefaultMediaTypeOnReveal()),e.xp6(),e.um2(13,n.meIsPremium?13:-1)}},dependencies:[u.O5,Mt.Rr,Rt.RK,_t,Ie,qe.Hw,Re,Ze.VK,Ze.OP,Ze.p6],encapsulation:2})}return o})();var wo=c(3620),Qe=c(2096),To=c(3997),Co=c(6306);const So=["answerInput"],ko=["trigger"];function Io(o,r){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Autocomplete failed. We will try to get it back ASAP. Sorry for the inconvenience"),e.qZA())}const Ao=o=>({"!tw-text-blue-400":o});function Mo(o,r){if(1&o&&e._UZ(0,"mat-option",7),2&o){const t=r.$implicit;e.Q6J("ngClass",e.VKq(3,Ao,"collection_name"===t.type))("value",t.name)("innerHtml","<span>"+t.highlight+"</span>",e.oJD)}}let Ro=(()=>{class o{lobbyHttpService;lobbyStore;gameHttpService;socket;cdf;myControl=new l.NI;gameNames;lobby;me=null;lobbyStatuses=m.D;subscriptions=[];answerInput;matAutocompleteTrigger;autocompleteFailed=!1;constructor(t,i,n,s,a){this.lobbyHttpService=t,this.lobbyStore=i,this.gameHttpService=n,this.socket=s,this.cdf=a}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,To.x)(),(0,wo.b)(75),(0,me.w)(t=>t?(this.autocompleteFailed=!1,this.gameHttpService.getNames(t,this.lobby.allowCollectionAnswer)):(0,Qe.of)(null)),(0,Co.K)(()=>(this.autocompleteFailed=!0,(0,Qe.of)(null))))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{null!==t&&(this.me?.role===V.Spectator?this.myControl.disable():[m.D.AnswerReveal,m.D.Buffering].includes(t.status)?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&!0===t.correctAnswer&&this.myControl.disable()})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||o)(e.Y36(he.Y),e.Y36(x),e.Y36(Ne.q),e.Y36(X.i),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-answer"]],viewQuery:function(i,n){if(1&i&&(e.Gf(So,5),e.Gf(ko,5)),2&i){let s;e.iGM(s=e.CRH())&&(n.answerInput=s.first),e.iGM(s=e.CRH())&&(n.matAutocompleteTrigger=s.first)}},decls:11,vars:10,consts:[[3,"ngSubmit"],["id","lobby-autocomplete",2,"width","100%"],["type","text","placeholder","Type your answer here...","aria-label","Number","matInput","","autocomplete","off","autocapitalize","off","spellcheck","false",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"ngClass","value","innerHtml",4,"ngFor","ngForOf"],[3,"ngClass","value","innerHtml"]],template:function(i,n){if(1&i&&(e.YNc(0,Io,2,0,"mat-error"),e.TgZ(1,"form",0),e.NdJ("ngSubmit",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||!n.myControl.value||n.submit()}),e.TgZ(2,"mat-form-field",1),e._UZ(3,"input",2,3),e.TgZ(6,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||n.submit()}),e.YNc(8,Mo,1,5,"mat-option",6),e.ALo(9,"slice"),e.ALo(10,"async"),e.qZA()()()),2&i){const s=e.MAs(7);e.um2(0,n.autocompleteFailed?0:-1),e.xp6(3),e.Q6J("formControl",n.myControl)("matAutocomplete",s),e.xp6(5),e.Q6J("ngForOf",e.Dn7(9,4,e.lcZ(10,8,n.gameNames),0,30))}},dependencies:[u.mk,u.sg,Le.KE,Le.TO,Ce.XC,P.ey,Ce.ZL,mt.Nt,l._Y,l.Fj,l.JJ,l.JL,l.F,l.oH,u.Ov,u.OU],encapsulation:2})}return o})();function Eo(o,r){if(1&o&&(e.TgZ(0,"div",1),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.countdown,"\n")}}let Zo=(()=>{class o{lobbyStore;countdown;countdownInterval;subscriptions;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.countdownInterval&&clearInterval(this.countdownInterval),t?.status===m.D.PlayingMusic?(this.countdown=t.guessTime-1,this.startCountdown()):t?.status===m.D.AnswerReveal&&(this.countdown=void 0)}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{t?.musicFinishesIn&&(this.countdownInterval&&clearInterval(this.countdownInterval),this.countdown=t.musicFinishesIn-1,this.startCountdown())})]}ngOnDestroy(){clearInterval(this.countdownInterval),this.subscriptions.forEach(t=>t.unsubscribe())}startCountdown(){this.countdownInterval=setInterval(()=>{this.countdown>0?this.countdown--:(this.countdown=void 0,clearInterval(this.countdownInterval))},1e3)}static \u0275fac=function(i){return new(i||o)(e.Y36(x))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-countdown"]],decls:1,vars:1,consts:[["class","align-self-center countdown",4,"ngIf"],[1,"align-self-center","countdown"]],template:function(i,n){1&i&&e.YNc(0,Eo,2,1,"div",0),2&i&&e.Q6J("ngIf",void 0!==n.countdown)},dependencies:[u.O5],encapsulation:2})}return o})();const Et=o=>({timing:o}),Zt=(o,r)=>({value:o,params:r});function Fo(o,r){if(1&o&&e._UZ(0,"div",2),2&o){const t=e.oxw();e.Q6J("@countdownProgress",e.WLB(3,Zt,t.lobby.status===t.lobbyStatuses.PlayingMusic?"empty":"full",e.VKq(1,Et,t.lobby.guessTime)))}}function Po(o,r){if(1&o&&e._UZ(0,"div",2),2&o){const t=e.oxw();e.Udp("width",t.timeRemaining/t.lobby.guessTime*100+"%"),e.Q6J("@countdownProgress",e.WLB(5,Zt,t.lobby.status===t.lobbyStatuses.PlayingMusic?"empty":"full",e.VKq(3,Et,t.timeRemaining)))}}let Uo=(()=>{class o{lobbyStore;subscriptions;lobby;lobbyStatuses=m.D;timeRemaining;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t,this.timeRemaining=void 0}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{this.timeRemaining=t?.musicFinishesIn?t.musicFinishesIn>=0?t.musicFinishesIn:0:void 0})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||o)(e.Y36(x))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-countdown-progress"]],decls:2,vars:2,consts:[["style","height: 1px",4,"ngIf"],["style","height: 1px",3,"width",4,"ngIf"],[2,"height","1px"]],template:function(i,n){1&i&&e.YNc(0,Fo,1,6,"div",0)(1,Po,1,8,"div",1),2&i&&(e.Q6J("ngIf",!n.timeRemaining),e.xp6(),e.Q6J("ngIf",n.timeRemaining))},dependencies:[u.O5],encapsulation:2,data:{animation:[(0,p.X$)("countdownProgress",[(0,p.SB)("full",(0,p.oB)({width:"100%"})),(0,p.SB)("empty",(0,p.oB)({width:"0"})),(0,p.SB)("default",(0,p.oB)({width:"25%"})),(0,p.eR)("* => empty",[(0,p.jt)("{{timing}}s")],{params:{timing:"20"}}),(0,p.eR)("* => full",[(0,p.jt)("10s")])])]}})}return o})();function Do(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.enableHintMode())}),e._uU(1,"Hint"),e.qZA()}}function No(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",4),e.NdJ("change",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.toggleKeepHintMode(n))}),e._uU(1,"Keep hint mode "),e.qZA()}if(2&o){const t=e.oxw(2);e.Q6J("checked",null==t.me?null:t.me.keepHintMode)}}function Vo(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Do,2,0,"button",1)(2,No,2,1,"mat-slide-toggle",2),e.BQk()),2&o){const t=e.oxw();e.xp6(),e.Q6J("ngIf",!(null!=t.me&&t.me.hintMode)),e.xp6(),e.Q6J("ngIf",null==t.me?null:t.me.hintMode)}}let Bo=(()=>{class o{lobbyStore;lobbySocket;subscriptions=[];me;lobby;lobbyHintMode=m.BF;constructor(t,i){this.lobbyStore=t,this.lobbySocket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.me.subscribe(t=>{t&&(this.me=t)}),this.lobbyStore.lobby.subscribe(t=>{t&&(this.lobby=t)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}enableHintMode(){this.lobbySocket.emit("enableHintMode")}toggleKeepHintMode(t){this.lobbySocket.emit("toggleKeepHintMode",t.checked)}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(X.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-hint-mode-toggle"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["color","primary",3,"checked","change",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],["color","primary",3,"checked","change"]],template:function(i,n){1&i&&e.YNc(0,Vo,3,2,"ng-container",0),2&i&&e.Q6J("ngIf",n.lobby.hintMode===n.lobbyHintMode.Allowed)},dependencies:[u.O5,Mt.Rr],encapsulation:2})}return o})();const Lo=["xd"];function Oo(o,r){if(1&o&&(e.ynx(0),e._UZ(1,"input",2),e.TgZ(2,"label",3)(3,"span",4,5),e._uU(5),e.qZA()(),e.BQk()),2&o){const t=r.$implicit,i=r.index,n=e.oxw();e.xp6(),e.Q6J("id",i)("formControl",n.formControl)("value",t),e.xp6(),e.Q6J("for",i),e.xp6(3),e.Oqu(t)}}let Ho=(()=>{class o{lobbyStore;lobbySocket;subscriptions=[];games=[];formControl=new l.NI("");spans;constructor(t,i){this.lobbyStore=t,this.lobbySocket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.hintModeGames.subscribe(t=>{this.games=t}),this.formControl.valueChanges.subscribe(t=>{this.lobbySocket.emit("answer",t)}),this.lobbyStore.me.subscribe(t=>{t&&(t.role===V.Spectator||t.correctAnswer)&&this.formControl.disable()})]}ngAfterViewInit(){setTimeout(()=>{this.spans.forEach(t=>{let n=2;t.nativeElement.offsetHeight>55&&(n=110/t.nativeElement.offsetHeight),t.nativeElement.style.fontSize=`${n}vh`})},1)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(X.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-hint-mode"]],viewQuery:function(i,n){if(1&i&&e.Gf(Lo,5),2&i){let s;e.iGM(s=e.CRH())&&(n.spans=s)}},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-between",2,"height","260px"],[4,"ngFor","ngForOf"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"id","formControl","value"],[1,"btn","btn-outline-primary","col-12","col-md-5","d-flex","justify-content-center",2,"height","60px",3,"for"],[1,"align-self-center","hint-mode-answer"],["xd",""]],template:function(i,n){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Oo,6,5,"ng-container",1),e.qZA()),2&i&&(e.xp6(),e.Q6J("ngForOf",n.games))},dependencies:[u.sg,l.Fj,l._,l.JJ,l.oH],encapsulation:2})}return o})();var Ft=c(5592),Yo=c(4674),qo=c(7400);function Pt(o,r,t){return t?Pt(o,r).pipe((0,qo.Z)(t)):new Ft.y(i=>{const n=(...a)=>i.next(1===a.length?a[0]:a),s=o(n);return(0,Yo.m)(r)?()=>r(n,s):void 0})}const Qo=["youtubeContainer"];function Jo(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"youtube-player-placeholder",2),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n._load(!0))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}let Go=(()=>{class o{_getBackgroundImage(){let t;return t="low"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:"high"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${t})`}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(i,n){2&i&&(e.Udp("background-image",n._getBackgroundImage())("width",n.width,"px")("height",n.height,"px"),e.ekj("youtube-player-placeholder-loading",n.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(i,n){1&i&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"path",3),e.qZA()()),2&i&&e.uIk("aria-label",n.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return o})();const zo=new e.OlP("YOUTUBE_PLAYER_CONFIG");function Nt(o){return null==o?o:(0,e.Cb_)(o,0)}let jo=(()=>{class o{get height(){return this._height}set height(t){this._height=null==t||isNaN(t)?390:t}get width(){return this._width}set width(t){this._width=null==t||isNaN(t)?640:t}constructor(t,i){this._ngZone=t,this._destroyed=new Se.x,this._playerChanges=new S.X(void 0),this._nonce=(0,e.f3M)(e.Ojb,{optional:!0}),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._isLoading=!1,this._hasPlaceholder=!0,this._height=390,this._width=640,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");const n=(0,e.f3M)(zo,{optional:!0});this.loadApi=n?.loadApi??!0,this.disablePlaceholder=!!n?.disablePlaceholder,this.placeholderButtonLabel=n?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=n?.placeholderImageQuality||"standard",this._isBrowser=(0,u.NF)(i)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._conditionallyLoad():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(t){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer(t):(this.loadApi&&(this._isLoading=!0,function Xo(o){if(Je)return;const t=document.createElement("script"),i=n=>{t.removeEventListener("load",i),t.removeEventListener("error",i),"error"===n.type&&(Je=!1)};t.addEventListener("load",i),t.addEventListener("error",i),t.src="https://www.youtube.com/iframe_api",t.async=!0,o&&(t.nonce=o),Je=!0,document.body.appendChild(t)}(this._nonce)),this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(t))}))}_conditionallyLoad(){this._shouldShowPlaceholder()?1===this.playerVars?.autoplay&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return!this.disablePlaceholder&&(!this._isBrowser||this._hasPlaceholder&&!!this.videoId&&!this._player)}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies||t.disablePlaceholder;return!!i&&!i.isFirstChange()}_createPlayer(t){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const i=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:t?{...this.playerVars||{},autoplay:1}:this.playerVars})),n=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=i,this._pendingPlayer=void 0,i.removeEventListener("onReady",n),this._playerChanges.next(i),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(i,this._pendingPlayerState),this._pendingPlayerState=void 0);const s=i.getPlayerState();(s===YT.PlayerState.UNSTARTED||s===YT.PlayerState.CUED||null==s)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=i,i.addEventListener("onReady",n)}_applyPendingPlayerState(t,i){const{playbackState:n,playbackRate:s,volume:a,muted:h,seek:b}=i;switch(n){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=s&&t.setPlaybackRate(s),null!=a&&t.setVolume(a),null!=h&&(h?t.mute():t.unMute()),null!=b&&t.seekTo(b.seconds,b.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe((0,me.w)(i=>i?Pt(n=>{i.addEventListener(t,n)},n=>{try{i?.removeEventListener?.(t,n)}catch{}}):(0,Qe.of)()),i=>new Ft.y(n=>i.subscribe({next:s=>this._ngZone.run(()=>n.next(s)),error:s=>n.error(s),complete:()=>n.complete()})),(0,Me.R)(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.R0b),e.Y36(e.Lbi))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["youtube-player"]],viewQuery:function(i,n){if(1&i&&e.Gf(Qo,7),2&i){let s;e.iGM(s=e.CRH())&&(n.youtubeContainer=s.first)}},inputs:{videoId:"videoId",height:[e.lbL.HasDecoratorInputTransform,"height","height",e.Cb_],width:[e.lbL.HasDecoratorInputTransform,"width","width",e.Cb_],startSeconds:[e.lbL.HasDecoratorInputTransform,"startSeconds","startSeconds",Nt],endSeconds:[e.lbL.HasDecoratorInputTransform,"endSeconds","endSeconds",Nt],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[e.lbL.HasDecoratorInputTransform,"disableCookies","disableCookies",e.VuI],loadApi:[e.lbL.HasDecoratorInputTransform,"loadApi","loadApi",e.VuI],disablePlaceholder:[e.lbL.HasDecoratorInputTransform,"disablePlaceholder","disablePlaceholder",e.VuI],showBeforeIframeApiLoads:[e.lbL.HasDecoratorInputTransform,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",e.VuI],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[e.Xq5,e.TTD,e.jDz],decls:4,vars:3,consts:[[3,"videoId","width","height","isLoading","buttonLabel","quality"],["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality","click"]],template:function(i,n){1&i&&(e.YNc(0,Jo,1,6,"youtube-player-placeholder",0),e.TgZ(1,"div"),e._UZ(2,"div",null,1),e.qZA()),2&i&&(e.um2(0,n._shouldShowPlaceholder()?0:-1),e.xp6(),e.Udp("display",n._shouldShowPlaceholder()?"none":""))},dependencies:[Go],encapsulation:2,changeDetection:0})}return o})(),Je=!1,Wo=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({})}return o})();const $o=["youtubePlayer"];function Ko(o,r){if(1&o&&e._UZ(0,"youtube-player",2,3),2&o){const t=e.oxw();e.Q6J("videoId",t.lobbyMusic.video.videoId)("playerVars",t.playerVars)("disablePlaceholder",!0)}}const en=o=>({opacity:o});function tn(o,r){if(1&o&&e._UZ(0,"img",6),2&o){const t=r.$implicit,i=r.index,n=e.oxw(2);e.Q6J("ngStyle",e.VKq(2,en,n.currentScreenshotIndex===i?1:0))("src","https://images.igdb.com/igdb/image/upload/t_1080p/"+t.imageId+".jpg",e.LSH)}}function on(o,r){if(1&o&&(e.TgZ(0,"div",4),e.YNc(1,tn,1,4,"img",5),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.lobbyMusic.screenshots)}}let nn=(()=>{class o{lobbyStore;localStorageHelper;subscriptions=[];playerVars={autoplay:1,controls:0,showinfo:0,rel:0,modestbranding:1};mediaTypeOnReveal;lobbyMusic=null;currentScreenshotIndex=0;youtubePlayer;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i,this.mediaTypeOnReveal=i.getDefaultMediaTypeOnReveal(),setTimeout(()=>{this.currentScreenshotIndex=1},5e3)}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(t=>{this.lobbyMusic=t})]}ngAfterViewInit(){this.subscriptions.push(this.youtubePlayer.changes.subscribe({next:t=>{t.first?.seekTo(this.lobbyMusic.startVideoAt,!0),t.first?.mute()}}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(Ee))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-answer-reveal-media"]],viewQuery:function(i,n){if(1&i&&e.Gf($o,5),2&i){let s;e.iGM(s=e.CRH())&&(n.youtubePlayer=s)}},decls:2,vars:2,consts:[["class","game-reveal-video-media","suggestedQuality","default",3,"videoId","playerVars","disablePlaceholder",4,"ngIf"],["class","d-flex",4,"ngIf"],["suggestedQuality","default",1,"game-reveal-video-media",3,"videoId","playerVars","disablePlaceholder"],["youtubePlayer",""],[1,"d-flex"],["class","game-reveal-picture-media","alt","screenshot",3,"ngStyle","src",4,"ngFor","ngForOf"],["alt","screenshot",1,"game-reveal-picture-media",3,"ngStyle","src"]],template:function(i,n){1&i&&e.YNc(0,Ko,2,3,"youtube-player",0)(1,on,2,1,"div",1),2&i&&(e.Q6J("ngIf",2===n.mediaTypeOnReveal&&(null==n.lobbyMusic?null:n.lobbyMusic.video)),e.xp6(),e.Q6J("ngIf",(1===n.mediaTypeOnReveal||2===n.mediaTypeOnReveal&&!(null!=n.lobbyMusic&&n.lobbyMusic.video))&&n.lobbyMusic&&n.lobbyMusic.screenshots.length>0))},dependencies:[u.sg,u.O5,u.PC,jo],encapsulation:2})}return o})();function sn(o,r){1&o&&e._UZ(0,"div")}function rn(o,r){if(1&o&&(e.TgZ(0,"div",10),e._uU(1),e._UZ(2,"mat-progress-bar",11),e.qZA()),2&o){const t=e.oxw();e.xp6(),e.hij(" ",t.loadProgress,"% "),e.xp6(),e.Q6J("value",t.loadProgress)}}function an(o,r){1&o&&e._UZ(0,"app-hint-mode-toggle")}function ln(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"p"),e._uU(2,"Press the button to start playing"),e._UZ(3,"br"),e._uU(4,"(Music will play on the next loop)"),e.qZA(),e.TgZ(5,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.play())}),e._uU(6,"Play"),e.qZA()()}}const cn=o=>({"text-warning":o});function dn(o,r){if(1&o&&(e.TgZ(0,"div",14),e._UZ(1,"span",15),e.qZA()),2&o){const t=e.oxw();e.Q6J("title",t.serverBuffering?"server loading...":"client loading..."),e.xp6(),e.Q6J("ngClass",e.VKq(2,cn,t.serverBuffering))}}function un(o,r){if(1&o&&(e.TgZ(0,"div",16)(1,"small",17),e._uU(2),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.Oqu(t.error)}}const Vt=o=>({"d-none":o});function mn(o,r){if(1&o&&(e.TgZ(0,"div",18),e._uU(1," Buffering... "),e.qZA()),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,Vt,!t.canPlayMusic))}}function hn(o,r){if(1&o&&e._UZ(0,"app-lobby-countdown",19),2&o){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,Vt,!t.canPlayMusic))}}function pn(o,r){1&o&&e._UZ(0,"app-hint-mode")}function bn(o,r){1&o&&e._UZ(0,"app-lobby-answer",10)}function _n(o,r){1&o&&e._UZ(0,"div")}function fn(o,r){1&o&&e._UZ(0,"app-answer-reveal-media")}const gn=o=>({"hint-mode":o});let yn=(()=>{class o{lobbyStore;answer;subscriptions=[];lobby;canPlayMusic=!1;lobbyStatuses=m.D;lobbyUserStatus=De;lobbyHintModes=m.BF;lobbyUserRoles=V;me;loadProgress=0;error;serverBuffering=!1;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.canPlayMusic.subscribe(t=>{this.canPlayMusic=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{this.me=t}),this.lobbyStore.lobbyLoadProgress.subscribe(t=>{this.loadProgress=t}),this.lobbyStore.error.subscribe(t=>{this.error=t}),this.lobbyStore.lobbyServerBuffer.subscribe(t=>{this.serverBuffering=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}play(){this.lobbyStore.setResumeMusic()}showAnswerComponent(){return this.me?.role!==V.Spectator&&!this.me?.hintMode&&this.lobby?.status===m.D.PlayingMusic}showEmptyTopDiv(){return this.lobby?.status===m.D.Buffering||this.lobby?.status===m.D.Loading||this.lobby?.hintMode!==m.BF.Allowed}showEmptyBottomDiv(){return this.lobby?.status===m.D.Buffering||this.lobby?.status===m.D.Loading||this.me?.role===V.Spectator}static \u0275fac=function(i){return new(i||o)(e.Y36(x))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-center-container"]],decls:16,vars:15,consts:[[1,"lobby-center-container","bg-dark","px-4","pt-4","position-relative",3,"ngClass"],[1,"d-flex","text-center","align-items-center","h-100","justify-content-between","position-relative","flex-column"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","align-self-center position-absolute",4,"ngIf"],["class","position-absolute","style","top: 0; left: 0",3,"title",4,"ngIf"],["class","position-absolute","style","top: 0; left: 24px",4,"ngIf"],["class","align-self-center countdown",3,"ngClass",4,"ngIf"],["class","text-center",3,"ngClass",4,"ngIf"],[2,"z-index","1"],[1,"w-100"],["mode","determinate",3,"value"],[1,"align-self-center","position-absolute"],[1,"btn","btn-primary",3,"click"],[1,"position-absolute",2,"top","0","left","0",3,"title"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"ngClass"],[1,"position-absolute",2,"top","0","left","24px"],[1,"text-danger"],[1,"align-self-center","countdown",3,"ngClass"],[1,"text-center",3,"ngClass"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,sn,1,0,"div",2)(3,rn,3,2,"div",3)(4,an,1,0,"app-hint-mode-toggle",2)(5,ln,7,0,"div",4)(6,dn,2,4,"div",5)(7,un,3,1,"div",6)(8,mn,2,3,"div",7)(9,hn,1,3,"app-lobby-countdown",8)(10,pn,1,0,"app-hint-mode",2)(11,bn,1,0,"app-lobby-answer",3)(12,_n,1,0,"div",2),e.qZA(),e._UZ(13,"app-lobby-audio-player",9)(14,"app-lobby-countdown-progress"),e.YNc(15,fn,1,0,"app-answer-reveal-media",2),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(13,gn,null==n.me?null:n.me.hintMode)),e.xp6(2),e.Q6J("ngIf",n.showEmptyTopDiv()),e.xp6(),e.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Loading),e.xp6(),e.Q6J("ngIf",(null==n.lobby?null:n.lobby.hintMode)===n.lobbyHintModes.Allowed&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),e.xp6(),e.Q6J("ngIf",!n.canPlayMusic),e.xp6(),e.Q6J("ngIf",(null==n.me?null:n.me.status)===n.lobbyUserStatus.Buffering||n.serverBuffering),e.xp6(),e.Q6J("ngIf",n.error),e.xp6(),e.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Buffering),e.xp6(),e.Q6J("ngIf",n.canPlayMusic&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),e.xp6(),e.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic&&((null==n.lobby?null:n.lobby.hintMode)===n.lobbyHintModes.Always||(null==n.me?null:n.me.hintMode))),e.xp6(),e.Q6J("ngIf",n.showAnswerComponent()),e.xp6(),e.Q6J("ngIf",n.showEmptyBottomDiv()),e.xp6(3),e.Q6J("ngIf",n.lobby.status===n.lobbyStatuses.AnswerReveal))},dependencies:[u.mk,u.O5,At.pW,xo,Ro,Zo,Uo,Bo,Ho,nn],encapsulation:2})}return o})();function vn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.restart())}),e._UZ(1,"i",7),e.qZA()}}let xn=(()=>{class o{lobbyStore;socket;subscriptions=[];me;lobbyUserRoles=V;lobby;constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{this.me=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}restart(){this.socket.emit("restart")}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(X.i))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-information"]],decls:10,vars:4,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"],["class","btn btn-sm btn-primary","mdbTooltip","Restart lobby",3,"click",4,"ngIf"],["mdbTooltip","Restart lobby",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa-solid","fa-arrow-rotate-back"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e._uU(4),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"i",4),e._uU(7),e.qZA(),e.TgZ(8,"div",2),e.YNc(9,vn,2,0,"button",5),e.qZA()()()),2&i&&(e.xp6(4),e.hij("",null==n.lobby?null:n.lobby.guessTime,"s"),e.xp6(3),e.AsE("",null==n.lobby?null:n.lobby.currentLobbyMusicPosition,"/",-1===(null==n.lobby?null:n.lobby.musicNumber)?"\u221e":n.lobby.lobbyMusics," "),e.xp6(2),e.Q6J("ngIf",(null==n.me?null:n.me.role)===n.lobbyUserRoles.Host))},dependencies:[u.O5,Re],encapsulation:2})}return o})();function wn(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.BQk()),2&o){const t=e.oxw(3);e.xp6(),e.Oqu(t.answer.gameToMusic.game.platforms[0].name)}}function Tn(o,r){1&o&&(e.ynx(0),e._uU(1,", "),e.BQk())}function Cn(o,r){if(1&o&&(e.ynx(0),e._uU(1),e.YNc(2,Tn,2,0,"ng-container",13),e.BQk()),2&o){const t=r.$implicit,i=r.last,n=r.last;e.xp6(),e.hij(" ",t.abbreviation,""),e.xp6(),e.Q6J("ngIf",!i&&!n)}}function Sn(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Cn,3,2,"ng-container",18),e.BQk()),2&o){const t=e.oxw(3);e.xp6(),e.Q6J("ngForOf",t.answer.gameToMusic.game.platforms)}}function kn(o,r){if(1&o&&(e.TgZ(0,"small",17),e.YNc(1,wn,2,1,"ng-container",13)(2,Sn,2,1,"ng-container",13),e.qZA()),2&o){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",1===(null==t.answer.gameToMusic.game.platforms?null:t.answer.gameToMusic.game.platforms.length)),e.xp6(),e.Q6J("ngIf",(null==t.answer.gameToMusic.game.platforms?null:t.answer.gameToMusic.game.platforms.length)>1&&11===t.answer.gameToMusic.game.category)}}function In(o,r){if(1&o&&e._UZ(0,"img",19),2&o){const t=e.oxw(2);e.Q6J("src","https://images.igdb.com/igdb/image/upload/t_720p/"+t.answer.gameToMusic.game.cover.imageId+".jpg",e.LSH)("alt",t.answer.gameToMusic.game.name)}}function An(o,r){if(1&o&&(e.TgZ(0,"div",20)(1,"h2",21),e._uU(2),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(2),e.Oqu(t.answer.gameToMusic.game.name)}}const Bt=o=>({"background-color":o});function Mn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.addToList())}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&o){const t=e.oxw(3);e.Q6J("ngStyle",e.VKq(1,Bt,t.answer.gameToMusic.game.cover?t.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"#171717"))}}function Rn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(3);return e.KtG(n.removeFromList())}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA()()}if(2&o){const t=e.oxw(3);e.Q6J("ngStyle",e.VKq(1,Bt,t.answer.gameToMusic.game.cover?null==t.answer.gameToMusic.game.cover.colorPalette?null:t.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"black"))}}function En(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Mn,3,3,"button",22)(2,Rn,3,3,"button",22),e.BQk()),2&o){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",!1===t.me.playedTheGame),e.xp6(),e.Q6J("ngIf",!0===t.me.playedTheGame)}}function Zn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",5)(2,"h2",6),e._uU(3),e.YNc(4,kn,3,2,"small",7),e.qZA()(),e.TgZ(5,"div",8)(6,"div",9)(7,"div",10),e.YNc(8,In,1,2,"img",11)(9,An,3,1,"ng-template",null,12,e.W1O),e.qZA(),e.YNc(11,En,3,2,"ng-container",13),e.qZA()(),e.TgZ(12,"div",14)(13,"div")(14,"h4",6),e._uU(15,"Music"),e.qZA(),e.TgZ(16,"small",15),e._uU(17),e.qZA()(),e.TgZ(18,"div",16)(19,"h4",6),e._uU(20,"Artist"),e.qZA(),e.TgZ(21,"small",15),e._uU(22),e.qZA()()(),e.BQk()),2&o){const t=e.MAs(10),i=e.oxw();let n,s;e.xp6(3),e.hij(" ",i.answer.gameToMusic.game.name," "),e.xp6(),e.Q6J("ngIf",1===(null==i.answer.gameToMusic.game.platforms?null:i.answer.gameToMusic.game.platforms.length)||(null==i.answer.gameToMusic.game.platforms?null:i.answer.gameToMusic.game.platforms.length)>1&&11===i.answer.gameToMusic.game.category),e.xp6(4),e.Q6J("ngIf",i.answer.gameToMusic.game.cover)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.me),e.xp6(6),e.Oqu(null!==(n=i.answer.gameToMusic.title)&&void 0!==n?n:i.answer.gameToMusic.music.title),e.xp6(5),e.Oqu(null!==(s=i.answer.gameToMusic.artist)&&void 0!==s?s:i.answer.gameToMusic.music.artist)}}function Fn(o,r){1&o&&(e.TgZ(0,"div",5),e._UZ(1,"h2",24),e.qZA(),e.TgZ(2,"div",25),e._UZ(3,"div",26),e.qZA(),e.TgZ(4,"div",25)(5,"div"),e._UZ(6,"h4",27)(7,"small",28)(8,"small",29),e.qZA(),e.TgZ(9,"div",16),e._UZ(10,"h4",27)(11,"small",30)(12,"small",29),e.qZA()())}function Pn(o,r){1&o&&(e.TgZ(0,"p",16)(1,"small",31),e._UZ(2,"i",32),e._uU(3," This music may not reflect the difficulty configured. "),e.qZA()())}const Un=o=>({"d-none d-md-block":o});let Dn=(()=>{class o{lobbyStore;gameHttpService;answer;me;interactedWithList=!1;subscriptions=[];constructor(t,i){this.lobbyStore=t,this.gameHttpService=i}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(t=>{this.answer=t,this.interactedWithList=!1}),this.lobbyStore.lobby.subscribe(t=>{t.status!==m.D.AnswerReveal&&(this.answer=null)}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{null!==t&&(this.answer=t)}),this.lobbyStore.me.subscribe(t=>{this.interactedWithList||(this.me={...t})})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}addToList(){this.gameHttpService.addToList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!0,this.interactedWithList=!0})}removeFromList(){this.gameHttpService.removeFromList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!1,this.interactedWithList=!0})}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(Ne.q))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-answer-reveal"]],decls:6,vars:6,consts:[[1,"bg-dark","p-4","mb-2","mb-md-0",3,"ngClass"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","mt-2",4,"ngIf"],[1,"col-md-12"],[1,"mb-1"],["class","ms-1 text-muted","style","font-size: 11px",4,"ngIf"],[1,"col-sm-4","col-md-6"],[2,"position","relative","aspect-ratio","3/4","display","flex","align-items","center"],[1,"w-100"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],["noImage",""],[4,"ngIf"],[1,"col-sm-8","col-md-6"],[2,"font-size","11px"],[1,"mt-2"],[1,"ms-1","text-muted",2,"font-size","11px"],[4,"ngFor","ngForOf"],[1,"card-img-top",3,"src","alt"],[1,"p-2","text-center"],[1,"m-0"],["class","game-item-cta","mat-mini-fab","","aria-label","Example icon button with a heart icon",3,"ngStyle","click",4,"ngIf"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"game-item-cta",3,"ngStyle","click"],[1,"placeholder","col-md-6"],[1,"col-md-6"],[1,"w-auto","h-100","img-placeholder",2,"aspect-ratio","3/4"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"],[2,"font-size","10px"],[1,"fa-solid","fa-exclamation-triangle","text-primary"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Zn,23,7,"ng-container",2)(3,Fn,13,0,"ng-template",null,3,e.W1O)(5,Pn,4,0,"p",4),e.qZA()()),2&i){const s=e.MAs(4);e.Q6J("ngClass",e.VKq(4,Un,!(null!=n.answer&&n.answer.gameToMusic))),e.xp6(2),e.Q6J("ngIf",null==n.answer?null:n.answer.gameToMusic)("ngIfElse",s),e.xp6(3),e.Q6J("ngIf",n.answer&&n.answer.contributeToMissingData)}},dependencies:[u.mk,u.sg,u.O5,u.PC,Rt.nh,qe.Hw],encapsulation:2})}return o})();const Nn=o=>({"text-primary":o});let Vn=(()=>{class o{user;static \u0275fac=function(i){return new(i||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-score-row"]],inputs:{user:"user"},decls:10,vars:11,consts:[[1,"row",3,"ngClass"],[1,"col-1"],[1,"col"],[1,"col-3","d-flex","justify-content-end"],[1,"col-1","text-muted","justify-content-end"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"slice"),e.qZA(),e.TgZ(6,"div",3),e._uU(7),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.qZA()()),2&i&&(e.Q6J("ngClass",e.VKq(9,Nn,n.user.me)),e.xp6(2),e.hij("#",n.user.rank,""),e.xp6(2),e.Oqu(e.Dn7(5,5,n.user.user.username,0,50)),e.xp6(3),e.hij("",n.user.points," pts"),e.xp6(2),e.Oqu(n.user.musicGuessedRight))},dependencies:[u.mk,u.OU],encapsulation:2})}return o})();function Bn(o,r){if(1&o&&e._UZ(0,"app-lobby-score-row",6),2&o){const t=e.oxw().$implicit;e.Q6J("user",t)}}function Ln(o,r){if(1&o&&e._UZ(0,"app-lobby-score-row",6),2&o){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("user",i.getMeIndex()<=3?t:i.getMe())}}function On(o,r){if(1&o&&(e.ynx(0),e.YNc(1,Bn,1,1,"app-lobby-score-row",5)(2,Ln,1,1,"app-lobby-score-row",5),e.BQk()),2&o){const t=r.index;e.xp6(),e.Q6J("ngIf",t<=2),e.xp6(),e.Q6J("ngIf",3===t)}}let Hn=(()=>{class o{lobbyStore;subscriptions=[];users;me;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(t=>{t&&(this.users=t.filter(i=>[V.Host,V.Player].includes(i.role)).sort((i,n)=>i.points>n.points?-1:1).reduce((i,n,s)=>{let a=0===s?1:i[s-1].rank+1;return 0!==s&&n.points===i[s-1].points&&(a=i[s-1].rank),[...i,{...n,rank:a}]},[]))}),this.lobbyStore.me.subscribe(t=>{this.me=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getMeIndex(){return this.users.findIndex(t=>t.me)}getMe(){return this.users.find(t=>t.me)}scoreExplanation(){return'Points distribution: <ul class="score-explanation"><li><strong class="text-primary">10 points</strong> when using the autocomplete<ul><li><strong class="text-primary">+5 points</strong> on the first try</li><li><strong class="text-primary">+5 points</strong> if the game is not in your list</li></ul></li><li><strong class="text-primary">5 points</strong> when using hints</li></ul>'}static \u0275fac=function(i){return new(i||o)(e.Y36(x))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-score"]],decls:5,vars:3,consts:[[1,"bg-dark"],[1,"d-flex","pt-1","pe-1"],["placement","top",1,"fa-solid","fa-question-circle","ms-auto",3,"mdbTooltip","html"],[1,"pb-4","pt-2","px-4"],[4,"ngFor","ngForOf"],[3,"user",4,"ngIf"],[3,"user"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,On,3,2,"ng-container",4),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("mdbTooltip",n.scoreExplanation())("html",!0),e.xp6(2),e.Q6J("ngForOf",n.users))},dependencies:[u.sg,u.O5,Re,Vn],encapsulation:2})}return o})();const Lt=Math.sqrt(3),Yn=.5*(Lt-1),pe=(3-Lt)/6,J=o=>0|Math.floor(o),Ht=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);class Gn{index;noise2D;WIDTH;HEIGHT;cachedValue=0;value=0;xC=0;yC=0;x=0;y=0;p=0;i=0;rgb=this.getColor();constructor(r,t,i,n){this.index=r,this.noise2D=t,this.WIDTH=i,this.HEIGHT=n}update(r){this.cachedValue=this.value,this.value=r[this.index],this.value!==this.cachedValue&&(this.xC=this.WIDTH/2+Math.cos(this.index+this.i)*this.value*4,this.yC=this.HEIGHT/2+Math.sin(this.index+this.i)*this.value*2.5,this.p=.5*(210-this.value),this.y=this.noise2D(this.index,this.i)*this.p+this.yC,this.x=this.noise2D(this.index,this.i)*this.p+this.xC,this.i+=.01)}draw(r){r.save(),r.beginPath(),r.fillStyle=this.rgb,r.translate(this.x,this.y),r.arc(0,0,.1*this.value,0,2*Math.PI),r.fill(),r.closePath(),r.restore()}getColor(){const r=["rgb(255, 255, 255)","rgb(255, 209, 48)","rgb(124, 248, 156)"];return r[Math.floor(Math.random()*r.length)]}}const zn=["canvas"];let jn=(()=>{class o{lobbyStore;localStorageHelper;canvasElement;audioContext;analyser;dataArray;bufferLength;circles=[];noise2D=function Jn(o=Math.random){const r=function ze(o){const t=new Uint8Array(512);for(let i=0;i<256;i++)t[i]=i;for(let i=0;i<255;i++){const n=i+~~(o()*(256-i)),s=t[i];t[i]=t[n],t[n]=s}for(let i=256;i<512;i++)t[i]=t[i-256];return t}(o),t=new Float64Array(r).map(n=>Ht[n%12*2]),i=new Float64Array(r).map(n=>Ht[n%12*2+1]);return function(s,a){let h=0,b=0,w=0;const R=(s+a)*Yn,E=J(s+R),B=J(a+R),O=(E+B)*pe,Z=s-(E-O),U=a-(B-O);let H,Y;Z>U?(H=1,Y=0):(H=0,Y=1);const j=Z-H+pe,C=U-Y+pe,F=Z-1+2*pe,I=U-1+2*pe,D=255&E,N=255&B;let f=.5-Z*Z-U*U;if(f>=0){const _=D+r[N];f*=f,h=f*f*(t[_]*Z+i[_]*U)}let g=.5-j*j-C*C;if(g>=0){const _=D+H+r[N+Y];g*=g,b=g*g*(t[_]*j+i[_]*C)}let y=.5-F*F-I*I;if(y>=0){const _=D+1+r[N+1];y*=y,w=y*y*(t[_]*F+i[_]*I)}return 70*(h+b+w)}}();WIDTH;HEIGHT;nbParticles=75;sourceSub;audioContextSub;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i}ngOnInit(){const t=this.canvasElement.nativeElement;this.WIDTH=t.width=window.innerWidth,this.HEIGHT=t.height=window.innerHeight,this.circles=this.createCircles(),this.audioContextSub=this.lobbyStore.audioContext.subscribe(i=>{this.audioContext=i}),this.sourceSub=this.lobbyStore.source.subscribe(i=>{const n=this.localStorageHelper.getAudioVisualizerStatus();i&&n&&(this.analyser=this.audioContext.createAnalyser(),i.connect(this.analyser),this.analyser.connect(this.lobbyStore.getCurrentLobbyGainNode()),this.analyser.smoothingTimeConstant=.5,this.analyser.maxDecibels=-10,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),this.update())})}ngOnDestroy(){this.sourceSub.unsubscribe(),this.audioContextSub.unsubscribe()}createCircles(){return Array.from({length:this.nbParticles},(t,i)=>new Gn(i,this.noise2D,this.WIDTH,this.HEIGHT))}update(){"running"===this.audioContext.state&&(this.analyser.getByteFrequencyData(this.dataArray),this.background("rgb(20, 31, 42)"),this.showCircles(),requestAnimationFrame(this.update.bind(this)))}background(t){const i=this.canvasElement.nativeElement.getContext("2d");i.fillStyle=t,i.fillRect(0,0,this.WIDTH,this.HEIGHT)}showCircles(){this.circles.forEach(t=>{t.update(this.dataArray),t.draw(this.canvasElement.nativeElement.getContext("2d"))})}onResize(){const t=this.canvasElement.nativeElement;this.WIDTH=t.width=window.innerWidth,this.HEIGHT=t.height=window.innerHeight}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(Ee))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-visualizer"]],viewQuery:function(i,n){if(1&i&&e.Gf(zn,7),2&i){let s;e.iGM(s=e.CRH())&&(n.canvasElement=s.first)}},hostBindings:function(i,n){1&i&&e.NdJ("resize",function(a){return n.onResize(a)},!1,e.Jf7)},decls:2,vars:0,consts:[[1,"tw-w-full","tw-h-full"],["canvas",""]],template:function(i,n){1&i&&e._UZ(0,"canvas",0,1)},encapsulation:2})}return o})();function Xn(o,r){1&o&&e._UZ(0,"app-lobby-visualizer",7)}let Wn=(()=>{class o{lobbyStore;localStorageHelper;meIsPremium=!1;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i}ngOnInit(){this.lobbyStore.me.subscribe(t=>{null!==t&&(this.meIsPremium=t.user.premium)})}static \u0275fac=function(i){return new(i||o)(e.Y36(x),e.Y36(Ee))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby-playing"]],decls:15,vars:1,consts:[[1,"row"],[1,"col-md-3","d-flex","flex-column"],[1,"mt-2","order-1","order-md-0","mb-2","mb-md-0"],[1,"mt-2","order-0","order-md-1"],[1,"col-md-6","lobby-col"],[1,"col-md-3","lobby-col"],["class","tw-w-full tw-h-full tw--z-10 tw-absolute tw-bottom-12"],[1,"tw-w-full","tw-h-full","tw--z-10","tw-absolute","tw-bottom-12"]],template:function(i,n){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._UZ(3,"app-button-play"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"app-lobby-information"),e.qZA(),e.TgZ(6,"div",2),e._UZ(7,"app-lobby-answer-reveal"),e.qZA(),e.TgZ(8,"div",3),e._UZ(9,"app-lobby-score"),e.qZA()(),e.TgZ(10,"div",4),e._UZ(11,"app-lobby-center-container"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"app-lobby-chat"),e.qZA(),e.YNc(14,Xn,1,0,"app-lobby-visualizer",6),e.qZA()),2&i&&(e.xp6(14),e.um2(14,n.meIsPremium&&n.localStorageHelper.getAudioVisualizerStatus()?14:-1))},dependencies:[Tt,yn,xn,Dn,Hn,Ct,jn],encapsulation:2})}return o})();function $n(o,r){1&o&&(e.ynx(0),e._UZ(1,"app-lobby-waiting"),e.BQk())}function Kn(o,r){1&o&&(e.ynx(0),e._UZ(1,"app-lobby-playing"),e.BQk())}function es(o,r){if(1&o&&(e.ynx(0),e.YNc(1,$n,2,0,"ng-container",3)(2,Kn,2,0,"ng-container",3),e._UZ(3,"app-lobby-users"),e.BQk()),2&o){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.lobby.status===t.lobbyStatuses.Waiting),e.xp6(),e.Q6J("ngIf",t.lobbyService.isPLaying(t.lobby))}}function ts(o,r){1&o&&e._uU(0,"loading")}let is=(()=>{class o{lobbyHttpService;lobbyService;router;route;dialog;socket;authService;lobbyStore;snackBar;lobbyFileSocket;lobbyCode;lobby;lobbyStatuses=m.D;subscriptions=[];constructor(t,i,n,s,a,h,b,w,R,E){this.lobbyHttpService=t,this.lobbyService=i,this.router=n,this.route=s,this.dialog=a,this.socket=h,this.authService=b,this.lobbyStore=w,this.snackBar=R,this.lobbyFileSocket=E}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.lobbyStore.disconnect(),this.socket.disconnect(),this.lobbyFileSocket.disconnect()}ngOnInit(){this.socket.connect(),this.subscriptions=[this.socket.fromEvent("connect_error").subscribe(t=>{"Unauthorized"===t.message&&(this.lobbyFileSocket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.lobbyFileSocket.connect(),this.socket.emit("fake emit")}))}),this.lobbyFileSocket.fromEvent("connect_error").subscribe(t=>{"Unauthorized"===t.message&&this.lobby&&(this.lobbyFileSocket.disconnect(),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("fake emit"))}),this.socket.fromEvent("NotFoundException").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(Qi.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("error").subscribe(t=>{this.lobbyStore.setLobbyError(t)}),this.socket.fromEvent("lobbyJoined").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("join")}),this.socket.fromEvent("lobbyUsers").subscribe(t=>{this.lobbyStore.setUsers(t)}),this.socket.fromEvent("lobby").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyStartBuffer").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!0),this.lobbyStore.resetLobbyError()}),this.socket.fromEvent("lobbyBufferEnd").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!1)}),this.lobbyFileSocket.fromEvent("buffer").subscribe(t=>{this.lobbyStore.setCurrentLobbyAudioBuffer(t),this.socket.emit("readyToPlayMusic")}),this.socket.fromEvent("currentLobbyMusic").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusic(t)}),this.socket.fromEvent("lobbyAnswer").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusicAnswer(t)}),this.socket.fromEvent("lobbyUser").subscribe(t=>{this.lobbyStore.updateLobbyUser(t)}),this.socket.fromEvent("lobbyReset").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyAudioBuffer(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(t=>{this.snackBar.open(t,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.socket.fromEvent("disconnect").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("chat").subscribe(t=>{this.lobbyStore.addMessage(t)}),this.socket.fromEvent("hintModeGames").subscribe(t=>{this.lobbyStore.setHintModeGames(t)}),this.socket.fromEvent("lobbyLoadProgress").subscribe(t=>{this.lobbyStore.setLobbyLoadProgress(t)}),this.route.paramMap.subscribe(t=>{this.lobbyCode=t.get("code")})],this.lobbyService.join(this.lobbyCode)}static \u0275fac=function(i){return new(i||o)(e.Y36(he.Y),e.Y36(Ji.V),e.Y36(ne.F0),e.Y36(ne.gz),e.Y36(Gi.uw),e.Y36(X.i),e.Y36(Ve.e),e.Y36(x),e.Y36(Be.ux),e.Y36(zi.Q))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lobby"]],decls:4,vars:2,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"]],template:function(i,n){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,es,4,2,"ng-container",1)(2,ts,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&i){const s=e.MAs(3);e.xp6(),e.Q6J("ngIf",n.lobby)("ngIfElse",s)}},dependencies:[u.O5,no,_o,Wn],encapsulation:2})}return o})();var os=c(2596),ns=c(8525);let as=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[u.ez]})}return o})();const ls=[{path:"create",component:Yi},{path:":code",component:is},{path:"**",redirectTo:"create"}];let cs=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({providers:[he.Y,x],imports:[u.ez,ne.Bz.forChild(ls),qi.m,ai,Be.ZX,_i,os.AV,qe.Ps,wi,ns.LD,At.Cv,Wo,Ze.Tx,as]})}return o})()}}]);