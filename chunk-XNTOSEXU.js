import{a as h}from"./chunk-AG3Z7YZV.js";import{B as _,z as v}from"./chunk-3N5DGQTQ.js";import{Bb as c,M as m,Sb as l,Xb as s,Yb as p,hc as u,ib as d,nb as n,tc as o,uc as x,vb as f}from"./chunk-5HLPFG4U.js";import"./chunk-GAL4ENT6.js";function C(t,r){t&1&&(s(0,"div",0)(1,"div",1)(2,"span",2),o(3,"Loading..."),p()()())}function g(t,r){t&1&&o(0," An error occurred, please try again ")}function y(t,r){if(t&1&&(o(0,` Successfully connected to Patreon as
`),s(1,"b",3),o(2),p(),o(3,"! ")),t&2){let e=u(2);d(2),x(e.userFullName)}}function P(t,r){if(t&1&&c(0,g,1,0)(1,y,4,1),t&2){let e=u();l(e.error?0:1)}}var I=(()=>{class t{oAuthHttpService;route;router;loading=!1;error=!1;userFullName;constructor(e,i,a){this.oAuthHttpService=e,this.route=i,this.router=a}ngOnInit(){let e=this.route.snapshot.queryParamMap.get("code");this.loading=!0,this.oAuthHttpService.patreon(e).pipe(m(()=>this.loading=!1)).subscribe({next:i=>{this.userFullName=i.userFullName,setTimeout(()=>{this.router.navigate(["/profile"])},2500)},error:()=>{this.error=!0}})}static \u0275fac=function(i){return new(i||t)(n(h),n(v),n(_))};static \u0275cmp=f({type:t,selectors:[["app-oauth-patreon"]],decls:2,vars:1,consts:[[1,"tw-flex","tw-flex-col","tw-items-center"],["role","status",1,"spinner-border","orange"],[1,"sr-only"],[1,"text-primary"]],template:function(i,a){i&1&&c(0,C,4,0,"div",0)(1,P,2,1),i&2&&l(a.loading?0:1)},encapsulation:2})}return t})();export{I as PatreonComponent};
