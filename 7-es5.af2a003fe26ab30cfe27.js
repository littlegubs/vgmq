!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{lKKO:function(n,i,r){"use strict";r.r(i),r.d(i,"AccountModule",(function(){return D}));var s,a=r("ofXK"),c=r("nYR2"),o=r("fXoL"),u=r("7dP1"),d=r("z6cu"),b=r("AytR"),p=r("JIr8"),f=r("tk/3"),l=((s=function(){function n(t){e(this,n),this.http=t,this.apiEndpoint=b.a.apiEndpoint}return t(n,[{key:"updateGameList",value:function(e){return this.http.post(this.apiEndpoint+"/update-game-list",{IGDBUsername:e}).pipe(Object(p.a)((function(e){return Object(d.a)(e.error)})))}}]),n}()).\u0275fac=function(e){return new(e||s)(o.Sb(f.b))},s.\u0275prov=o.Fb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),g=r("3Pt+");function h(e,n){1&e&&(o.Ob(0,"div",7),o.yc(1," Game list successfully updated ! "),o.Nb())}function m(e,n){if(1&e&&(o.Ob(0,"div",8),o.yc(1),o.Nb()),2&e){var t=o.Zb();o.zb(1),o.Ac(" ",t.errorMessage," ")}}function v(e,n){1&e&&o.Kb(0,"span",9)}var y,w,I=function(e,n){return{"is-invalid":e,"is-valid":n}},k=((y=function(){function n(t,i){e(this,n),this.authService=t,this.accountHttpService=i,this.IGDBUsername="",this.success=!1,this.loading=!1}return t(n,[{key:"ngOnInit",value:function(){var e=this.authService.decodeJwt();this.IGDBUsername=e.IGDBUsername}},{key:"updateGameList",value:function(){var e=this;this.success=!1,this.errorMessage=void 0,this.loading=!0,this.accountHttpService.updateGameList(this.IGDBUsername).pipe(Object(c.a)((function(){return e.loading=!1}))).subscribe((function(){e.success=!0}),(function(n){e.errorMessage=n}))}}]),n}()).\u0275fac=function(e){return new(e||y)(o.Jb(u.a),o.Jb(l))},y.\u0275cmp=o.Db({type:y,selectors:[["app-account"]],decls:17,vars:9,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","emailHelp",1,"form-text","text-muted"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(o.Ob(0,"div"),o.Ob(1,"h1"),o.yc(2,"Update my game list"),o.Nb(),o.Ob(3,"p"),o.yc(4,"Enter your IGDB username and press the Update button !"),o.Nb(),o.Ob(5,"div",0),o.Ob(6,"input",1),o.Vb("ngModelChange",(function(e){return n.IGDBUsername=e})),o.Nb(),o.Ob(7,"small",2),o.yc(8," take the username shown in the IGDB url (e.g., https://www.igdb.com/users/"),o.Ob(9,"strong"),o.yc(10,"your_username"),o.Nb(),o.yc(11,") "),o.Nb(),o.wc(12,h,2,0,"div",3),o.wc(13,m,2,1,"div",4),o.Ob(14,"button",5),o.Vb("click",(function(){return n.loading||n.updateGameList()})),o.wc(15,v,1,0,"span",6),o.yc(16," Update "),o.Nb(),o.Nb(),o.Nb()),2&e&&(o.zb(6),o.gc("ngModel",n.IGDBUsername)("ngClass",o.kc(6,I,n.errorMessage,n.success)),o.zb(6),o.gc("ngIf",n.success),o.zb(1),o.gc("ngIf",n.errorMessage),o.zb(1),o.gc("disabled",n.loading),o.zb(1),o.gc("ngIf",n.loading))},directives:[g.b,g.m,g.p,a.j,a.l],encapsulation:2}),y),O=r("tyNb"),G=r("PCNd"),N=[{path:"",component:k}],D=((w=function n(){e(this,n)}).\u0275mod=o.Hb({type:w}),w.\u0275inj=o.Gb({factory:function(e){return new(e||w)},providers:[l],imports:[[a.c,O.f.forChild(N),G.a]]}),w)}}])}();