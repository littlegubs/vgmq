"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[624],{1624:(us,Q,l)=>{l.r(Q),l.d(Q,{LobbyModule:()=>cs});var m=l(6814),e=l(9212),c=l(6223),u=l(6201),v=function(s){return s.Host="host",s.Player="player",s.Spectator="spectator",s}(v||{}),D=function(s){return s.Buffering="buffering",s.ReadyToPlayMusic="ready_to_play_music",s}(D||{}),Y=l(4716),k=l(1274),w=l(2787),f=l(5619),U=l(304),B=l(2939);let b=(()=>{class s{authService;router;snack;usersBehaviorSubject=new f.X([]);meBehaviorSubject=new f.X(null);lobbyBehaviorSubject=new f.X(null);currentLobbyAudioBufferBehaviorSubject=new f.X(null);currentLobbyMusicAnswerBehaviorSubject=new f.X(null);currentLobbyMusicBehaviorSubject=new f.X(null);canPlayMusicBehaviorSubject=new f.X(!1);resumeMusicBehaviorSubject=new f.X(void 0);messagesBehaviorSubject=new f.X([]);hintModeGamesBehaviorSubject=new f.X([]);lobbyLoadProgressBehaviorSubject=new f.X(0);lobbyErrorBehaviorSubject=new f.X(void 0);lobbyServerBufferBehaviorSubject=new f.X(!1);lobby=this.lobbyBehaviorSubject.asObservable();users=this.usersBehaviorSubject.asObservable();me=this.meBehaviorSubject.asObservable();currentLobbyAudioBuffer=this.currentLobbyAudioBufferBehaviorSubject.asObservable();currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable();currentLobbyMusic=this.currentLobbyMusicBehaviorSubject.asObservable();canPlayMusic=this.canPlayMusicBehaviorSubject.asObservable();resumeMusic=this.resumeMusicBehaviorSubject.asObservable();messages=this.messagesBehaviorSubject.asObservable();hintModeGames=this.hintModeGamesBehaviorSubject.asObservable();lobbyLoadProgress=this.lobbyLoadProgressBehaviorSubject.asObservable();error=this.lobbyErrorBehaviorSubject.asObservable();lobbyServerBuffer=this.lobbyServerBufferBehaviorSubject.asObservable();constructor(t,i,o){this.authService=t,this.router=i,this.snack=o}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyAudioBufferBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(t){this.lobbyBehaviorSubject.next(t)}getUsers(){return this.usersBehaviorSubject.getValue()}getMe(){return this.meBehaviorSubject.getValue()}setUsers(t){const i=t.find(o=>o.user.username===this.authService.decodeJwt().username);void 0===i?(this.snack.open("You have been kicked out from the lobby",void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3}),this.router.navigate(["/"])):(i.me=!0,this.usersBehaviorSubject.next(t),this.meBehaviorSubject.next(i))}getCurrentLobbyAudioBuffer(){return this.currentLobbyAudioBufferBehaviorSubject.getValue()}setCurrentLobbyAudioBuffer(t){this.currentLobbyAudioBufferBehaviorSubject.next(t)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(t){this.currentLobbyMusicAnswerBehaviorSubject.next(t)}getCurrentLobbyMusic(){return this.currentLobbyMusicBehaviorSubject.getValue()}setCurrentLobbyMusic(t){this.currentLobbyMusicBehaviorSubject.next(t),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}updateLobbyUser(t){let i=this.getUsers();const o=i.findIndex(n=>n.user.username===t.user.username);-1!==o?i[o]=t:i=[...i,t],this.setUsers(i)}getCanPlayMusic(){return this.canPlayMusicBehaviorSubject.getValue()}setCanPlayMusic(t){this.canPlayMusicBehaviorSubject.next(t)}setResumeMusic(){this.resumeMusicBehaviorSubject.next()}getMessages(){return this.messagesBehaviorSubject.getValue()}addMessage(t){this.messagesBehaviorSubject.next([...this.getMessages(),t])}setHintModeGames(t){this.hintModeGamesBehaviorSubject.next(t);const i=this.getMe();i&&(i.hintMode=!0)}setLobbyLoadProgress(t){this.lobbyLoadProgressBehaviorSubject.next(t)}setLobbyError(t){this.lobbyErrorBehaviorSubject.next(t)}resetLobbyError(){this.lobbyErrorBehaviorSubject.next(void 0)}setLobbyServerBuffer(t){this.lobbyServerBufferBehaviorSubject.next(t)}static \u0275fac=function(i){return new(i||s)(e.LFG(U.e),e.LFG(w.F0),e.LFG(B.ux))};static \u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var ye=l(5986),Te=l(9388),V=l(2831),g=l(3680),S=l(8645);const we=["knob"],xe=["valueIndicatorContainer"];function ke(s,r){if(1&s&&(e.TgZ(0,"div",4,5)(2,"div",6)(3,"span",7),e._uU(4),e.qZA()()()),2&s){const t=e.oxw();e.xp6(4),e.Oqu(t.valueIndicatorText)}}const Se=["trackActive"];function Ce(s,r){if(1&s&&e._UZ(0,"div"),2&s){const t=r.$implicit,i=r.$index,o=e.oxw(3);e.Tol(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),e.Udp("transform",o._calcTickMarkTransform(i))}}function Ie(s,r){if(1&s&&e.SjG(0,Ce,1,4,"div",9,e.x6l),2&s){const t=e.oxw(2);e.wJu(t._tickMarks)}}function Me(s,r){if(1&s&&(e.TgZ(0,"div",7,8),e.YNc(2,Ie,2,0),e.qZA()),2&s){const t=e.oxw();e.xp6(2),e.um2(2,t._cachedWidth?2:-1)}}function Ae(s,r){if(1&s&&e._UZ(0,"mat-slider-visual-thumb",6),2&s){const t=e.oxw();e.Q6J("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}const Re=["*"];var d=function(s){return s[s.START=1]="START",s[s.END=2]="END",s}(d||{}),x=function(s){return s[s.ACTIVE=0]="ACTIVE",s[s.INACTIVE=1]="INACTIVE",s}(x||{});const C=new e.OlP("_MatSlider"),J=new e.OlP("_MatSliderThumb"),q=new e.OlP("_MatSliderRangeThumb"),G=new e.OlP("_MatSliderVisualThumb");let Ee=(()=>{class s{constructor(t,i,o,n){this._cdr=t,this._ngZone=i,this._slider=n,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=(0,e.f3M)(V.t4),this._onPointerMove=a=>{if(this._sliderInput._isFocused)return;const _=this._hostElement.getBoundingClientRect(),p=this._slider._isCursorOnSliderThumb(a,_);this._isHovered=p,p?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=a=>{0===a.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=o.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t&&(t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===g.DH.FADING_IN||t?.state===g.DH.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===d.START?d.END:d.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===d.START?d.END:d.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(C))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,o){if(1&i&&(e.Gf(g.wG,5),e.Gf(we,5),e.Gf(xe,5)),2&i){let n;e.iGM(n=e.CRH())&&(o._ripple=n.first),e.iGM(n=e.CRH())&&(o._knob=n.first),e.iGM(n=e.CRH())&&(o._valueIndicatorContainer=n.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[e._Bn([{provide:G,useExisting:s}]),e.jDz],decls:4,vars:2,consts:[["class","mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["knob",""],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator-container"],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,o){1&i&&(e.YNc(0,ke,5,1,"div",0),e._UZ(1,"div",1,2)(3,"div",3)),2&i&&(e.um2(0,o.discrete?0:-1),e.xp6(3),e.Q6J("matRippleDisabled",!0))},dependencies:[g.wG],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return s})(),X=(()=>{class s{get disabled(){return this._disabled}set disabled(t){this._disabled=t;const i=this._getInput(d.END),o=this._getInput(d.START);i&&(i.disabled=this._disabled),o&&(o.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}get min(){return this._min}set min(t){const i=isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(d.END),o=this._getInput(d.START),n=i.value,a=o.value;o.min=t.new,i.min=Math.max(t.new,o.value),o.max=Math.min(i.max,i.value),o._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,o):this._onTranslateXChangeBySideEffect(o,i),n!==i.value&&this._onValueChange(i),a!==o.value&&this._onValueChange(o)}_updateMinNonRange(t){const i=this._getInput(d.END);if(i){const o=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(d.END),o=this._getInput(d.START),n=i.value,a=o.value;i.max=t.new,o.max=Math.min(t.new,i.value),i.min=o.value,i._updateWidthInactive(),o._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(o,i):this._onTranslateXChangeBySideEffect(i,o),n!==i.value&&this._onValueChange(i),a!==o.value&&this._onValueChange(o)}_updateMaxNonRange(t){const i=this._getInput(d.END);if(i){const o=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),o!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(d.END),i=this._getInput(d.START),o=t.value,n=i.value,a=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<a?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),o!==t.value&&this._onValueChange(t),n!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(d.END);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,o,n,a,_){this._ngZone=t,this._cdr=i,this._elementRef=o,this._dir=n,this._globalRippleOptions=a,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=p=>`${p}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=(0,e.f3M)(V.t4),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===_,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(d.END),i=this._getInput(d.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();const o=this._getThumb(d.END);this._rippleRadius=o._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(d.END),i=this._getInput(d.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(d.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(d.START)._isActive||this._getThumb(d.END)._isActive}_getValue(t=d.END){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(d.START)?._skipUIUpdate&&!this._getInput(d.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(d.END),i=this._getInput(d.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(d.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(d.START),i=this._getInput(d.END);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),o=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),o._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(t.thumbPosition===d.END?d.END:d.START)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===d.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const o=this._getThumb(t.thumbPosition);i.length<3?o._hostElement.classList.add("mdc-slider__thumb--short-value"):o._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(d.END),i=this._getInput(d.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,o=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*o-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const o=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${o})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${o})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let o=Math.max(Math.floor((i-this.min)/t),0),n=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?o++:n++,this._tickMarks=Array(o).fill(x.ACTIVE).concat(Array(n).fill(x.INACTIVE))}_updateTickMarkUIRange(t){const i=this._getValue(),o=this._getValue(d.START),n=Math.max(Math.floor((o-this.min)/t),0),a=Math.max(Math.floor((i-o)/t)+1,0),_=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(n).fill(x.INACTIVE).concat(Array(a).fill(x.ACTIVE),Array(_).fill(x.INACTIVE))}_getInput(t){return t===d.END&&this._input?this._input:this._inputs?.length?t===d.START?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return t===d.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const o=i.width/2,p=t.clientY-(i.y+o);return Math.pow(t.clientX-(i.x+o),2)+Math.pow(p,2)<Math.pow(o,2)}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq),e.Y36(Te.Is,8),e.Y36(g.Y2,8),e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["mat-slider"]],contentQueries:function(i,o,n){if(1&i&&(e.Suo(n,J,5),e.Suo(n,q,4)),2&i){let a;e.iGM(a=e.CRH())&&(o._input=a.first),e.iGM(a=e.CRH())&&(o._inputs=a)}},viewQuery:function(i,o){if(1&i&&(e.Gf(Se,5),e.Gf(G,5)),2&i){let n;e.iGM(n=e.CRH())&&(o._trackActive=n.first),e.iGM(n=e.CRH())&&(o._thumbs=n)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,o){2&i&&(e.Tol("mat-"+(o.color||"primary")),e.ekj("mdc-slider--range",o._isRange)("mdc-slider--disabled",o.disabled)("mdc-slider--discrete",o.discrete)("mdc-slider--tick-marks",o.showTickMarks)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],discrete:[e.lbL.HasDecoratorInputTransform,"discrete","discrete",e.VuI],showTickMarks:[e.lbL.HasDecoratorInputTransform,"showTickMarks","showTickMarks",e.VuI],min:[e.lbL.HasDecoratorInputTransform,"min","min",e.Cb_],color:"color",disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],max:[e.lbL.HasDecoratorInputTransform,"max","max",e.Cb_],step:[e.lbL.HasDecoratorInputTransform,"step","step",e.Cb_],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[e._Bn([{provide:C,useExisting:s}]),e.Xq5,e.jDz],ngContentSelectors:Re,decls:9,vars:5,consts:[[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],["trackActive",""],["class","mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[1,"mdc-slider__tick-marks"],["tickMarkContainer",""],[3,"class","transform"]],template:function(i,o){1&i&&(e.F$t(),e.Hsn(0),e.TgZ(1,"div",0),e._UZ(2,"div",1),e.TgZ(3,"div",2),e._UZ(4,"div",3,4),e.qZA(),e.YNc(6,Me,3,1,"div",5),e.qZA(),e.YNc(7,Ae,1,3,"mat-slider-visual-thumb",6),e._UZ(8,"mat-slider-visual-thumb",6)),2&i&&(e.xp6(6),e.um2(6,o.showTickMarks?6:-1),e.xp6(),e.um2(7,o._isRange?7:-1),e.xp6(),e.Q6J("discrete",o.discrete)("thumbPosition",2)("valueIndicatorText",o.endValueIndicatorText))},dependencies:[Ee],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return s})();const Ze={provide:c.JU,useExisting:(0,e.Gpc)(()=>I),multi:!0};let I=(()=>{class s{get value(){return(0,e.Cb_)(this._hostElement.value,0)}set value(t){const i=(t=isNaN(t)?0:t)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return(0,e.Cb_)(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return(0,e.Cb_)(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return(0,e.Cb_)(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return(0,e.VuI)(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,o,n){this._ngZone=t,this._elementRef=i,this._cdr=o,this._slider=n,this.valueChange=new e.vpe,this.dragStart=new e.vpe,this.dragEnd=new e.vpe,this.thumbPosition=d.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new S.x,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=(0,e.f3M)(V.t4),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,o=this._slider._cachedWidth,n=0===this._slider.step?1:this._slider.step,a=Math.floor((this._slider.max-this._slider.min)/n),T=Math.round((this._slider._isRtl?1-i/o:i/o)*a)/a*(this._slider.max-this._slider.min)+this._slider.min,Z=Math.round(T/n)*n;if(Z===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=Z,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(C))};static#t=this.\u0275dir=e.lG2({type:s,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,o){1&i&&e.NdJ("change",function(){return o._onChange()})("input",function(){return o._onInput()})("blur",function(){return o._onBlur()})("focus",function(){return o._onFocus()}),2&i&&e.uIk("aria-valuetext",o._valuetext)},inputs:{value:[e.lbL.HasDecoratorInputTransform,"value","value",e.Cb_]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[e._Bn([Ze,{provide:J,useExisting:s}]),e.Xq5]})}return s})(),Be=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[g.BQ,g.si]})}return s})();var Ve=l(4300),Le=l(8337);const Oe=["input"],Ne=["formField"],Fe=["*"];let j=0;class z{constructor(r,t){this.source=r,this.value=t}}const He={provide:c.JU,useExisting:(0,e.Gpc)(()=>$),multi:!0},W=new e.OlP("MatRadioGroup"),Qe=new e.OlP("mat-radio-default-options",{providedIn:"root",factory:function Ye(){return{color:"accent"}}});let $=(()=>{class s{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+j++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new e.vpe}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new z(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(e.sBO))};static#t=this.\u0275dir=e.lG2({type:s,selectors:[["mat-radio-group"]],contentQueries:function(i,o,n){if(1&i&&e.Suo(n,L,5),2&i){let a;e.iGM(a=e.CRH())&&(o._radios=a)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],required:[e.lbL.HasDecoratorInputTransform,"required","required",e.VuI]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[e._Bn([He,{provide:W,useExisting:s}]),e.Xq5]})}return s})(),L=(()=>{class s{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,o,n,a,_,p,T){this._elementRef=i,this._changeDetector=o,this._focusMonitor=n,this._radioDispatcher=a,this._providerOverride=p,this._uniqueId="mat-radio-"+ ++j,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new e.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===_,T&&(this.tabIndex=(0,e.Cb_)(T,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new z(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const o=this._inputElement?.nativeElement;o&&(o.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(W,8),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(Ve.tE),e.Y36(Le.A8),e.Y36(e.QbO,8),e.Y36(Qe,8),e.$8M("tabindex"))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["mat-radio-button"]],viewQuery:function(i,o){if(1&i&&(e.Gf(Oe,5),e.Gf(Ne,7,e.SBq)),2&i){let n;e.iGM(n=e.CRH())&&(o._inputElement=n.first),e.iGM(n=e.CRH())&&(o._rippleTrigger=n.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,o){1&i&&e.NdJ("focus",function(){return o._inputElement.nativeElement.focus()}),2&i&&(e.uIk("id",o.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),e.ekj("mat-primary","primary"===o.color)("mat-accent","accent"===o.color)("mat-warn","warn"===o.color)("mat-mdc-radio-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[e.lbL.None,"aria-label","ariaLabel"],ariaLabelledby:[e.lbL.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[e.lbL.None,"aria-describedby","ariaDescribedby"],disableRipple:[e.lbL.HasDecoratorInputTransform,"disableRipple","disableRipple",e.VuI],tabIndex:[e.lbL.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:(0,e.Cb_)(t)],checked:[e.lbL.HasDecoratorInputTransform,"checked","checked",e.VuI],value:"value",labelPosition:"labelPosition",disabled:[e.lbL.HasDecoratorInputTransform,"disabled","disabled",e.VuI],required:[e.lbL.HasDecoratorInputTransform,"required","required",e.VuI],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[e.Xq5,e.jDz],ngContentSelectors:Fe,decls:13,vars:16,consts:[["mat-internal-form-field","",3,"labelPosition"],["formField",""],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"id","checked","disabled","required","change"],["input",""],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,o){1&i&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3),e.NdJ("click",function(a){return o._onTouchTargetClick(a)}),e.qZA(),e.TgZ(4,"input",4,5),e.NdJ("change",function(a){return o._onInputInteraction(a)}),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"div",7)(8,"div",8),e.qZA(),e.TgZ(9,"div",9),e._UZ(10,"div",10),e.qZA()(),e.TgZ(11,"label",11),e.Hsn(12),e.qZA()()),2&i&&(e.Q6J("labelPosition",o.labelPosition),e.xp6(2),e.ekj("mdc-radio--disabled",o.disabled),e.xp6(2),e.Q6J("id",o.inputId)("checked",o.checked)("disabled",o.disabled)("required",o.required),e.uIk("name",o.name)("value",o.value)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),e.xp6(5),e.Q6J("matRippleTrigger",o._rippleTrigger.nativeElement)("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",!0),e.xp6(2),e.Q6J("for",o.inputId))},dependencies:[g.wG,g.fq],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return s})(),Je=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({imports:[g.BQ,m.ez,g.si,L,g.BQ]})}return s})();var M=l(3651),qe=l(8484),h=l(6825),O=l(2438),A=l(9773),Ge=l(1374);function Xe(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",2),e.NdJ("@fade.done",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.onAnimationEnd(o))}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("@fade",t.animationState)("@.disabled",!t.animation)("innerHTML",t.title,e.oJD)}}function je(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("@fade.done",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.onAnimationEnd(o))}),e._uU(1),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("@fade",t.animationState)("@.disabled",!t.animation),e.xp6(),e.hij(" ",t.title,"\n")}}let ze=(()=>{class s{_cdRef;title;html;animation;tooltip=!0;_hidden=new S.x;animationState="hidden";constructor(t){this._cdRef=t}markForCheck(){this._cdRef.markForCheck()}onAnimationEnd(t){"hidden"===t.toState&&this._hidden.next()}static \u0275fac=function(i){return new(i||s)(e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:s,selectors:[["mdb-tooltip"]],hostVars:2,hostBindings:function(i,o){2&i&&e.ekj("tooltip",o.tooltip)},inputs:{title:"title",html:"html",animation:"animation"},decls:2,vars:2,consts:[["class","tooltip-inner",3,"innerHTML",4,"ngIf"],["class","tooltip-inner",4,"ngIf"],[1,"tooltip-inner",3,"innerHTML"],[1,"tooltip-inner"]],template:function(i,o){1&i&&e.YNc(0,Xe,1,3,"div",0)(1,je,2,3,"div",1),2&i&&(e.Q6J("ngIf",o.html),e.xp6(),e.Q6J("ngIf",!o.html))},dependencies:[m.O5],encapsulation:2,data:{animation:[(0,h.X$)("fade",[(0,h.SB)("visible",(0,h.oB)({opacity:1})),(0,h.SB)("hidden",(0,h.oB)({opacity:0})),(0,h.eR)("visible => hidden",(0,h.jt)("150ms linear")),(0,h.eR)(":enter",(0,h.jt)("150ms linear"))])]},changeDetection:0})}return s})(),R=(()=>{class s{_overlay;_overlayPositionBuilder;_elementRef;mdbTooltip="";tooltipDisabled=!1;placement="top";html=!1;animation=!0;trigger="hover focus";delayShow=0;delayHide=0;offset=0;tooltipShow=new e.vpe;tooltipShown=new e.vpe;tooltipHide=new e.vpe;tooltipHidden=new e.vpe;_overlayRef;_tooltipRef;_open=!1;_showTimeout=0;_hideTimeout=0;_destroy$=new S.x;constructor(t,i,o){this._overlay=t,this._overlayPositionBuilder=i,this._elementRef=o}ngOnInit(){this.tooltipDisabled||""===this.mdbTooltip||this._bindTriggerEvents()}ngOnDestroy(){(this._open||this._showTimeout)&&this.hide(),this._destroy$.next(),this._destroy$.complete()}_bindTriggerEvents(){this.trigger.split(" ").forEach(i=>{if("click"===i)(0,O.R)(this._elementRef.nativeElement,i).pipe((0,A.R)(this._destroy$)).subscribe(()=>this.toggle());else if("manual"!==i){const n="hover"===i?"mouseleave":"focusout";(0,O.R)(this._elementRef.nativeElement,"hover"===i?"mouseenter":"focusin").pipe((0,A.R)(this._destroy$)).subscribe(()=>this.show()),(0,O.R)(this._elementRef.nativeElement,n).pipe((0,A.R)(this._destroy$)).subscribe(()=>this.hide())}})}_createOverlayConfig(){const t=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(this._getPosition());return new M.X_({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:t})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_getPosition(){let t;const i={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-this.offset},o={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:this.offset},n={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.offset},a={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-this.offset};switch(this.placement){case"top":t=[i,o];break;case"bottom":t=[o,i];break;case"left":t=[a,n];break;case"right":t=[n,a]}return t}show(){(this._hideTimeout||this._open)&&(this._overlayRef.detach(),clearTimeout(this._hideTimeout),this._hideTimeout=null),this._createOverlay(),this._showTimeout=setTimeout(()=>{if(!this._overlayRef.hasAttached()){const t=new qe.C5(ze);this.tooltipShow.emit(this),this._open=!0,this._tooltipRef=this._overlayRef.attach(t),this._tooltipRef.instance.title=this.mdbTooltip,this._tooltipRef.instance.html=this.html,this._tooltipRef.instance.animation=this.animation,this._tooltipRef.instance.animationState="visible",this._tooltipRef.instance.markForCheck(),this.tooltipShown.emit(this)}},this.delayShow)}hide(){this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null,this._hideTimeout=setTimeout(()=>{this.tooltipHide.emit(this),this._tooltipRef?(this._tooltipRef.instance._hidden.pipe((0,Ge.P)()).subscribe(()=>{this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this)}),this._tooltipRef.instance.animationState="hidden",this._tooltipRef.instance.markForCheck()):(this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this))},this.delayHide))}toggle(){this._open?this.hide():this.show()}static \u0275fac=function(i){return new(i||s)(e.Y36(M.aV),e.Y36(M.wJ),e.Y36(e.SBq))};static \u0275dir=e.lG2({type:s,selectors:[["","mdbTooltip",""]],inputs:{mdbTooltip:"mdbTooltip",tooltipDisabled:"tooltipDisabled",placement:"placement",html:"html",animation:"animation",trigger:"trigger",delayShow:"delayShow",delayHide:"delayHide",offset:"offset"},outputs:{tooltipShow:"tooltipShow",tooltipShown:"tooltipShown",tooltipHide:"tooltipHide",tooltipHidden:"tooltipHidden"},exportAs:["mdbTooltip"]})}return s})(),We=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[m.ez,M.U8]})}return s})();const $e=["musicPlayedInput"];function Ke(s,r){if(1&s&&(e.TgZ(0,"mat-checkbox",43),e._uU(1," Contribute to improving the database "),e._UZ(2,"i",44),e.qZA()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("mdbTooltip",t.accuracyText())("html",!0)}}function et(s,r){1&s&&e._UZ(0,"span",49)}function tt(s,r){if(1&s&&(e.TgZ(0,"div",45)(1,"div",46)(2,"button",47),e._uU(3," Create "),e.YNc(4,et,1,0,"span",48),e.qZA()()()),2&s){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.loading)}}function it(s,r){1&s&&e._UZ(0,"span",49)}function st(s,r){if(1&s&&(e.TgZ(0,"button",47),e._uU(1," Save "),e.YNc(2,it,1,0,"span",48),e.qZA()),2&s){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loading)}}function ot(s,r){if(1&s&&(e.TgZ(0,"div",45)(1,"div",46),e.YNc(2,st,3,1,"button",50),e.qZA()()),2&s){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.userCanEdit)}}let K=(()=>{class s{fb;lobbyHttpService;router;lobbyStore;authService;lobbyForm;lobby;loading=!1;userCanEdit=!0;subscriptions=[];musicAccuracyRatio;lobbyGameModes=u.in;lobbyHintModes=u.BF;songSelectionPercentage=100;musicPlayedInput;constructor(t,i,o,n,a){this.fb=t,this.lobbyHttpService=i,this.router=o,this.lobbyStore=n,this.authService=a}ngOnInit(){this.lobby=this.lobbyStore.getLobby(),this.songSelectionPercentage=this.lobby?this.lobby.playedMusics/this.lobby.musicNumber*100:100,this.lobbyHttpService.info().subscribe(t=>{this.musicAccuracyRatio=t}),this.lobbyForm=this.fb.group({name:[this.lobby?this.lobby.name:`${this.authService.decodeJwt().username}'s lobby`,c.kI.required.bind(this)],password:[this.lobby?.password],musicNumber:[this.lobby?this.lobby.musicNumber:20,[c.kI.max(100),c.kI.min(5)]],playedMusics:[this.lobby?this.lobby.playedMusics:20,[c.kI.max(this.lobby?.musicNumber??20),c.kI.min(0)]],guessTime:[this.lobby?this.lobby.guessTime:20,[c.kI.max(60),c.kI.min(5)]],allowDuplicates:[!!this.lobby&&this.lobby.allowDuplicates],customDifficulty:[!!this.lobby&&this.lobby.customDifficulty],easyDifficulty:[!this.lobby||this.lobby.difficulty.includes(u.PT.Easy)],mediumDifficulty:[!this.lobby||this.lobby.difficulty.includes(u.PT.Medium)],hardDifficulty:[!this.lobby||this.lobby.difficulty.includes(u.PT.Hard)],allowContributeToMissingData:[!this.lobby||this.lobby.allowContributeToMissingData],gameMode:[this.lobby?this.lobby.gameMode:u.in.Standard],playMusicOnAnswerReveal:[!this.lobby||this.lobby.playMusicOnAnswerReveal],showCorrectAnswersDuringGuessTime:[!!this.lobby&&this.lobby.showCorrectAnswersDuringGuessTime],hintMode:[this.lobby?this.lobby.hintMode:u.BF.Allowed,[c.kI.required.bind(this)]]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t,this.lobbyForm.patchValue({name:this.lobby.name,...this.lobby?.password&&{password:this.lobby?.password},musicNumber:this.lobby.musicNumber,guessTime:this.lobby.guessTime,allowDuplicates:this.lobby.allowDuplicates,easyDifficulty:this.lobby.difficulty.includes(u.PT.Easy),mediumDifficulty:this.lobby.difficulty.includes(u.PT.Medium),hardDifficulty:this.lobby.difficulty.includes(u.PT.Hard)})}),this.lobbyStore.me.subscribe(t=>{null!==t&&(this.userCanEdit=t.role===v.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})]),this.lobbyForm.get("musicNumber").valueChanges.subscribe({next:t=>{this.lobbyForm.get("musicNumber").setValue(t,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0}),this.musicPlayedInput.nativeElement.max=t;const i=this.lobbyForm.get("playedMusics");i.setValue(Math.round(t*this.songSelectionPercentage/100),{emitEvent:!1}),i.setValidators([c.kI.max(this.lobby?.musicNumber||20),c.kI.min(0)])}}),this.lobbyForm.get("guessTime").valueChanges.subscribe({next:t=>{this.lobbyForm.get("guessTime").setValue(t,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),this.lobbyForm.get("playedMusics").valueChanges.subscribe({next:t=>{this.lobbyForm.get("playedMusics").setValue(t,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0}),this.songSelectionPercentage=t/this.lobbyForm.get("musicNumber").value*100}})}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}submit(){this.loading=!0;let t=[];this.lobbyForm.get("easyDifficulty").value&&(t=[...t,u.PT.Easy]),this.lobbyForm.get("mediumDifficulty").value&&(t=[...t,u.PT.Medium]),this.lobbyForm.get("hardDifficulty").value&&(t=[...t,u.PT.Hard]),null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,playedMusics:this.lobbyForm.get("playedMusics").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:t,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,showCorrectAnswersDuringGuessTime:this.lobbyForm.get("showCorrectAnswersDuringGuessTime").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,Y.x)(()=>this.loading=!1)).subscribe(i=>{this.router.navigate([`/lobby/${i.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,playedMusics:this.lobbyForm.get("playedMusics").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:t,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,showCorrectAnswersDuringGuessTime:this.lobbyForm.get("showCorrectAnswersDuringGuessTime").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,Y.x)(()=>this.loading=!1)).subscribe(()=>{})}hideContribution(){return this.lobbyForm.get("easyDifficulty").value&&this.lobbyForm.get("mediumDifficulty").value&&this.lobbyForm.get("hardDifficulty").value}accuracyText(){return`By checking this, each music has <strong class="text-primary">${Math.round(1e4*(this.musicAccuracyRatio+Number.EPSILON))/100}% chance</strong> to not reflect the difficulty chosen in order to improve our database.<br>The more you play, the lower the chance!`}static \u0275fac=function(i){return new(i||s)(e.Y36(c.qu),e.Y36(k.Y),e.Y36(w.F0),e.Y36(b),e.Y36(U.e))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-config"]],viewQuery:function(i,o){if(1&i&&e.Gf($e,5),2&i){let n;e.iGM(n=e.CRH())&&(o.musicPlayedInput=n.first)}},decls:91,vars:21,consts:[[1,"bg-dark","tw-p-3","tw-rounded-md","tw-h-full"],[1,"h-100",3,"formGroup","ngSubmit"],[1,"form-container"],[1,"tw-flex","tw-flex-col","md:tw-flex-row","tw-gap-4","md:tw-gap-8"],["type","text","formControlName","name","required","required","placeholder","Lobby name",1,"form-control","!tw-bg-grey","tw-rounded-md","placeholder:tw-text-light-grey","tw-h-[50px]","tw-w-[200px]"],[1,"tw-flex","tw-flex-col","tw-items-start","md:tw-items-center"],["type","text","formControlName","password","required","required","placeholder","Password",1,"form-control","!tw-bg-grey","tw-rounded-md","placeholder:tw-text-light-grey","tw-h-[50px]","tw-w-[200px]","tw-mb-2"],[1,"tw-text-xs"],[1,"!tw-mt-2"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary",2,"width","70%",3,"min","max","step"],["matSliderThumb","","formControlName","musicNumber"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["matSliderThumb","","formControlName","guessTime"],["type","number","max","100","min","5","formControlName","guessTime"],["mdbTooltip","The number of songs from players' list. The rest will be filled with random games.","placement","top",1,"fa-solid","fa-question-circle"],["color","primary",2,"width","70%",3,"min","step","max"],["matSliderThumb","","formControlName","playedMusics"],["type","number","min","0","formControlName","playedMusics",3,"max"],["musicPlayedInput",""],[1,"col-md-6","mb-2"],[1,"mb-3"],["formControlName","easyDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","mediumDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","hardDifficulty","color","primary",1,"mx-3","checkbox-center"],["class","mx-3","color","primary","formControlName","allowContributeToMissingData",4,"ngIf"],["mdbTooltip","Allow players to choose between 4 answers, but they win half the usual points","placement","bottom",1,"fa-solid","fa-question-circle",3,"html"],["aria-label","Select an option","formControlName","hintMode","color","primary",1,"d-flex"],[3,"value"],[1,"col-md-6","mt-2","mt-md-0"],["aria-label","Select an option","formControlName","gameMode","color","primary",1,"d-flex"],["value","2","disabled",""],["value","3","disabled",""],["mdbTooltip","One of you plays the music, the other can turn off their phone. <br>Don't worry about neither your score nor your accuracy, it's gone","placement","bottom",3,"value","html"],[1,"row","mt-3"],[1,"col-md-6"],["formControlName","allowDuplicates","color","primary",1,"me-2","checkbox-center"],["formControlName","playMusicOnAnswerReveal","color","primary",1,"me-2","checkbox-center"],["formControlName","showCorrectAnswersDuringGuessTime","color","primary",1,"me-2","checkbox-center"],["class","row justify-content-end mt-2",4,"ngIf"],["color","primary","formControlName","allowContributeToMissingData",1,"mx-3"],["placement","bottom",1,"fa-solid","fa-question-circle",3,"mdbTooltip","html"],[1,"row","justify-content-end","mt-2"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["class","btn btn-primary w-100","type","submit",4,"ngIf"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return!o.userCanEdit||o.submit()}),e.TgZ(2,"div",2)(3,"div",3),e._UZ(4,"input",4),e.TgZ(5,"div",5),e._UZ(6,"input",6),e.TgZ(7,"span",7),e._uU(8,"keep it empty if this is public lobby"),e.qZA()()(),e.TgZ(9,"h1",8),e._uU(10,"Settings"),e.qZA(),e.TgZ(11,"div",9)(12,"div",10)(13,"h3"),e._uU(14,"Lobby"),e.qZA(),e.TgZ(15,"div",9)(16,"div",11)(17,"div")(18,"label"),e._uU(19,"Number of musics "),e.qZA()(),e.TgZ(20,"mat-slider",12),e._UZ(21,"input",13),e.qZA(),e.TgZ(22,"div",14),e._UZ(23,"input",15),e.qZA()(),e.TgZ(24,"div",11)(25,"div")(26,"label"),e._uU(27,"Guessing time "),e.qZA()(),e.TgZ(28,"div")(29,"mat-slider",12),e._UZ(30,"input",16),e.qZA(),e.TgZ(31,"div",14),e._UZ(32,"input",17),e._uU(33,"s "),e.qZA()()(),e.TgZ(34,"div",11)(35,"div")(36,"label"),e._uU(37," Played games "),e._UZ(38,"i",18),e.qZA()(),e.TgZ(39,"div")(40,"mat-slider",19),e._UZ(41,"input",20),e.qZA(),e.TgZ(42,"div",14),e._UZ(43,"input",21,22),e.qZA()()()()(),e.TgZ(45,"div",23)(46,"h3"),e._uU(47,"Difficulty"),e.qZA(),e.TgZ(48,"section",24)(49,"mat-checkbox",25),e._uU(50," Easy "),e.qZA(),e.TgZ(51,"mat-checkbox",26),e._uU(52,"Medium"),e.qZA(),e.TgZ(53,"mat-checkbox",27),e._uU(54,"Hard"),e.qZA()(),e.YNc(55,Ke,3,2,"mat-checkbox",28),e.TgZ(56,"div")(57,"h3"),e._uU(58," Hint Button "),e._UZ(59,"i",29),e.qZA(),e.TgZ(60,"mat-radio-group",30)(61,"mat-radio-button",31),e._uU(62,"Disabled"),e.qZA(),e.TgZ(63,"mat-radio-button",31),e._uU(64,"Allowed"),e.qZA(),e.TgZ(65,"mat-radio-button",31),e._uU(66,"Always"),e.qZA()()()(),e.TgZ(67,"div",32)(68,"h3"),e._uU(69,"Game mode"),e.qZA(),e.TgZ(70,"mat-radio-group",33)(71,"mat-radio-button",31),e._uU(72,"Standard"),e.qZA(),e.TgZ(73,"mat-radio-button",34),e._uU(74,"Quick-draw"),e.qZA(),e.TgZ(75,"mat-radio-button",35),e._uU(76,"Battle royale"),e.qZA(),e.TgZ(77,"mat-radio-button",36),e._uU(78," Local Couch "),e.qZA()()()(),e.TgZ(79,"div",37)(80,"div",38)(81,"h3"),e._uU(82,"Modifiers"),e.qZA(),e.TgZ(83,"mat-checkbox",39),e._uU(84," Duplicate games "),e.qZA(),e.TgZ(85,"mat-checkbox",40),e._uU(86," Keep Playing Music On Answer Reveal "),e.qZA(),e.TgZ(87,"mat-checkbox",41),e._uU(88," Show correct answers during guess time "),e.qZA()()(),e.YNc(89,tt,5,1,"div",42),e.qZA(),e.YNc(90,ot,3,1,"div",42),e.qZA()()),2&i&&(e.xp6(),e.Q6J("formGroup",o.lobbyForm),e.xp6(19),e.Q6J("min",5)("max",100)("step",1),e.xp6(9),e.Q6J("min",5)("max",60)("step",1),e.xp6(11),e.Q6J("min",0)("step",1)("max",o.lobbyForm.get("musicNumber").value),e.xp6(3),e.Q6J("max",o.lobby?o.lobby.playedMusics:20),e.xp6(12),e.Q6J("ngIf",!o.hideContribution()),e.xp6(4),e.Q6J("html",!0),e.xp6(2),e.Q6J("value",o.lobbyHintModes.Disabled),e.xp6(2),e.Q6J("value",o.lobbyHintModes.Allowed),e.xp6(2),e.Q6J("value",o.lobbyHintModes.Always),e.xp6(6),e.Q6J("value",o.lobbyGameModes.Standard),e.xp6(6),e.Q6J("value",o.lobbyGameModes.LocalCouch)("html",!0),e.xp6(12),e.Q6J("ngIf",!o.lobby),e.xp6(),e.Q6J("ngIf",o.lobby))},dependencies:[m.O5,ye.oG,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.Q7,c.qQ,c.Fd,c.sg,c.u,X,I,$,L,R],encapsulation:2})}return s})(),nt=(()=>{class s{constructor(){}ngOnInit(){}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"tw-w-5/6"]],template:function(i,o){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-lobby-config",0),e.qZA())},dependencies:[K],encapsulation:2})}return s})();var rt=l(2132),at=l(4896),lt=l(2075),dt=l(7700),y=l(9678),ct=l(68);function ut(s,r){if(1&s){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.play())}),e._uU(2,"Play"),e.qZA(),e.BQk()}}const mt=s=>({row:s}),ht=(s,r)=>({"col-md-6":s,"col-md-12":r});let ee=(()=>{class s{lobbyHttpService;lobbyStore;socket;router;lobby;role;lobbyUsersRoles=v;lobbyStatus=u.D;subscriptions=[];constructor(t,i,o,n){this.lobbyHttpService=t,this.lobbyStore=i,this.socket=o,this.router=n}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&(this.role=t.role)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.socket.emit("leave",this.lobby.code),this.router.navigate(["/"])}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&this.lobby.status===u.D.Waiting}static \u0275fac=function(i){return new(i||s)(e.Y36(k.Y),e.Y36(b),e.Y36(y.i),e.Y36(w.F0))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-button-play"]],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,ut,3,0,"ng-container",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return o.leave()}),e._uU(3," Leave "),e.qZA()()),2&i&&(e.Q6J("ngClass",e.VKq(3,mt,o.showPlayButton())),e.xp6(),e.Q6J("ngIf",o.showPlayButton()),e.xp6(),e.Q6J("ngClass",e.WLB(5,ht,o.showPlayButton(),!o.showPlayButton())))},dependencies:[m.mk,m.O5],encapsulation:2})}return s})();const _t=["chat"],pt=["messageElement"];function bt(s,r){if(1&s&&(e.TgZ(0,"div",null,8)(2,"span",9),e._uU(3),e.qZA(),e._uU(4),e.qZA()),2&s){const t=r.$implicit;e.xp6(3),e.hij("",t.username,": "),e.xp6(),e.hij(" ",t.message," ")}}const ft=s=>({disabled:s});let te=(()=>{class s{lobbyStore;socket;subscriptions=[];messages=[];message=new c.NI(null,[c.kI.required.bind(this)]);chat;messageElements;constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.messages.subscribe(t=>{this.messages=t})]}ngAfterViewInit(){this.scrollToBottom(),this.messageElements.changes.subscribe(this.scrollToBottom)}scrollToBottom=()=>{this.chat.nativeElement.scrollTop=this.chat.nativeElement.scrollHeight};ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}submit(){this.socket.emit("chat",this.message.value),this.message.setValue(null)}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.i))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-chat"]],viewQuery:function(i,o){if(1&i&&(e.Gf(_t,5),e.Gf(pt,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.chat=n.first),e.iGM(n=e.CRH())&&(o.messageElements=n)}},decls:10,vars:5,consts:[[1,"bg-dark","p-4","chat-container","d-none","d-md-block"],[1,"chat"],["chat",""],[4,"ngFor","ngForOf"],[1,"input-group","align-self-center","w-100","mt-2",3,"ngSubmit"],["type","text","placeholder","Your message","aria-label","Your message","aria-describedby","button-addon2",1,"form-control",3,"formControl"],["type","submit","id","button-addon2",1,"btn","btn-outline-primary",3,"ngClass"],[1,"far","fa-paper-plane"],["messageElement",""],[1,"text-primary"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1,2),e.YNc(3,bt,5,2,"div",3),e.qZA(),e.TgZ(4,"div")(5,"form",4),e.NdJ("ngSubmit",function(){return o.message.invalid||o.submit()}),e._UZ(6,"input",5),e.TgZ(7,"button",6),e._uU(8," Send "),e._UZ(9,"i",7),e.qZA()()()()),2&i&&(e.xp6(3),e.Q6J("ngForOf",o.messages),e.xp6(3),e.Q6J("formControl",o.message),e.xp6(),e.Q6J("ngClass",e.VKq(3,ft,o.message.invalid)))},dependencies:[m.mk,m.sg,c._Y,c.Fj,c.JJ,c.JL,c.F,c.oH],encapsulation:2})}return s})(),gt=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-waiting"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-9","lobby-col"],[1,"d-md-none"],[1,"col-md-9"],[1,"col-md-3","lobby-col"],[1,"d-none","d-md-block","mb-md-2"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-button-play",2)(3,"app-lobby-config",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"app-button-play",5)(6,"app-lobby-chat"),e.qZA()())},dependencies:[K,ee,te],encapsulation:2})}return s})();function vt(s,r){1&s&&e._UZ(0,"i",10)}function yt(s,r){1&s&&e._UZ(0,"i",11)}function Tt(s,r){1&s&&e._UZ(0,"span",12)}function wt(s,r){1&s&&e._UZ(0,"i",13)}function xt(s,r){1&s&&e._UZ(0,"i",14)}function kt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"i",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw();return e.KtG(n.kick(o))}),e.qZA()()()()}}const St=(s,r)=>({"mx-2":s,"mx-3":r}),Ct=s=>({"text-muted":s});function It(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div"),e.YNc(4,vt,1,0,"i",4)(5,yt,1,0,"i",5),e.TgZ(6,"span"),e._uU(7),e.qZA(),e.YNc(8,Tt,1,0,"span",6),e.qZA(),e.TgZ(9,"div"),e.YNc(10,wt,1,0,"i",7)(11,xt,1,0,"i",8),e.qZA(),e._UZ(12,"div"),e.qZA(),e.YNc(13,kt,4,0,"div",9),e.qZA(),e.BQk()),2&s){const t=r.$implicit,i=e.oxw();e.xp6(),e.Q6J("ngClass",e.WLB(10,St,i.me.role!==i.lobbyUserRoles.Host,i.me.role===i.lobbyUserRoles.Host)),e.xp6(),e.Q6J("@userStatus",i.getStatusClass(t))("ngClass",e.VKq(13,Ct,t.disconnected||t.role===i.lobbyUserRoles.Spectator)),e.xp6(2),e.Q6J("ngIf",t.role===i.lobbyUserRoles.Host),e.xp6(),e.Q6J("ngIf",t.role===i.lobbyUserRoles.Spectator&&!t.disconnected),e.xp6(2),e.Oqu(t.user.username),e.xp6(),e.Q6J("ngIf",t.status===i.lobbyUserStatus.Buffering),e.xp6(2),e.Q6J("ngIf",t.playedTheGame),e.xp6(),e.Q6J("ngIf",(null==i.lobby?null:i.lobby.hintMode)!==i.lobbyHintModes.Always&&t.hintMode),e.xp6(2),e.Q6J("ngIf",i.me.role===i.lobbyUserRoles.Host&&t.role===i.lobbyUserRoles.Player)}}let Mt=(()=>{class s{lobbyStore;socket;showRank=!1;users;me;lobby;lobbyHintModes=u.BF;lobbyUserRoles=v;lobbyUserStatus=D;subscriptions=[];constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(t=>{this.users=t}),this.lobbyStore.me.subscribe(t=>{this.me=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobby=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getStatusClass(t){return!1===t.correctAnswer?"wrongAnswer":!0===t.correctAnswer?"correctAnswer":"default"}kick(t){this.socket.emit("kick",t.user.username)}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.i))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],[4,"ngFor","ngForOf"],[1,"user-card","bg-dark","text-center","p-1","position-relative",3,"ngClass"],[1,"row","justify-content-between",3,"ngClass"],["class","fa fa-star",4,"ngIf"],["class","fa fa-ghost",4,"ngIf"],["class","text-white spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["class","text-info fa fa-gamepad mx-1",4,"ngIf"],["class","text-white far fa-eye mx-1",4,"ngIf"],["class","users-actions d-flex flex-column position-absolute","style","top: 0; right: -15px",4,"ngIf"],[1,"fa","fa-star"],[1,"fa","fa-ghost"],["role","status","aria-hidden","true",1,"text-white","spinner-border","spinner-border-sm"],[1,"text-info","fa","fa-gamepad","mx-1"],[1,"text-white","far","fa-eye","mx-1"],[1,"users-actions","d-flex","flex-column","position-absolute",2,"top","0","right","-15px"],[1,"bg-dark","pt-1"],[1,"col"],[1,"icon-action","text-danger","fa","fa-times",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,It,14,15,"ng-container",1),e.qZA()),2&i&&(e.xp6(),e.Q6J("ngForOf",o.users))},dependencies:[m.mk,m.sg,m.O5],encapsulation:2,data:{animation:[(0,h.X$)("userStatus",[(0,h.SB)("wrongAnswer",(0,h.oB)({color:"white"})),(0,h.SB)("correctAnswer",(0,h.oB)({color:"#56ff43"})),(0,h.SB)("default",(0,h.oB)({color:"white"})),(0,h.eR)("* => wrongAnswer",[(0,h.jt)("1s",(0,h.F4)([(0,h.oB)({color:"red",offset:0}),(0,h.oB)({color:"white",offset:.75})]))])])]}})}return s})();var ie=l(6007),E=l(5861);const se="audioPlayerVolume",oe="mediaTypeOnReveal";let ne=(()=>{class s{getDefaultVolume(){return parseFloat(localStorage.getItem(se)??"0.5")}setDefaultVolume(t){localStorage.setItem(se,t.toString())}getDefaultMediaTypeOnReveal(){return parseInt(localStorage.getItem(oe)??"2")}setDefaultMediaTypeOnReveal(t){localStorage.setItem(oe,t.toString())}static \u0275fac=function(i){return new(i||s)};static \u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var re=l(2296),N=l(617),P=l(7988);function At(s,r){1&s&&(e.TgZ(0,"mat-icon"),e._uU(1,"block"),e.qZA())}function Rt(s,r){1&s&&(e.TgZ(0,"mat-icon"),e._uU(1,"image"),e.qZA())}function Et(s,r){1&s&&(e.TgZ(0,"mat-icon"),e._uU(1,"movie"),e.qZA())}let Pt=(()=>{class s{lobbyStore;localStorageHelper;audio;lobby;subscriptions=[];gainNode;source;nextAudioBuffer;mediaTypeOnReveal;audioContext=new AudioContext;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i}ngOnInit(){var t=this;this.gainNode=this.audioContext.createGain(),this.gainNode.gain.setValueAtTime(this.getDefaultVolumeValue(),this.audioContext.currentTime),this.mediaTypeOnReveal=this.localStorageHelper.getDefaultMediaTypeOnReveal(),this.gainNode.connect(this.audioContext.destination),this.subscriptions=[this.lobbyStore.currentLobbyAudioBuffer.subscribe(function(){var i=(0,E.Z)(function*(o){null!==o?t.lobby.status===u.D.AnswerReveal&&t.lobby.playMusicOnAnswerReveal?t.nextAudioBuffer=o:(t.source?.stop(),t.setSourceNull(),yield t.setSource(o)):t.setSourceNull(),t.lobby?.status===u.D.PlayingMusic&&(t.gainNode.gain.setValueAtTime(t.getDefaultVolumeValue(),t.audioContext.currentTime),t.source?.start())});return function(o){return i.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(function(){var i=(0,E.Z)(function*(o){t.lobby=o,o&&(o.status===u.D.AnswerReveal&&(o.playMusicOnAnswerReveal?setTimeout(()=>{t.gainNode.gain.setValueAtTime(t.gainNode.gain.value,t.audioContext.currentTime),t.gainNode.gain.exponentialRampToValueAtTime(.01,t.audioContext.currentTime+5)},5e3):t.setSourceNull()),o.status===u.D.PlayingMusic&&(t.nextAudioBuffer&&(t.source?.stop(),t.setSourceNull(),yield t.setSource(t.nextAudioBuffer),t.nextAudioBuffer=void 0),t.gainNode.gain.setValueAtTime(t.getDefaultVolumeValue(),t.audioContext.currentTime),t.source?.start()),!o.playMusicOnAnswerReveal&&o.status!==u.D.PlayingMusic&&t.setSourceNull(),o.status===u.D.Buffering&&t.setSourceNull())});return function(o){return i.apply(this,arguments)}}()),this.lobbyStore.resumeMusic.subscribe((0,E.Z)(function*(){yield t.audioContext.resume(),t.lobbyStore.setCanPlayMusic("running"===t.audioContext.state)}))]}ngOnDestroy(){this.setSourceNull(),this.audioContext.suspend(),this.subscriptions.forEach(t=>t.unsubscribe())}setSource(t){var i=this;return(0,E.Z)(function*(){i.gainNode.gain.setValueAtTime(i.getDefaultVolumeValue(),i.audioContext.currentTime);const o=yield i.audioContext.decodeAudioData(t);i.source=i.audioContext.createBufferSource(),i.source.buffer=o,i.source.connect(i.gainNode),i.lobbyStore.setCanPlayMusic("running"===i.audioContext.state)})()}setSourceNull(){this.source&&(this.source.buffer=null)}getDefaultVolumeValue(){return this.localStorageHelper.getDefaultVolume()}updateVolume(t){const i=t.valueAsNumber;this.gainNode.gain.setValueAtTime(i,this.audioContext.currentTime),this.localStorageHelper.setDefaultVolume(i)}getDefaultMediaTypeOnReveal(){return this.localStorageHelper.getDefaultMediaTypeOnReveal()}updateMediaTypeOnReveal(t){this.mediaTypeOnReveal=t,this.localStorageHelper.setDefaultMediaTypeOnReveal(t)}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(ne))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-audio-player"]],decls:13,vars:12,consts:[["aria-label","unit(s)","color","primary",3,"min","max","step","input"],["matSliderThumb","",3,"value"],["mat-icon-button","",1,"mat-icon-button",3,"matMenuTriggerFor"],["color","primary"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","","mdbTooltip","Answer reveal media type"],[4,"ngIf"],["color","primary",3,"min","max","step","click"],["matSliderThumb","",3,"value","valueChange"]],template:function(i,o){if(1&i&&(e.TgZ(0,"mat-slider",0),e.NdJ("input",function(a){return o.updateVolume(a.target)}),e._UZ(1,"input",1),e.qZA(),e.TgZ(2,"button",2)(3,"mat-icon",3),e._uU(4,"more_vert"),e.qZA()(),e.TgZ(5,"mat-menu",4,5)(7,"button",6),e.YNc(8,At,2,0,"mat-icon",7)(9,Rt,2,0,"mat-icon",7)(10,Et,2,0,"mat-icon",7),e.TgZ(11,"mat-slider",8),e.NdJ("click",function(a){return a.stopPropagation()}),e.TgZ(12,"input",9),e.NdJ("valueChange",function(a){return o.updateMediaTypeOnReveal(a)}),e.qZA()()()()),2&i){const n=e.MAs(6);e.Q6J("min",0)("max",1)("step",.001),e.xp6(),e.Q6J("value",o.getDefaultVolumeValue()),e.xp6(),e.Q6J("matMenuTriggerFor",n),e.xp6(6),e.Q6J("ngIf",!o.mediaTypeOnReveal),e.xp6(),e.Q6J("ngIf",1===o.mediaTypeOnReveal),e.xp6(),e.Q6J("ngIf",2===o.mediaTypeOnReveal),e.xp6(),e.Q6J("min",0)("max",2)("step",1),e.xp6(),e.Q6J("value",o.getDefaultMediaTypeOnReveal())}},dependencies:[m.O5,re.RK,X,I,N.Hw,R,P.VK,P.OP,P.p6],encapsulation:2})}return s})();var ae=l(2096),Zt=l(3997),le=l(4664),de=l(5438),Dt=l(9157),ce=l(4630),Ut=l(2032);const Bt=["answerInput"],Vt=["trigger"];function Lt(s,r){if(1&s&&e._UZ(0,"mat-option",7),2&s){const t=r.$implicit;e.Q6J("value",t.name)("innerHtml","<span>"+t.highlight+"</span>",e.oJD)}}let Ot=(()=>{class s{lobbyHttpService;lobbyStore;gameHttpService;socket;cdf;myControl=new c.NI;gameNames;lobby;me=null;lobbyStatuses=u.D;subscriptions=[];answerInput;matAutocompleteTrigger;constructor(t,i,o,n,a){this.lobbyHttpService=t,this.lobbyStore=i,this.gameHttpService=o,this.socket=n,this.cdf=a}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,Zt.x)(),(0,le.w)(t=>t?this.gameHttpService.getNames(t):(0,ae.of)(null)))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{null!==t&&(this.me?.role===v.Spectator?this.myControl.disable():[u.D.AnswerReveal,u.D.Buffering].includes(t.status)?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=t}),this.lobbyStore.me.subscribe(t=>{null!==t&&!0===t.correctAnswer&&this.myControl.disable()})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||s)(e.Y36(k.Y),e.Y36(b),e.Y36(de.q),e.Y36(y.i),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-answer"]],viewQuery:function(i,o){if(1&i&&(e.Gf(Bt,5),e.Gf(Vt,5)),2&i){let n;e.iGM(n=e.CRH())&&(o.answerInput=n.first),e.iGM(n=e.CRH())&&(o.matAutocompleteTrigger=n.first)}},decls:10,vars:9,consts:[[3,"ngSubmit"],["id","lobby-autocomplete",2,"width","100%"],["type","text","placeholder","Type your answer here...","aria-label","Number","matInput","","autocomplete","off","autocapitalize","off","spellcheck","false",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(i,o){if(1&i&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.lobby.status===o.lobbyStatuses.AnswerReveal||!o.myControl.value||o.submit()}),e.TgZ(1,"mat-form-field",1),e._UZ(2,"input",2,3),e.TgZ(5,"mat-autocomplete",4,5),e.NdJ("optionSelected",function(){return o.lobby.status===o.lobbyStatuses.AnswerReveal||o.submit()}),e.YNc(7,Lt,1,2,"mat-option",6),e.ALo(8,"slice"),e.ALo(9,"async"),e.qZA()()()),2&i){const n=e.MAs(6);e.xp6(2),e.Q6J("formControl",o.myControl)("matAutocomplete",n),e.xp6(5),e.Q6J("ngForOf",e.Dn7(8,3,e.lcZ(9,7,o.gameNames),0,30))}},dependencies:[m.sg,Dt.KE,ce.XC,g.ey,ce.ZL,Ut.Nt,c._Y,c.Fj,c.JJ,c.JL,c.F,c.oH,m.Ov,m.OU],encapsulation:2})}return s})();function Nt(s,r){if(1&s&&(e.TgZ(0,"div",1),e._uU(1),e.qZA()),2&s){const t=e.oxw();e.xp6(),e.hij(" ",t.countdown,"\n")}}let Ft=(()=>{class s{lobbyStore;countdown;countdownInterval;subscriptions;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.countdownInterval&&clearInterval(this.countdownInterval),t?.status===u.D.PlayingMusic?(this.countdown=t.guessTime-1,this.startCountdown()):t?.status===u.D.AnswerReveal&&(this.countdown=void 0)}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{t?.musicFinishesIn&&(this.countdownInterval&&clearInterval(this.countdownInterval),this.countdown=t.musicFinishesIn-1,this.startCountdown())})]}ngOnDestroy(){clearInterval(this.countdownInterval),this.subscriptions.forEach(t=>t.unsubscribe())}startCountdown(){this.countdownInterval=setInterval(()=>{this.countdown>0?this.countdown--:(this.countdown=void 0,clearInterval(this.countdownInterval))},1e3)}static \u0275fac=function(i){return new(i||s)(e.Y36(b))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-countdown"]],decls:1,vars:1,consts:[["class","align-self-center countdown",4,"ngIf"],[1,"align-self-center","countdown"]],template:function(i,o){1&i&&e.YNc(0,Nt,2,1,"div",0),2&i&&e.Q6J("ngIf",void 0!==o.countdown)},dependencies:[m.O5],encapsulation:2})}return s})();const ue=s=>({timing:s}),me=(s,r)=>({value:s,params:r});function Ht(s,r){if(1&s&&e._UZ(0,"div",2),2&s){const t=e.oxw();e.Q6J("@countdownProgress",e.WLB(3,me,t.lobby.status===t.lobbyStatuses.PlayingMusic?"empty":"full",e.VKq(1,ue,t.lobby.guessTime)))}}function Qt(s,r){if(1&s&&e._UZ(0,"div",2),2&s){const t=e.oxw();e.Udp("width",t.timeRemaining/t.lobby.guessTime*100+"%"),e.Q6J("@countdownProgress",e.WLB(5,me,t.lobby.status===t.lobbyStatuses.PlayingMusic?"empty":"full",e.VKq(3,ue,t.timeRemaining)))}}let Yt=(()=>{class s{lobbyStore;subscriptions;lobby;lobbyStatuses=u.D;timeRemaining;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t,this.timeRemaining=void 0}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{this.timeRemaining=t?.musicFinishesIn?t.musicFinishesIn>=0?t.musicFinishesIn:0:void 0})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||s)(e.Y36(b))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-countdown-progress"]],decls:2,vars:2,consts:[["style","height: 1px",4,"ngIf"],["style","height: 1px",3,"width",4,"ngIf"],[2,"height","1px"]],template:function(i,o){1&i&&e.YNc(0,Ht,1,6,"div",0)(1,Qt,1,8,"div",1),2&i&&(e.Q6J("ngIf",!o.timeRemaining),e.xp6(),e.Q6J("ngIf",o.timeRemaining))},dependencies:[m.O5],encapsulation:2,data:{animation:[(0,h.X$)("countdownProgress",[(0,h.SB)("full",(0,h.oB)({width:"100%"})),(0,h.SB)("empty",(0,h.oB)({width:"0"})),(0,h.SB)("default",(0,h.oB)({width:"25%"})),(0,h.eR)("* => empty",[(0,h.jt)("{{timing}}s")],{params:{timing:"20"}}),(0,h.eR)("* => full",[(0,h.jt)("10s")])])]}})}return s})();var Jt=l(2599);function qt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.enableHintMode())}),e._uU(1,"Hint"),e.qZA()}}function Gt(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"mat-slide-toggle",4),e.NdJ("change",function(o){e.CHM(t);const n=e.oxw(2);return e.KtG(n.toggleKeepHintMode(o))}),e._uU(1,"Keep hint mode "),e.qZA()}if(2&s){const t=e.oxw(2);e.Q6J("checked",null==t.me?null:t.me.keepHintMode)}}function Xt(s,r){if(1&s&&(e.ynx(0),e.YNc(1,qt,2,0,"button",1)(2,Gt,2,1,"mat-slide-toggle",2),e.BQk()),2&s){const t=e.oxw();e.xp6(),e.Q6J("ngIf",!(null!=t.me&&t.me.hintMode)),e.xp6(),e.Q6J("ngIf",null==t.me?null:t.me.hintMode)}}let jt=(()=>{class s{lobbyStore;lobbySocket;subscriptions=[];me;lobby;lobbyHintMode=u.BF;constructor(t,i){this.lobbyStore=t,this.lobbySocket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.me.subscribe(t=>{t&&(this.me=t)}),this.lobbyStore.lobby.subscribe(t=>{t&&(this.lobby=t)})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}enableHintMode(){this.lobbySocket.emit("enableHintMode")}toggleKeepHintMode(t){this.lobbySocket.emit("toggleKeepHintMode",t.checked)}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.i))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-hint-mode-toggle"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["color","primary",3,"checked","change",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],["color","primary",3,"checked","change"]],template:function(i,o){1&i&&e.YNc(0,Xt,3,2,"ng-container",0),2&i&&e.Q6J("ngIf",o.lobby.hintMode===o.lobbyHintMode.Allowed)},dependencies:[m.O5,Jt.Rr],encapsulation:2})}return s})();const zt=["xd"];function Wt(s,r){if(1&s&&(e.ynx(0),e._UZ(1,"input",2),e.TgZ(2,"label",3)(3,"span",4,5),e._uU(5),e.qZA()(),e.BQk()),2&s){const t=r.$implicit,i=r.index,o=e.oxw();e.xp6(),e.Q6J("id",i)("formControl",o.formControl)("value",t),e.xp6(),e.Q6J("for",i),e.xp6(3),e.Oqu(t)}}let $t=(()=>{class s{lobbyStore;lobbySocket;subscriptions=[];games=[];formControl=new c.NI("");spans;constructor(t,i){this.lobbyStore=t,this.lobbySocket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.hintModeGames.subscribe(t=>{this.games=t}),this.formControl.valueChanges.subscribe(t=>{this.lobbySocket.emit("answer",t)}),this.lobbyStore.me.subscribe(t=>{t&&(t.role===v.Spectator||t.correctAnswer)&&this.formControl.disable()})]}ngAfterViewInit(){setTimeout(()=>{this.spans.forEach(t=>{let o=2;t.nativeElement.offsetHeight>55&&(o=110/t.nativeElement.offsetHeight),t.nativeElement.style.fontSize=`${o}vh`})},1)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.i))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-hint-mode"]],viewQuery:function(i,o){if(1&i&&e.Gf(zt,5),2&i){let n;e.iGM(n=e.CRH())&&(o.spans=n)}},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-between",2,"height","260px"],[4,"ngFor","ngForOf"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"id","formControl","value"],[1,"btn","btn-outline-primary","col-12","col-md-5","d-flex","justify-content-center",2,"height","60px",3,"for"],[1,"align-self-center","hint-mode-answer"],["xd",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.YNc(1,Wt,6,5,"ng-container",1),e.qZA()),2&i&&(e.xp6(),e.Q6J("ngForOf",o.games))},dependencies:[m.sg,c.Fj,c._,c.JJ,c.oH],encapsulation:2})}return s})();var he=l(5592),Kt=l(4674),ei=l(7400);function _e(s,r,t){return t?_e(s,r).pipe((0,ei.Z)(t)):new he.y(i=>{const o=(...a)=>i.next(1===a.length?a[0]:a),n=s(o);return(0,Kt.m)(r)?()=>r(o,n):void 0})}const ti=["youtubeContainer"];function ii(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"youtube-player-placeholder",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o._load(!0))}),e.qZA()}if(2&s){const t=e.oxw();e.Q6J("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}let si=(()=>{class s{_getBackgroundImage(){let t;return t="low"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:"high"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${t})`}static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(i,o){2&i&&(e.Udp("background-image",o._getBackgroundImage())("width",o.width,"px")("height",o.height,"px"),e.ekj("youtube-player-placeholder-loading",o.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[e.jDz],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(i,o){1&i&&(e.TgZ(0,"button",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"path",3),e.qZA()()),2&i&&e.uIk("aria-label",o.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return s})();const oi=new e.OlP("YOUTUBE_PLAYER_CONFIG");function fe(s){return null==s?s:(0,e.Cb_)(s,0)}let ni=(()=>{class s{get height(){return this._height}set height(t){this._height=null==t||isNaN(t)?390:t}get width(){return this._width}set width(t){this._width=null==t||isNaN(t)?640:t}constructor(t,i){this._ngZone=t,this._destroyed=new S.x,this._playerChanges=new f.X(void 0),this._nonce=(0,e.f3M)(e.Ojb,{optional:!0}),this._changeDetectorRef=(0,e.f3M)(e.sBO),this._isLoading=!1,this._hasPlaceholder=!0,this._height=390,this._width=640,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");const o=(0,e.f3M)(oi,{optional:!0});this.loadApi=o?.loadApi??!0,this.disablePlaceholder=!!o?.disablePlaceholder,this.placeholderButtonLabel=o?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=o?.placeholderImageQuality||"standard",this._isBrowser=(0,m.NF)(i)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._conditionallyLoad():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(t){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer(t):(this.loadApi&&(this._isLoading=!0,function ri(s){if(F)return;const t=document.createElement("script"),i=o=>{t.removeEventListener("load",i),t.removeEventListener("error",i),"error"===o.type&&(F=!1)};t.addEventListener("load",i),t.addEventListener("error",i),t.src="https://www.youtube.com/iframe_api",t.async=!0,s&&(t.nonce=s),F=!0,document.body.appendChild(t)}(this._nonce)),this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(t))}))}_conditionallyLoad(){this._shouldShowPlaceholder()?1===this.playerVars?.autoplay&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return!this.disablePlaceholder&&(!this._isBrowser||this._hasPlaceholder&&!!this.videoId&&!this._player)}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies||t.disablePlaceholder;return!!i&&!i.isFirstChange()}_createPlayer(t){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const i=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:t?{...this.playerVars||{},autoplay:1}:this.playerVars})),o=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=i,this._pendingPlayer=void 0,i.removeEventListener("onReady",o),this._playerChanges.next(i),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(i,this._pendingPlayerState),this._pendingPlayerState=void 0);const n=i.getPlayerState();(n===YT.PlayerState.UNSTARTED||n===YT.PlayerState.CUED||null==n)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=i,i.addEventListener("onReady",o)}_applyPendingPlayerState(t,i){const{playbackState:o,playbackRate:n,volume:a,muted:_,seek:p}=i;switch(o){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=n&&t.setPlaybackRate(n),null!=a&&t.setVolume(a),null!=_&&(_?t.mute():t.unMute()),null!=p&&t.seekTo(p.seconds,p.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe((0,le.w)(i=>i?_e(o=>{i.addEventListener(t,o)},o=>{try{i?.removeEventListener?.(t,o)}catch{}}):(0,ae.of)()),i=>new he.y(o=>i.subscribe({next:n=>this._ngZone.run(()=>o.next(n)),error:n=>o.error(n),complete:()=>o.complete()})),(0,A.R)(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||s)(e.Y36(e.R0b),e.Y36(e.Lbi))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["youtube-player"]],viewQuery:function(i,o){if(1&i&&e.Gf(ti,7),2&i){let n;e.iGM(n=e.CRH())&&(o.youtubeContainer=n.first)}},inputs:{videoId:"videoId",height:[e.lbL.HasDecoratorInputTransform,"height","height",e.Cb_],width:[e.lbL.HasDecoratorInputTransform,"width","width",e.Cb_],startSeconds:[e.lbL.HasDecoratorInputTransform,"startSeconds","startSeconds",fe],endSeconds:[e.lbL.HasDecoratorInputTransform,"endSeconds","endSeconds",fe],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[e.lbL.HasDecoratorInputTransform,"disableCookies","disableCookies",e.VuI],loadApi:[e.lbL.HasDecoratorInputTransform,"loadApi","loadApi",e.VuI],disablePlaceholder:[e.lbL.HasDecoratorInputTransform,"disablePlaceholder","disablePlaceholder",e.VuI],showBeforeIframeApiLoads:[e.lbL.HasDecoratorInputTransform,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",e.VuI],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[e.Xq5,e.TTD,e.jDz],decls:4,vars:3,consts:[[3,"videoId","width","height","isLoading","buttonLabel","quality"],["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality","click"]],template:function(i,o){1&i&&(e.YNc(0,ii,1,6,"youtube-player-placeholder",0),e.TgZ(1,"div"),e._UZ(2,"div",null,1),e.qZA()),2&i&&(e.um2(0,o._shouldShowPlaceholder()?0:-1),e.xp6(),e.Udp("display",o._shouldShowPlaceholder()?"none":""))},dependencies:[si],encapsulation:2,changeDetection:0})}return s})(),F=!1,ai=(()=>{class s{static#e=this.\u0275fac=function(i){return new(i||s)};static#t=this.\u0275mod=e.oAB({type:s});static#i=this.\u0275inj=e.cJS({})}return s})();const li=["youtubePlayer"];function di(s,r){if(1&s&&e._UZ(0,"youtube-player",2,3),2&s){const t=e.oxw();e.Q6J("videoId",t.lobbyMusic.video.videoId)("playerVars",t.playerVars)("disablePlaceholder",!0)}}const ci=s=>({opacity:s});function ui(s,r){if(1&s&&e._UZ(0,"img",6),2&s){const t=r.$implicit,i=r.index,o=e.oxw(2);e.Q6J("ngStyle",e.VKq(2,ci,o.currentScreenshotIndex===i?1:0))("src","https://images.igdb.com/igdb/image/upload/t_1080p/"+t.imageId+".jpg",e.LSH)}}function mi(s,r){if(1&s&&(e.TgZ(0,"div",4),e.YNc(1,ui,1,4,"img",5),e.qZA()),2&s){const t=e.oxw();e.xp6(),e.Q6J("ngForOf",t.lobbyMusic.screenshots)}}let hi=(()=>{class s{lobbyStore;localStorageHelper;subscriptions=[];playerVars={autoplay:1,controls:0,showinfo:0,rel:0,modestbranding:1};mediaTypeOnReveal;lobbyMusic=null;currentScreenshotIndex=0;youtubePlayer;constructor(t,i){this.lobbyStore=t,this.localStorageHelper=i,this.mediaTypeOnReveal=i.getDefaultMediaTypeOnReveal(),setTimeout(()=>{this.currentScreenshotIndex=1},5e3)}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(t=>{this.lobbyMusic=t})]}ngAfterViewInit(){this.subscriptions.push(this.youtubePlayer.changes.subscribe({next:t=>{t.first?.seekTo(this.lobbyMusic.startVideoAt,!0),t.first?.mute()}}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(ne))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-answer-reveal-media"]],viewQuery:function(i,o){if(1&i&&e.Gf(li,5),2&i){let n;e.iGM(n=e.CRH())&&(o.youtubePlayer=n)}},decls:2,vars:2,consts:[["class","game-reveal-video-media","suggestedQuality","default",3,"videoId","playerVars","disablePlaceholder",4,"ngIf"],["class","d-flex",4,"ngIf"],["suggestedQuality","default",1,"game-reveal-video-media",3,"videoId","playerVars","disablePlaceholder"],["youtubePlayer",""],[1,"d-flex"],["class","game-reveal-picture-media","alt","screenshot",3,"ngStyle","src",4,"ngFor","ngForOf"],["alt","screenshot",1,"game-reveal-picture-media",3,"ngStyle","src"]],template:function(i,o){1&i&&e.YNc(0,di,2,3,"youtube-player",0)(1,mi,2,1,"div",1),2&i&&(e.Q6J("ngIf",2===o.mediaTypeOnReveal&&(null==o.lobbyMusic?null:o.lobbyMusic.video)),e.xp6(),e.Q6J("ngIf",(1===o.mediaTypeOnReveal||2===o.mediaTypeOnReveal&&!(null!=o.lobbyMusic&&o.lobbyMusic.video))&&o.lobbyMusic&&o.lobbyMusic.screenshots.length>0))},dependencies:[m.sg,m.O5,m.PC,ni],encapsulation:2})}return s})();function _i(s,r){1&s&&e._UZ(0,"div")}function pi(s,r){if(1&s&&(e.TgZ(0,"div",10),e._uU(1),e._UZ(2,"mat-progress-bar",11),e.qZA()),2&s){const t=e.oxw();e.xp6(),e.hij(" ",t.loadProgress,"% "),e.xp6(),e.Q6J("value",t.loadProgress)}}function bi(s,r){1&s&&e._UZ(0,"app-hint-mode-toggle")}function fi(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",12)(1,"p"),e._uU(2,"Press the button to start playing"),e._UZ(3,"br"),e._uU(4,"(Music will play on the next loop)"),e.qZA(),e.TgZ(5,"button",13),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.play())}),e._uU(6,"Play"),e.qZA()()}}const gi=s=>({"text-warning":s});function vi(s,r){if(1&s&&(e.TgZ(0,"div",14),e._UZ(1,"span",15),e.qZA()),2&s){const t=e.oxw();e.Q6J("title",t.serverBuffering?"server loading...":"client loading..."),e.xp6(),e.Q6J("ngClass",e.VKq(2,gi,t.serverBuffering))}}function yi(s,r){if(1&s&&(e.TgZ(0,"div",16)(1,"small",17),e._uU(2),e.qZA()()),2&s){const t=e.oxw();e.xp6(2),e.Oqu(t.error)}}const ge=s=>({"d-none":s});function Ti(s,r){if(1&s&&(e.TgZ(0,"div",18),e._uU(1," Buffering... "),e.qZA()),2&s){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,ge,!t.canPlayMusic))}}function wi(s,r){if(1&s&&e._UZ(0,"app-lobby-countdown",19),2&s){const t=e.oxw();e.Q6J("ngClass",e.VKq(1,ge,!t.canPlayMusic))}}function xi(s,r){1&s&&e._UZ(0,"app-hint-mode")}function ki(s,r){1&s&&e._UZ(0,"app-lobby-answer",10)}function Si(s,r){1&s&&e._UZ(0,"div")}function Ci(s,r){1&s&&e._UZ(0,"app-answer-reveal-media")}const Ii=s=>({"hint-mode":s});let Mi=(()=>{class s{lobbyStore;answer;subscriptions=[];lobby;canPlayMusic=!1;lobbyStatuses=u.D;lobbyUserStatus=D;lobbyHintModes=u.BF;lobbyUserRoles=v;me;loadProgress=0;error;serverBuffering=!1;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.canPlayMusic.subscribe(t=>{this.canPlayMusic=t}),this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{this.me=t}),this.lobbyStore.lobbyLoadProgress.subscribe(t=>{this.loadProgress=t}),this.lobbyStore.error.subscribe(t=>{this.error=t}),this.lobbyStore.lobbyServerBuffer.subscribe(t=>{this.serverBuffering=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}play(){this.lobbyStore.setResumeMusic()}showAnswerComponent(){return this.me?.role!==v.Spectator&&!this.me?.hintMode&&this.lobby?.status===u.D.PlayingMusic}showEmptyTopDiv(){return this.lobby?.status===u.D.Buffering||this.lobby?.status===u.D.Loading||this.lobby?.hintMode!==u.BF.Allowed}showEmptyBottomDiv(){return this.lobby?.status===u.D.Buffering||this.lobby?.status===u.D.Loading||this.me?.role===v.Spectator}static \u0275fac=function(i){return new(i||s)(e.Y36(b))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-center-container"]],decls:16,vars:15,consts:[[1,"lobby-center-container","bg-dark","px-4","pt-4","position-relative",3,"ngClass"],[1,"d-flex","text-center","align-items-center","h-100","justify-content-between","position-relative","flex-column"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","align-self-center position-absolute",4,"ngIf"],["class","position-absolute","style","top: 0; left: 0",3,"title",4,"ngIf"],["class","position-absolute","style","top: 0; left: 24px",4,"ngIf"],["class","align-self-center countdown",3,"ngClass",4,"ngIf"],["class","text-center",3,"ngClass",4,"ngIf"],[2,"z-index","1"],[1,"w-100"],["mode","determinate",3,"value"],[1,"align-self-center","position-absolute"],[1,"btn","btn-primary",3,"click"],[1,"position-absolute",2,"top","0","left","0",3,"title"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm",3,"ngClass"],[1,"position-absolute",2,"top","0","left","24px"],[1,"text-danger"],[1,"align-self-center","countdown",3,"ngClass"],[1,"text-center",3,"ngClass"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_i,1,0,"div",2)(3,pi,3,2,"div",3)(4,bi,1,0,"app-hint-mode-toggle",2)(5,fi,7,0,"div",4)(6,vi,2,4,"div",5)(7,yi,3,1,"div",6)(8,Ti,2,3,"div",7)(9,wi,1,3,"app-lobby-countdown",8)(10,xi,1,0,"app-hint-mode",2)(11,ki,1,0,"app-lobby-answer",3)(12,Si,1,0,"div",2),e.qZA(),e._UZ(13,"app-lobby-audio-player",9)(14,"app-lobby-countdown-progress"),e.YNc(15,Ci,1,0,"app-answer-reveal-media",2),e.qZA()),2&i&&(e.Q6J("ngClass",e.VKq(13,Ii,null==o.me?null:o.me.hintMode)),e.xp6(2),e.Q6J("ngIf",o.showEmptyTopDiv()),e.xp6(),e.Q6J("ngIf",(null==o.lobby?null:o.lobby.status)===o.lobbyStatuses.Loading),e.xp6(),e.Q6J("ngIf",(null==o.lobby?null:o.lobby.hintMode)===o.lobbyHintModes.Allowed&&(null==o.lobby?null:o.lobby.status)===o.lobbyStatuses.PlayingMusic),e.xp6(),e.Q6J("ngIf",!o.canPlayMusic),e.xp6(),e.Q6J("ngIf",(null==o.me?null:o.me.status)===o.lobbyUserStatus.Buffering||o.serverBuffering),e.xp6(),e.Q6J("ngIf",o.error),e.xp6(),e.Q6J("ngIf",(null==o.lobby?null:o.lobby.status)===o.lobbyStatuses.Buffering),e.xp6(),e.Q6J("ngIf",o.canPlayMusic&&(null==o.lobby?null:o.lobby.status)===o.lobbyStatuses.PlayingMusic),e.xp6(),e.Q6J("ngIf",(null==o.lobby?null:o.lobby.status)===o.lobbyStatuses.PlayingMusic&&((null==o.lobby?null:o.lobby.hintMode)===o.lobbyHintModes.Always||(null==o.me?null:o.me.hintMode))),e.xp6(),e.Q6J("ngIf",o.showAnswerComponent()),e.xp6(),e.Q6J("ngIf",o.showEmptyBottomDiv()),e.xp6(3),e.Q6J("ngIf",o.lobby.status===o.lobbyStatuses.AnswerReveal))},dependencies:[m.mk,m.O5,ie.pW,Pt,Ot,Ft,Yt,jt,$t,hi],encapsulation:2})}return s})();function Ai(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.restart())}),e._UZ(1,"i",7),e.qZA()}}let Ri=(()=>{class s{lobbyStore;socket;subscriptions=[];me;lobbyUserRoles=v;lobby;constructor(t,i){this.lobbyStore=t,this.socket=i}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(t=>{this.lobby=t}),this.lobbyStore.me.subscribe(t=>{this.me=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}restart(){this.socket.emit("restart")}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.i))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-information"]],decls:10,vars:4,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"],["class","btn btn-sm btn-primary","mdbTooltip","Restart lobby",3,"click",4,"ngIf"],["mdbTooltip","Restart lobby",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa-solid","fa-arrow-rotate-back"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e._uU(4),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"i",4),e._uU(7),e.qZA(),e.TgZ(8,"div",2),e.YNc(9,Ai,2,0,"button",5),e.qZA()()()),2&i&&(e.xp6(4),e.hij("",null==o.lobby?null:o.lobby.guessTime,"s"),e.xp6(3),e.AsE("",null==o.lobby?null:o.lobby.currentLobbyMusicPosition,"/",-1===(null==o.lobby?null:o.lobby.musicNumber)?"\u221e":o.lobby.lobbyMusics," "),e.xp6(2),e.Q6J("ngIf",(null==o.me?null:o.me.role)===o.lobbyUserRoles.Host))},dependencies:[m.O5,R],encapsulation:2})}return s})();function Ei(s,r){if(1&s&&(e.ynx(0),e._uU(1),e.BQk()),2&s){const t=e.oxw(3);e.xp6(),e.Oqu(t.answer.gameToMusic.game.platforms[0].name)}}function Pi(s,r){1&s&&(e.ynx(0),e._uU(1,", "),e.BQk())}function Zi(s,r){if(1&s&&(e.ynx(0),e._uU(1),e.YNc(2,Pi,2,0,"ng-container",13),e.BQk()),2&s){const t=r.$implicit,i=r.last,o=r.last;e.xp6(),e.hij(" ",t.abbreviation,""),e.xp6(),e.Q6J("ngIf",!i&&!o)}}function Di(s,r){if(1&s&&(e.ynx(0),e.YNc(1,Zi,3,2,"ng-container",18),e.BQk()),2&s){const t=e.oxw(3);e.xp6(),e.Q6J("ngForOf",t.answer.gameToMusic.game.platforms)}}function Ui(s,r){if(1&s&&(e.TgZ(0,"small",17),e.YNc(1,Ei,2,1,"ng-container",13)(2,Di,2,1,"ng-container",13),e.qZA()),2&s){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",1===(null==t.answer.gameToMusic.game.platforms?null:t.answer.gameToMusic.game.platforms.length)),e.xp6(),e.Q6J("ngIf",(null==t.answer.gameToMusic.game.platforms?null:t.answer.gameToMusic.game.platforms.length)>1&&11===t.answer.gameToMusic.game.category)}}function Bi(s,r){if(1&s&&e._UZ(0,"img",19),2&s){const t=e.oxw(2);e.Q6J("src","https://images.igdb.com/igdb/image/upload/t_720p/"+t.answer.gameToMusic.game.cover.imageId+".jpg",e.LSH)("alt",t.answer.gameToMusic.game.name)}}function Vi(s,r){if(1&s&&(e.TgZ(0,"div",20)(1,"h2",21),e._uU(2),e.qZA()()),2&s){const t=e.oxw(2);e.xp6(2),e.Oqu(t.answer.gameToMusic.game.name)}}const ve=s=>({"background-color":s});function Li(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.addToList())}),e.TgZ(1,"mat-icon"),e._uU(2,"add"),e.qZA()()}if(2&s){const t=e.oxw(3);e.Q6J("ngStyle",e.VKq(1,ve,t.answer.gameToMusic.game.cover?t.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"#171717"))}}function Oi(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.removeFromList())}),e.TgZ(1,"mat-icon"),e._uU(2,"remove"),e.qZA()()}if(2&s){const t=e.oxw(3);e.Q6J("ngStyle",e.VKq(1,ve,t.answer.gameToMusic.game.cover?null==t.answer.gameToMusic.game.cover.colorPalette?null:t.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"black"))}}function Ni(s,r){if(1&s&&(e.ynx(0),e.YNc(1,Li,3,3,"button",22)(2,Oi,3,3,"button",22),e.BQk()),2&s){const t=e.oxw(2);e.xp6(),e.Q6J("ngIf",!1===t.me.playedTheGame),e.xp6(),e.Q6J("ngIf",!0===t.me.playedTheGame)}}function Fi(s,r){if(1&s&&(e.ynx(0),e.TgZ(1,"div",5)(2,"h2",6),e._uU(3),e.YNc(4,Ui,3,2,"small",7),e.qZA()(),e.TgZ(5,"div",8)(6,"div",9)(7,"div",10),e.YNc(8,Bi,1,2,"img",11)(9,Vi,3,1,"ng-template",null,12,e.W1O),e.qZA(),e.YNc(11,Ni,3,2,"ng-container",13),e.qZA()(),e.TgZ(12,"div",14)(13,"div")(14,"h4",6),e._uU(15,"Music"),e.qZA(),e.TgZ(16,"small",15),e._uU(17),e.qZA()(),e.TgZ(18,"div",16)(19,"h4",6),e._uU(20,"Artist"),e.qZA(),e.TgZ(21,"small",15),e._uU(22),e.qZA()()(),e.BQk()),2&s){const t=e.MAs(10),i=e.oxw();let o,n;e.xp6(3),e.hij(" ",i.answer.gameToMusic.game.name," "),e.xp6(),e.Q6J("ngIf",1===(null==i.answer.gameToMusic.game.platforms?null:i.answer.gameToMusic.game.platforms.length)||(null==i.answer.gameToMusic.game.platforms?null:i.answer.gameToMusic.game.platforms.length)>1&&11===i.answer.gameToMusic.game.category),e.xp6(4),e.Q6J("ngIf",i.answer.gameToMusic.game.cover)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",i.me),e.xp6(6),e.Oqu(null!==(o=i.answer.gameToMusic.title)&&void 0!==o?o:i.answer.gameToMusic.music.title),e.xp6(5),e.Oqu(null!==(n=i.answer.gameToMusic.artist)&&void 0!==n?n:i.answer.gameToMusic.music.artist)}}function Hi(s,r){1&s&&(e.TgZ(0,"div",5),e._UZ(1,"h2",24),e.qZA(),e.TgZ(2,"div",25),e._UZ(3,"div",26),e.qZA(),e.TgZ(4,"div",25)(5,"div"),e._UZ(6,"h4",27)(7,"small",28)(8,"small",29),e.qZA(),e.TgZ(9,"div",16),e._UZ(10,"h4",27)(11,"small",30)(12,"small",29),e.qZA()())}function Qi(s,r){1&s&&(e.TgZ(0,"p",16)(1,"small",31),e._UZ(2,"i",32),e._uU(3," This music may not reflect the difficulty configured. "),e.qZA()())}const Yi=s=>({"d-none d-md-block":s});let Ji=(()=>{class s{lobbyStore;gameHttpService;answer;me;interactedWithList=!1;subscriptions=[];constructor(t,i){this.lobbyStore=t,this.gameHttpService=i}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(t=>{this.answer=t,this.interactedWithList=!1}),this.lobbyStore.lobby.subscribe(t=>{t.status!==u.D.AnswerReveal&&(this.answer=null)}),this.lobbyStore.currentLobbyMusic.subscribe(t=>{null!==t&&(this.answer=t)}),this.lobbyStore.me.subscribe(t=>{this.interactedWithList||(this.me={...t})})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}addToList(){this.gameHttpService.addToList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!0,this.interactedWithList=!0})}removeFromList(){this.gameHttpService.removeFromList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!1,this.interactedWithList=!0})}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(de.q))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-answer-reveal"]],decls:6,vars:6,consts:[[1,"bg-dark","p-4","mb-2","mb-md-0",3,"ngClass"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","mt-2",4,"ngIf"],[1,"col-md-12"],[1,"mb-1"],["class","ms-1 text-muted","style","font-size: 11px",4,"ngIf"],[1,"col-sm-4","col-md-6"],[2,"position","relative","aspect-ratio","3/4","display","flex","align-items","center"],[1,"w-100"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],["noImage",""],[4,"ngIf"],[1,"col-sm-8","col-md-6"],[2,"font-size","11px"],[1,"mt-2"],[1,"ms-1","text-muted",2,"font-size","11px"],[4,"ngFor","ngForOf"],[1,"card-img-top",3,"src","alt"],[1,"p-2","text-center"],[1,"m-0"],["class","game-item-cta","mat-mini-fab","","aria-label","Example icon button with a heart icon",3,"ngStyle","click",4,"ngIf"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"game-item-cta",3,"ngStyle","click"],[1,"placeholder","col-md-6"],[1,"col-md-6"],[1,"w-auto","h-100","img-placeholder",2,"aspect-ratio","3/4"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"],[2,"font-size","10px"],[1,"fa-solid","fa-exclamation-triangle","text-primary"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Fi,23,7,"ng-container",2)(3,Hi,13,0,"ng-template",null,3,e.W1O)(5,Qi,4,0,"p",4),e.qZA()()),2&i){const n=e.MAs(4);e.Q6J("ngClass",e.VKq(4,Yi,!(null!=o.answer&&o.answer.gameToMusic))),e.xp6(2),e.Q6J("ngIf",null==o.answer?null:o.answer.gameToMusic)("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",o.answer&&o.answer.contributeToMissingData)}},dependencies:[m.mk,m.sg,m.O5,m.PC,re.nh,N.Hw],encapsulation:2})}return s})();const qi=s=>({"text-primary":s});let Gi=(()=>{class s{user;static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-score-row"]],inputs:{user:"user"},decls:10,vars:11,consts:[[1,"row",3,"ngClass"],[1,"col-1"],[1,"col"],[1,"col-3","d-flex","justify-content-end"],[1,"col-1","text-muted","justify-content-end"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"slice"),e.qZA(),e.TgZ(6,"div",3),e._uU(7),e.qZA(),e.TgZ(8,"div",4),e._uU(9),e.qZA()()),2&i&&(e.Q6J("ngClass",e.VKq(9,qi,o.user.me)),e.xp6(2),e.hij("#",o.user.rank,""),e.xp6(2),e.Oqu(e.Dn7(5,5,o.user.user.username,0,50)),e.xp6(3),e.hij("",o.user.points," pts"),e.xp6(2),e.Oqu(o.user.musicGuessedRight))},dependencies:[m.mk,m.OU],encapsulation:2})}return s})();function Xi(s,r){if(1&s&&e._UZ(0,"app-lobby-score-row",6),2&s){const t=e.oxw().$implicit;e.Q6J("user",t)}}function ji(s,r){if(1&s&&e._UZ(0,"app-lobby-score-row",6),2&s){const t=e.oxw().$implicit,i=e.oxw();e.Q6J("user",i.getMeIndex()<=3?t:i.getMe())}}function zi(s,r){if(1&s&&(e.ynx(0),e.YNc(1,Xi,1,1,"app-lobby-score-row",5)(2,ji,1,1,"app-lobby-score-row",5),e.BQk()),2&s){const t=r.index;e.xp6(),e.Q6J("ngIf",t<=2),e.xp6(),e.Q6J("ngIf",3===t)}}let Wi=(()=>{class s{lobbyStore;subscriptions=[];users;me;constructor(t){this.lobbyStore=t}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(t=>{t&&(this.users=t.filter(i=>[v.Host,v.Player].includes(i.role)).sort((i,o)=>i.points>o.points?-1:1).reduce((i,o,n)=>{let a=0===n?1:i[n-1].rank+1;return 0!==n&&o.points===i[n-1].points&&(a=i[n-1].rank),[...i,{...o,rank:a}]},[]))}),this.lobbyStore.me.subscribe(t=>{this.me=t})]}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}getMeIndex(){return this.users.findIndex(t=>t.me)}getMe(){return this.users.find(t=>t.me)}scoreExplanation(){return'Points distribution: <ul class="score-explanation"><li><strong class="text-primary">10 points</strong> when using the autocomplete<ul><li><strong class="text-primary">+5 points</strong> on the first try</li><li><strong class="text-primary">+5 points</strong> if the game is not in your list</li></ul></li><li><strong class="text-primary">5 points</strong> when using hints</li></ul>'}static \u0275fac=function(i){return new(i||s)(e.Y36(b))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-score"]],decls:5,vars:3,consts:[[1,"bg-dark"],[1,"d-flex","pt-1","pe-1"],["placement","top",1,"fa-solid","fa-question-circle","ms-auto",3,"mdbTooltip","html"],[1,"pb-4","pt-2","px-4"],[4,"ngFor","ngForOf"],[3,"user",4,"ngIf"],[3,"user"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"div",3),e.YNc(4,zi,3,2,"ng-container",4),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("mdbTooltip",o.scoreExplanation())("html",!0),e.xp6(2),e.Q6J("ngForOf",o.users))},dependencies:[m.sg,m.O5,R,Gi],encapsulation:2})}return s})(),$i=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby-playing"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-md-3","d-flex","flex-column"],[1,"mt-2","order-1","order-md-0","mb-2","mb-md-0"],[1,"mt-2","order-0","order-md-1"],[1,"col-md-6","lobby-col"],[1,"col-md-3","lobby-col"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._UZ(3,"app-button-play"),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"app-lobby-information"),e.qZA(),e.TgZ(6,"div",2),e._UZ(7,"app-lobby-answer-reveal"),e.qZA(),e.TgZ(8,"div",3),e._UZ(9,"app-lobby-score"),e.qZA()(),e.TgZ(10,"div",4),e._UZ(11,"app-lobby-center-container"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"app-lobby-chat"),e.qZA()())},dependencies:[ee,Mi,Ri,Ji,Wi,te],encapsulation:2})}return s})();function Ki(s,r){1&s&&(e.ynx(0),e._UZ(1,"app-lobby-waiting"),e.BQk())}function es(s,r){1&s&&(e.ynx(0),e._UZ(1,"app-lobby-playing"),e.BQk())}function ts(s,r){if(1&s&&(e.ynx(0),e.YNc(1,Ki,2,0,"ng-container",3)(2,es,2,0,"ng-container",3),e._UZ(3,"app-lobby-users"),e.BQk()),2&s){const t=e.oxw();e.xp6(),e.Q6J("ngIf",t.lobby.status===t.lobbyStatuses.Waiting),e.xp6(),e.Q6J("ngIf",t.lobbyService.isPLaying(t.lobby))}}function is(s,r){1&s&&e._uU(0,"loading")}let ss=(()=>{class s{lobbyHttpService;lobbyService;router;route;dialog;socket;authService;lobbyStore;snackBar;lobbyFileSocket;lobbyCode;lobby;lobbyStatuses=u.D;subscriptions=[];constructor(t,i,o,n,a,_,p,T,Z,H){this.lobbyHttpService=t,this.lobbyService=i,this.router=o,this.route=n,this.dialog=a,this.socket=_,this.authService=p,this.lobbyStore=T,this.snackBar=Z,this.lobbyFileSocket=H}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.lobbyStore.disconnect(),this.socket.disconnect(),this.lobbyFileSocket.disconnect()}ngOnInit(){this.socket.connect(),this.subscriptions=[this.socket.fromEvent("connect_error").subscribe(t=>{"Unauthorized"===t.message&&(this.lobbyFileSocket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.lobbyFileSocket.connect(),this.socket.emit("fake emit")}))}),this.lobbyFileSocket.fromEvent("connect_error").subscribe(t=>{"Unauthorized"===t.message&&this.lobby&&(this.lobbyFileSocket.disconnect(),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("fake emit"))}),this.socket.fromEvent("NotFoundException").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(at.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("error").subscribe(t=>{this.lobbyStore.setLobbyError(t)}),this.socket.fromEvent("lobbyJoined").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("join")}),this.socket.fromEvent("lobbyUsers").subscribe(t=>{this.lobbyStore.setUsers(t)}),this.socket.fromEvent("lobby").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyStartBuffer").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!0),this.lobbyStore.resetLobbyError()}),this.socket.fromEvent("lobbyBufferEnd").subscribe(()=>{this.lobbyStore.setLobbyServerBuffer(!1)}),this.lobbyFileSocket.fromEvent("buffer").subscribe(t=>{this.lobbyStore.setCurrentLobbyAudioBuffer(t),this.socket.emit("readyToPlayMusic")}),this.socket.fromEvent("currentLobbyMusic").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusic(t)}),this.socket.fromEvent("lobbyAnswer").subscribe(t=>{this.lobbyStore.setCurrentLobbyMusicAnswer(t)}),this.socket.fromEvent("lobbyUser").subscribe(t=>{this.lobbyStore.updateLobbyUser(t)}),this.socket.fromEvent("lobbyReset").subscribe(t=>{this.lobby=t,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyAudioBuffer(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(t=>{this.snackBar.open(t,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.socket.fromEvent("disconnect").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("chat").subscribe(t=>{this.lobbyStore.addMessage(t)}),this.socket.fromEvent("hintModeGames").subscribe(t=>{this.lobbyStore.setHintModeGames(t)}),this.socket.fromEvent("lobbyLoadProgress").subscribe(t=>{this.lobbyStore.setLobbyLoadProgress(t)}),this.route.paramMap.subscribe(t=>{this.lobbyCode=t.get("code")})],this.lobbyService.join(this.lobbyCode)}static \u0275fac=function(i){return new(i||s)(e.Y36(k.Y),e.Y36(lt.V),e.Y36(w.F0),e.Y36(w.gz),e.Y36(dt.uw),e.Y36(y.i),e.Y36(U.e),e.Y36(b),e.Y36(B.ux),e.Y36(ct.Q))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-lobby"]],decls:4,vars:2,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"]],template:function(i,o){if(1&i&&(e.TgZ(0,"div",0),e.YNc(1,ts,4,2,"ng-container",1)(2,is,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&i){const n=e.MAs(3);e.xp6(),e.Q6J("ngIf",o.lobby)("ngIfElse",n)}},dependencies:[m.O5,gt,Mt,$i],encapsulation:2})}return s})();var os=l(2596),ns=l(8525);let ls=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[m.ez]})}return s})();const ds=[{path:"create",component:nt},{path:":code",component:ss},{path:"**",redirectTo:"create"}];let cs=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({providers:[k.Y,b],imports:[m.ez,w.Bz.forChild(ds),rt.m,Be,B.ZX,Je,os.AV,N.Ps,We,ns.LD,ie.Cv,ai,P.Tx,ls]})}return s})()}}]);