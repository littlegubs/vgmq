function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var s=n[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{lKKO:function(e,n,t){"use strict";t.r(n),t.d(n,"AccountModule",(function(){return P}));var s,i=t("ofXK"),r=t("nYR2"),a=t("fXoL"),c=t("7dP1"),o=t("z6cu"),u=t("AytR"),d=t("JIr8"),l=t("tk/3"),b=((s=function(){function e(n){_classCallCheck(this,e),this.http=n,this.apiEndpoint=u.a.apiEndpoint}return _createClass(e,[{key:"updateGameList",value:function(e){return this.http.post("".concat(this.apiEndpoint,"/update-game-list"),{IGDBUsername:e}).pipe(Object(d.a)((function(e){return Object(o.a)(e.error)})))}}]),e}()).\u0275fac=function(e){return new(e||s)(a.Ub(l.b))},s.\u0275prov=a.Hb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),p=t("3Pt+");function f(e,n){1&e&&(a.Qb(0,"div",7),a.uc(1," Game list successfully updated ! "),a.Pb())}function h(e,n){if(1&e&&(a.Qb(0,"div",8),a.uc(1),a.Pb()),2&e){var t=a.cc();a.Bb(1),a.wc(" ",t.errorMessage," ")}}function m(e,n){1&e&&a.Mb(0,"span",9)}var g,v,k=function(e,n){return{"is-invalid":e,"is-valid":n}},I=((g=function(){function e(n,t){_classCallCheck(this,e),this.authService=n,this.accountHttpService=t,this.IGDBUsername="",this.success=!1,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.authService.decodeJwt();this.IGDBUsername=e.IGDBUsername}},{key:"updateGameList",value:function(){var e=this;this.success=!1,this.errorMessage=void 0,this.loading=!0,this.accountHttpService.updateGameList(this.IGDBUsername).pipe(Object(r.a)((function(){return e.loading=!1}))).subscribe((function(){e.success=!0}),(function(n){e.errorMessage=n}))}}]),e}()).\u0275fac=function(e){return new(e||g)(a.Lb(c.a),a.Lb(b))},g.\u0275cmp=a.Fb({type:g,selectors:[["app-account"]],decls:17,vars:9,consts:[[1,"form-group"],[1,"form-control",3,"ngModel","ngClass","ngModelChange"],["id","emailHelp",1,"form-text","text-muted"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"btn","btn-primary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"valid-feedback"],[1,"invalid-feedback"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(a.Qb(0,"div"),a.Qb(1,"h1"),a.uc(2,"Update my game list"),a.Pb(),a.Qb(3,"p"),a.uc(4,"Enter your IGDB username and press the Update button !"),a.Pb(),a.Qb(5,"div",0),a.Qb(6,"input",1),a.Yb("ngModelChange",(function(e){return n.IGDBUsername=e})),a.Pb(),a.Qb(7,"small",2),a.uc(8," take the username shown in the IGDB url (e.g., https://www.igdb.com/users/"),a.Qb(9,"strong"),a.uc(10,"your_username"),a.Pb(),a.uc(11,") "),a.Pb(),a.sc(12,f,2,0,"div",3),a.sc(13,h,2,1,"div",4),a.Qb(14,"button",5),a.Yb("click",(function(){return n.loading||n.updateGameList()})),a.sc(15,m,1,0,"span",6),a.uc(16," Update "),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.Bb(6),a.hc("ngModel",n.IGDBUsername)("ngClass",a.lc(6,k,n.errorMessage,n.success)),a.Bb(6),a.hc("ngIf",n.success),a.Bb(1),a.hc("ngIf",n.errorMessage),a.Bb(1),a.hc("disabled",n.loading),a.Bb(1),a.hc("ngIf",n.loading))},directives:[p.b,p.k,p.m,i.i,i.k],encapsulation:2}),g),w=t("tyNb"),y=t("PCNd"),C=[{path:"",component:I}],P=((v=function e(){_classCallCheck(this,e)}).\u0275mod=a.Jb({type:v}),v.\u0275inj=a.Ib({factory:function(e){return new(e||v)},providers:[b],imports:[[i.b,w.f.forChild(C),y.a]]}),v)}}]);