(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[173],{9743:(X,me,E)=>{"use strict";E.d(me,{q:()=>ne});var Z=E(2340),a=E(5e3),W=E(520);let ne=(()=>{class ue{constructor(oe){this.http=oe,this.apiEndpoint=Z.N.apiEndpoint}search(oe,De,Ue){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:oe.query,...oe.myGames&&{filterByUser:"true"},...De&&{skip:De},...Ue&&{limit:Ue}}})}get(oe){return this.http.get(`${this.apiEndpoint}/games/${oe}`)}addToList(oe){return this.http.get(`${this.apiEndpoint}/games/${oe}/add`)}removeFromList(oe){return this.http.get(`${this.apiEndpoint}/games/${oe}/remove`)}getNames(oe){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:oe}})}}return ue.\u0275fac=function(oe){return new(oe||ue)(a.LFG(W.eN))},ue.\u0275prov=a.Yz7({token:ue,factory:ue.\u0275fac,providedIn:"root"}),ue})()},3173:(X,me,E)=>{"use strict";E.r(me),E.d(me,{LobbyModule:()=>lu});var Z=E(9808),a=E(5e3),W=E(3075),ne=(()=>{return(t=ne||(ne={})).Host="host",t.Player="player",t.Spectator="spectator",ne;var t})(),Oe=E(8746),oe=E(8720),De=E(1083),Ue=E(7282),ot=E(1135),ut=E(263);let Be=(()=>{class t{constructor(e,n){this.authService=e,this.router=n,this.usersBehaviorSubject=new ot.X(null),this.meBehaviorSubject=new ot.X(null),this.lobbyBehaviorSubject=new ot.X(null),this.currentLobbyMusicIdBehaviorSubject=new ot.X(null),this.currentLobbyMusicAnswerBehaviorSubject=new ot.X(null),this.lobby=this.lobbyBehaviorSubject.asObservable(),this.users=this.usersBehaviorSubject.asObservable(),this.me=this.meBehaviorSubject.asObservable(),this.currentLobbyMusicId=this.currentLobbyMusicIdBehaviorSubject.asObservable(),this.currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable()}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyMusicIdBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(e){this.lobbyBehaviorSubject.next(e)}getUsers(){return this.usersBehaviorSubject.getValue()}setUsers(e){const n=e.find(o=>o.user.username===this.authService.decodeJwt().username);void 0===n?this.router.navigate(["/"]):(this.usersBehaviorSubject.next(e),this.meBehaviorSubject.next(n))}getCurrentLobbyMusicId(){return this.currentLobbyMusicIdBehaviorSubject.getValue()}setCurrentLobbyMusicId(e){this.currentLobbyMusicIdBehaviorSubject.next(e)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(e){this.currentLobbyMusicAnswerBehaviorSubject.next(e)}handleLobbyUserAnswer(e){const n=this.getUsers(),o=n.findIndex(s=>s.user.username===e.user.username);-1!==o&&(n[o]=e),this.setUsers(n)}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(ut.e),a.LFG(De.F0))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var dt=E(7322),Je=E(7531),Ne=E(508),de=E(3191),Pe=E(1159),Ve=E(6360),xt=E(925),jt=E(727),vt=E(5664),Rt=E(226);const ze=["sliderWrapper"],Te=(0,xt.i$)({passive:!1}),fn={provide:W.JU,useExisting:(0,a.Gpc)(()=>Pt),multi:!0};class pn{}const mn=(0,Ne.sb)((0,Ne.pj)((0,Ne.Id)(class{constructor(t){this._elementRef=t}}),"accent"));let Pt=(()=>{class t extends mn{constructor(e,n,o,s,c,l,i,d){super(e),this._focusMonitor=n,this._changeDetectorRef=o,this._dir=s,this._ngZone=l,this._animationMode=d,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new a.vpe,this.input=new a.vpe,this.valueChange=new a.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=jt.w0.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!ht(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=ht(u)?function q(t,r){for(let e=0;e<t.touches.length;e++){const n=t.touches[e].target;if(r===n||r.contains(n))return t.touches[e].identifier}}(u,this._elementRef.nativeElement):void 0;const h=J(u,this._touchId);if(h){const f=this.value;this._isSliding="pointer",this._lastPointerEvent=u,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(h),this._valueOnSlideStart=f,u.cancelable&&u.preventDefault(),f!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const h=J(u,this._touchId);if(h){u.preventDefault();const f=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(h),f!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!ht(u)||"number"!=typeof this._touchId||R(u.changedTouches,this._touchId))&&(u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=i,this.tabIndex=parseInt(c)||0,l.runOutsideAngular(()=>{const u=e.nativeElement;u.addEventListener("mousedown",this._pointerDown,Te),u.addEventListener("touchstart",this._pointerDown,Te)})}get invert(){return this._invert}set invert(e){this._invert=(0,de.Ig)(e)}get max(){return this._max}set max(e){this._max=(0,de.su)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=(0,de.su)(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=(0,de.su)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=(0,de.Ig)(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?(0,de.su)(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let n=(0,de.su)(e,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,de.Ig)(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const e=this.percent,o=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${o})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const i=this._shouldInvertAxis();let d;d=this.vertical?i?"Bottom":"Top":i?"Right":"Left",l[`padding${d}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,Te),e.removeEventListener("touchstart",this._pointerDown,Te),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||(0,Pe.Vb)(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(e.keyCode){case Pe.Ku:this._increment(10);break;case Pe.VM:this._increment(-10);break;case Pe.uR:this.value=this.max;break;case Pe.Sd:this.value=this.min;break;case Pe.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case Pe.LH:this._increment(1);break;case Pe.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case Pe.JH:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const n=this._document,o=ht(e),c=o?"touchend":"mouseup";n.addEventListener(o?"touchmove":"mousemove",this._pointerMove,Te),n.addEventListener(c,this._pointerUp,Te),o&&n.addEventListener("touchcancel",this._pointerUp,Te);const l=this._getWindow();void 0!==l&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Te),e.removeEventListener("mouseup",this._pointerUp,Te),e.removeEventListener("touchmove",this._pointerMove,Te),e.removeEventListener("touchend",this._pointerUp,Te),e.removeEventListener("touchcancel",this._pointerUp,Te);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(e){const n=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(n+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let c=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(c=1-c),0===c)this.value=this.min;else if(1===c)this.value=this.max;else{const l=this._calculateValue(c),i=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(n*this.step/(this.max-this.min)))*this.step/n}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=zt(e)?e:0}_createChangeEvent(e=this.value){let n=new pn;return n.source=this,n.value=e,n}_calculatePercentage(e){const n=((e||0)-this.min)/(this.max-this.min);return zt(n)?n:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,n=0,o=1){return Math.max(n,Math.min(e,o))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(a.SBq),a.Y36(vt.tE),a.Y36(a.sBO),a.Y36(Rt.Is,8),a.$8M("tabindex"),a.Y36(a.R0b),a.Y36(Z.K0),a.Y36(Ve.Qb,8))},t.\u0275cmp=a.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(e,n){if(1&e&&a.Gf(ze,5),2&e){let o;a.iGM(o=a.CRH())&&(n._sliderWrapper=o.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,n){1&e&&a.NdJ("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(a.Ikx("tabIndex",n.tabIndex),a.uIk("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),a.ekj("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[a._Bn([fn]),a.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0,1)(2,"div",2),a._UZ(3,"div",3)(4,"div",4),a.qZA(),a.TgZ(5,"div",5),a._UZ(6,"div",6),a.qZA(),a.TgZ(7,"div",7),a._UZ(8,"div",8)(9,"div",9),a.TgZ(10,"div",10)(11,"span",11),a._uU(12),a.qZA()()()()),2&e&&(a.xp6(3),a.Q6J("ngStyle",n._getTrackBackgroundStyles()),a.xp6(1),a.Q6J("ngStyle",n._getTrackFillStyles()),a.xp6(1),a.Q6J("ngStyle",n._getTicksContainerStyles()),a.xp6(1),a.Q6J("ngStyle",n._getTicksStyles()),a.xp6(1),a.Q6J("ngStyle",n._getThumbContainerStyles()),a.xp6(5),a.Oqu(n.displayValue))},directives:[Z.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function zt(t){return!isNaN(t)&&isFinite(t)}function ht(t){return"t"===t.type[0]}function J(t,r){let e;return e=ht(t)?"number"==typeof r?R(t.touches,r)||R(t.changedTouches,r):t.touches[0]||t.changedTouches[0]:t,e?{x:e.clientX,y:e.clientY}:void 0}function R(t,r){for(let e=0;e<t.length;e++)if(t[e].identifier===r)return t[e]}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Z.ez,Ne.BQ],Ne.BQ]}),t})();var z=E(7446),U=E(7238);function re(t,r){1&t&&a._UZ(0,"span",24)}function H(t,r){if(1&t&&(a.TgZ(0,"button",22),a._uU(1),a.YNc(2,re,1,0,"span",23),a.qZA()),2&t){const e=a.oxw();a.xp6(1),a.hij(" ",e.lobby?"Save":"Create"," "),a.xp6(1),a.Q6J("ngIf",e.loading)}}let ft=(()=>{class t{constructor(e,n,o,s,c,l,i){this.fb=e,this.lobbyHttpService=n,this.router=o,this.route=s,this.socket=c,this.lobbyStore=l,this.authService=i,this.loading=!1,this.userCanEdit=!0,this.subscriptions=[]}ngOnInit(){var e;this.lobby=this.lobbyStore.getLobby(),this.lobbyForm=this.fb.group({name:[this.lobby?this.lobby.name:`${this.authService.decodeJwt().username}'s lobby`,W.kI.required.bind(this)],password:[null===(e=this.lobby)||void 0===e?void 0:e.password],musicNumber:[this.lobby?this.lobby.musicNumber:20,[W.kI.max(100),W.kI.min(5)]],guessTime:[this.lobby?this.lobby.guessTime:20,[W.kI.max(60),W.kI.min(5)]],allowDuplicates:[!!this.lobby&&this.lobby.allowDuplicates]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(n=>{var o,s;this.lobby=n,this.lobbyForm.patchValue({name:this.lobby.name,...(null===(o=this.lobby)||void 0===o?void 0:o.password)&&{password:null===(s=this.lobby)||void 0===s?void 0:s.password},musicNumber:this.lobby.musicNumber,guessTime:this.lobby.guessTime,allowDuplicates:this.lobby.allowDuplicates})}),this.lobbyStore.me.subscribe(n=>{null!==n&&(this.userCanEdit=n.role===ne.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})]),this.lobbyForm.get("musicNumber").valueChanges.subscribe({next:n=>{this.lobbyForm.get("musicNumber").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),this.lobbyForm.get("guessTime").valueChanges.subscribe({next:n=>{this.lobbyForm.get("guessTime").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.loading=!0,null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value}).pipe((0,Oe.x)(()=>this.loading=!1)).subscribe(e=>{this.router.navigate([`/lobby/${e.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value}).pipe((0,Oe.x)(()=>this.loading=!1)).subscribe(e=>{console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(W.qu),a.Y36(oe.Y),a.Y36(De.F0),a.Y36(De.gz),a.Y36(Ue.i),a.Y36(Be),a.Y36(ut.e))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-config"]],decls:48,vars:12,consts:[[1,"bg-dark","p-4"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"me-2"],["matInput","","formControlName","name","required","required"],["appearance","outline"],["matInput","","type","text","formControlName","password"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary","formControlName","musicNumber",2,"width","80%",3,"thumbLabel","min","max","step"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["color","primary","formControlName","guessTime",2,"width","80%",3,"thumbLabel","min","max","step"],["type","number","max","100","min","5","formControlName","guessTime"],[1,"row","mt-3"],[1,"col-md-4"],["formControlName","allowDuplicates","color","primary",1,"me-2"],["matTooltip","Not available yet","color","primary",1,"me-2",3,"disabled"],["matTooltip","Not available yet","color","primary",3,"disabled"],[1,"row","justify-content-end"],[1,"col-md-2"],["class","btn btn-primary w-100","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"form",1),a.NdJ("ngSubmit",function(){return!n.userCanEdit||n.submit()}),a.TgZ(2,"mat-form-field",2)(3,"mat-label"),a._uU(4,"Lobby name"),a.qZA(),a._UZ(5,"input",3),a.qZA(),a.TgZ(6,"mat-form-field",4)(7,"mat-label"),a._uU(8,"Password "),a.qZA(),a._UZ(9,"input",5),a.TgZ(10,"mat-hint"),a._uU(11,"keep it empty if this is public lobby"),a.qZA()(),a.TgZ(12,"h1"),a._uU(13,"Settings"),a.qZA(),a.TgZ(14,"div",6)(15,"div",7)(16,"h3"),a._uU(17,"Lobby"),a.qZA(),a.TgZ(18,"div",6)(19,"div",8)(20,"div")(21,"label"),a._uU(22,"Number of musics "),a.qZA()(),a._UZ(23,"mat-slider",9),a.TgZ(24,"div",10),a._UZ(25,"input",11),a.qZA()(),a.TgZ(26,"div",8)(27,"div")(28,"label"),a._uU(29,"Guess time "),a.qZA()(),a.TgZ(30,"div"),a._UZ(31,"mat-slider",12),a.TgZ(32,"div",10),a._UZ(33,"input",13),a._uU(34,"s "),a.qZA()()()()()(),a.TgZ(35,"div",14)(36,"div",15)(37,"h3"),a._uU(38,"Modifiers"),a.qZA(),a.TgZ(39,"mat-checkbox",16),a._uU(40,"Duplicate games"),a.qZA(),a.TgZ(41,"mat-checkbox",17),a._uU(42," Skip guessing "),a.qZA(),a.TgZ(43,"mat-checkbox",18),a._uU(44,"Skip result"),a.qZA()()(),a.TgZ(45,"div",19)(46,"div",20),a.YNc(47,H,3,2,"button",21),a.qZA()()()()),2&e&&(a.xp6(1),a.Q6J("formGroup",n.lobbyForm),a.xp6(22),a.Q6J("thumbLabel",!0)("min",5)("max",100)("step",1),a.xp6(8),a.Q6J("thumbLabel",!0)("min",5)("max",60)("step",1),a.xp6(10),a.Q6J("disabled",!0),a.xp6(2),a.Q6J("disabled",!0),a.xp6(4),a.Q6J("ngIf",n.userCanEdit))},directives:[W._Y,W.JL,W.sg,dt.KE,dt.hX,Je.Nt,W.Fj,W.JJ,W.u,W.Q7,dt.bx,Pt,W.Fd,W.qQ,W.wV,z.oG,U.gM,Z.O5],encapsulation:2}),t})(),pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"row"],[1,"col-md-9"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-lobby-config",1),a.qZA())},directives:[ft],encapsulation:2}),t})();var Ct=E(3149),Fe=E(5594),Ke=E(9150),et=E(6217),wt=E(8966),Ge=E(7261);function bn(t,r){1&t&&(a.ynx(0),a._uU(1,"(loading)"),a.BQk())}function to(t,r){if(1&t){const e=a.EpF();a.ynx(0),a.TgZ(1,"button",3),a.NdJ("click",function(){return a.CHM(e),a.oxw().play()}),a._uU(2," Play "),a.YNc(3,bn,2,0,"ng-container",1),a.qZA(),a.BQk()}if(2&t){const e=a.oxw();a.xp6(3),a.Q6J("ngIf",e.lobby.status===e.lobbyStatus.Loading)}}const no=function(t,r){return{"col-md-6":t,"col-md-12":r}};let Un=(()=>{class t{constructor(e,n,o,s){this.lobbyHttpService=e,this.lobbyStore=n,this.socket=o,this.router=s,this.lobbyUsersRoles=ne,this.lobbyStatus=Fe.D,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.role=e.role)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.lobbyHttpService.leave().subscribe(()=>{this.router.navigate(["/"])})}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&[Fe.D.Waiting.toString(),Fe.D.Loading.toString()].includes(this.lobby.status)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(oe.Y),a.Y36(Be),a.Y36(Ue.i),a.Y36(De.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-button-play"]],decls:4,vars:5,consts:[[1,"row"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.YNc(1,to,4,1,"ng-container",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return n.leave()}),a._uU(3," Leave "),a.qZA()()),2&e&&(a.xp6(1),a.Q6J("ngIf",n.showPlayButton()),a.xp6(1),a.Q6J("ngClass",a.WLB(2,no,n.showPlayButton(),!n.showPlayButton())))},directives:[Z.O5,Z.mk],encapsulation:2}),t})(),ro=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-waiting"]],decls:4,vars:0,consts:[[1,"row"],[1,"d-md-none"],[1,"col-md-9"],[1,"d-none","d-md-block","col-md-3"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-button-play",1)(2,"app-lobby-config",2)(3,"app-button-play",3),a.qZA())},directives:[Un,ft],encapsulation:2}),t})(),oo=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Be))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-information"]],decls:8,vars:3,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._UZ(3,"i",3),a._uU(4),a.qZA(),a.TgZ(5,"div",2),a._UZ(6,"i",4),a._uU(7),a.qZA()()()),2&e&&(a.xp6(4),a.hij("",null==n.lobby?null:n.lobby.guessTime,"s"),a.xp6(3),a.AsE("",null==n.lobby?null:n.lobby.currentLobbyMusicPosition,"/",null==n.lobby?null:n.lobby.lobbyMusics," "))},encapsulation:2}),t})();var Gn=E(9743);function so(t,r){if(1&t&&(a.ynx(0),a.TgZ(1,"div",4)(2,"h2",5),a._uU(3),a.qZA()(),a.TgZ(4,"div",6)(5,"div",7),a._UZ(6,"img",8),a.qZA()(),a.TgZ(7,"div",6)(8,"div")(9,"h4",5),a._uU(10,"Music"),a.qZA(),a.TgZ(11,"small",9),a._uU(12),a.qZA()(),a.TgZ(13,"div",10)(14,"h4",5),a._uU(15,"Artist"),a.qZA(),a.TgZ(16,"small",9),a._uU(17),a.qZA()()(),a.BQk()),2&t){const e=a.oxw();a.xp6(3),a.Oqu(e.answer.expectedAnswer.name),a.xp6(3),a.Q6J("src",null!=e.answer.expectedAnswer.cover&&e.answer.expectedAnswer.cover.imageId?"https://images.igdb.com/igdb/image/upload/t_720p/"+e.answer.expectedAnswer.cover.imageId+".jpg":"assets/imgs/missing picture.png",a.LSH)("alt",e.answer.expectedAnswer.name),a.xp6(6),a.Oqu(e.answer.music.title),a.xp6(5),a.Oqu(e.answer.music.artist)}}function io(t,r){1&t&&(a.TgZ(0,"div",4),a._UZ(1,"h2",11),a.qZA(),a.TgZ(2,"div",6),a._UZ(3,"div",12),a.qZA(),a.TgZ(4,"div",6)(5,"div"),a._UZ(6,"h4",13)(7,"small",14)(8,"small",15),a.qZA(),a.TgZ(9,"div",10),a._UZ(10,"h4",13)(11,"small",16)(12,"small",15),a.qZA()())}let ao=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.gameHttpService=n,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(e=>{this.answer=e}),this.lobbyStore.lobby.subscribe(e=>{e.status!==Fe.D.AnswerReveal&&(this.answer=null)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Be),a.Y36(Gn.q))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-answer-reveal"]],decls:5,vars:2,consts:[[1,"bg-dark","p-4"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],[1,"col-md-12"],[1,"mb-1"],[1,"col-md-6"],[2,"position","relative"],[1,"card-img-top",3,"src","alt"],[2,"font-size","10px"],[1,"mt-2"],[1,"placeholder","col-md-6"],[1,"w-auto","h-100","img-placeholder"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"]],template:function(e,n){if(1&e&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,so,18,5,"ng-container",2),a.YNc(3,io,13,0,"ng-template",null,3,a.W1O),a.qZA()()),2&e){const o=a.MAs(4);a.xp6(2),a.Q6J("ngIf",n.answer)("ngIfElse",o)}},directives:[Z.O5],encapsulation:2}),t})();function Yn(t,r,e,n,o,s,c){try{var l=t[s](c),i=l.value}catch(d){return void e(d)}l.done?r(i):Promise.resolve(i).then(n,o)}function ee(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var s=t.apply(r,e);function c(i){Yn(s,n,o,c,l,"next",i)}function l(i){Yn(s,n,o,c,l,"throw",i)}c(void 0)})}}var co=E(2340),lo=E(520);let uo=(()=>{class t{constructor(e){this.http=e,this.apiEndpoint=co.N.apiEndpoint}get(e){return this.http.get(`${this.apiEndpoint}/lobby-music/${e}`,{responseType:"blob"})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(lo.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var st=E(8021);const Nt=new WeakSet,jn=new WeakMap,gn=new WeakMap,qn=new WeakMap,_n=new WeakMap,Ht=new WeakMap,zn=new WeakMap,vn=new WeakMap,yn=new WeakMap,Cn=new WeakMap,Hn={construct:()=>Hn},Xn=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Qn=(t,r)=>{const e=[];let n=t.replace(/^[\s]+/,""),o=n.match(Xn);for(;null!==o;){const s=o[1].slice(1,-1),c=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,r).toString());e.push(c),n=n.slice(o[0].length).replace(/^[\s]+/,""),o=n.match(Xn)}return[e.join(";"),n]},$n=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Jn=t=>{if(!(t=>{try{new new Proxy(t,Hn)}catch(r){return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Ye=(t,r)=>{const e=t.get(r);if(void 0===e)throw new Error("A value with the given key could not be found.");return e},Xt=(t,r)=>{const e=Array.from(t).filter(r);if(e.length>1)throw Error("More than one element was found.");if(0===e.length)throw Error("No element was found.");const[n]=e;return t.delete(n),n},Kn=(t,r,e,n)=>{const o=Ye(t,r),s=Xt(o,c=>c[0]===e&&c[1]===n);return 0===o.size&&t.delete(r),s},Ft=t=>Ye(zn,t),St=t=>{if(Nt.has(t))throw new Error("The AudioNode is already stored.");Nt.add(t),Ft(t).forEach(r=>r(!0))},er=t=>"port"in t,Lt=t=>{if(!Nt.has(t))throw new Error("The AudioNode is not stored.");Nt.delete(t),Ft(t).forEach(r=>r(!1))},wn=(t,r)=>{!er(t)&&r.every(e=>0===e.size)&&Lt(t)},wo={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ae=(t,r)=>t.context===r,Qt=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch(r){return!1}return!0},He=()=>new DOMException("","IndexSizeError"),Nn=t=>{var r;t.getChannelData=(r=t.getChannelData,e=>{try{return r.call(t,e)}catch(n){throw 12===n.code?He():n}})},Ao={numberOfChannels:1},xe=-34028234663852886e22,Ie=-xe,tt=t=>Nt.has(t),To={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ke=t=>Ye(jn,t),Bt=t=>Ye(qn,t),Sn=(t,r)=>{const{activeInputs:e}=ke(t);e.forEach(o=>o.forEach(([s])=>{r.includes(t)||Sn(s,[...r,t])}));const n=(t=>"playbackRate"in t)(t)?[t.playbackRate]:er(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const o of n){const s=Bt(o);void 0!==s&&s.activeInputs.forEach(([c])=>Sn(c,r))}tt(t)&&Lt(t)},Jt=t=>"context"in t,Vt=t=>Jt(t[0]),mt=(t,r,e,n)=>{for(const o of t)if(e(o)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(r),!0},nr=(t,r,[e,n],o)=>{mt(t,[r,e,n],s=>s[0]===r&&s[1]===e,o)},rr=(t,[r,e,n],o)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[e,n]])):mt(s,[e,n],c=>c[0]===e,o)},At=t=>"inputs"in t,Kt=(t,r,e,n)=>{if(At(r)){const o=r.inputs[n];return t.connect(o,e,0),[o,e,0]}return t.connect(r,e,n),[r,e,n]},or=(t,r,e)=>{for(const n of t)if(n[0]===r&&n[1]===e)return t.delete(n),n;return null},sr=(t,r)=>{if(!Ft(t).delete(r))throw new Error("Missing the expected event listener.")},ir=(t,r,e)=>{const n=Ye(t,r),o=Xt(n,s=>s[0]===e);return 0===n.size&&t.delete(r),o},en=(t,r,e,n)=>{At(r)?t.disconnect(r.inputs[n],e,0):t.disconnect(r,e,n)},ce=t=>Ye(gn,t),Wt=t=>Ye(_n,t),bt=t=>vn.has(t),tn=t=>!Nt.has(t),ar=(t,r)=>new Promise(e=>{if(null!==r)e(!0);else{const n=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),c=s.getChannelData(0);c[0]=1,c[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(n).connect(t.destination),l.connect(o),l.disconnect(o),n.onaudioprocess=i=>{const d=i.inputBuffer.getChannelData(0);Array.prototype.some.call(d,u=>1===u)?e(!0):e(!1),l.stop(),n.onaudioprocess=null,l.disconnect(n),n.disconnect(t.destination)},l.start()}}),An=(t,r)=>{const e=new Map;for(const n of t)for(const o of n){const s=e.get(o);e.set(o,void 0===s?1:s+1)}e.forEach((n,o)=>r(o,n))},nn=t=>"context"in t,Mn=(t,r,e,n,o)=>{const[s,c]=((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=ke(r),c=or(o[n],t,e);return null===c?[Kn(s,t,e,n)[2],!1]:[c[2],!0]})(t,e,n,o);if(null!==s&&(sr(t,s),c&&!r&&!bt(t)&&en(ce(t),ce(e),n,o)),tt(e)){const{activeInputs:l}=ke(e);wn(e,l)}},Tn=(t,r,e,n)=>{const[o,s]=((t,r,e)=>{const{activeInputs:n,passiveInputs:o}=Bt(r),s=or(n,t,e);return null===s?[ir(o,t,e)[1],!1]:[s[2],!0]})(t,e,n);null!==o&&(sr(t,o),s&&!r&&!bt(t)&&ce(t).disconnect(Wt(e),n))};class cr{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,e=null){return this._map.forEach((n,o)=>r.call(e,n,o,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}function rn(t,r,e,n,o){if("function"==typeof t.copyFromChannel)0===r[e].byteLength&&(r[e]=new Float32Array(128)),t.copyFromChannel(r[e],n,o);else{const s=t.getChannelData(n);if(0===r[e].byteLength)r[e]=s.slice(o,o+128);else{const c=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);r[e].set(c)}}}const lr=(t,r,e,n,o)=>{"function"==typeof t.copyToChannel?0!==r[e].byteLength&&t.copyToChannel(r[e],n,o):0!==r[e].byteLength&&t.getChannelData(n).set(r[e],o)},on=(t,r)=>{const e=[];for(let n=0;n<t;n+=1){const o=[],s="number"==typeof r?r:r[n];for(let c=0;c<s;c+=1)o.push(new Float32Array(128));e.push(o)}return e},es=function(){var t=ee(function*(r,e,n,o,s,c,l){const i=null===e?128*Math.ceil(r.context.length/128):e.length,d=o.channelCount*o.numberOfInputs,u=s.reduce((g,y)=>g+y,0),h=0===u?null:n.createBuffer(u,i,n.sampleRate);if(void 0===c)throw new Error("Missing the processor constructor.");const f=ke(r),b=yield((t,r)=>{const e=Ye(Cn,t),n=ce(r);return Ye(e,n)})(n,r),p=on(o.numberOfInputs,o.channelCount),m=on(o.numberOfOutputs,s),v=Array.from(r.parameters.keys()).reduce((g,y)=>({...g,[y]:new Float32Array(128)}),{});for(let g=0;g<i;g+=128){if(o.numberOfInputs>0&&null!==e)for(let y=0;y<o.numberOfInputs;y+=1)for(let A=0;A<o.channelCount;A+=1)rn(e,p[y],A,A,g);void 0!==c.parameterDescriptors&&null!==e&&c.parameterDescriptors.forEach(({name:y},A)=>{rn(e,v,y,d+A,g)});for(let y=0;y<o.numberOfInputs;y+=1)for(let A=0;A<s[y];A+=1)0===m[y][A].byteLength&&(m[y][A]=new Float32Array(128));try{const y=p.map((M,_)=>0===f.activeInputs[_].size?[]:M),A=l(g/n.sampleRate,n.sampleRate,()=>b.process(y,m,v));if(null!==h)for(let M=0,_=0;M<o.numberOfOutputs;M+=1){for(let N=0;N<s[M];N+=1)lr(h,m[M],N,_+N,g);_+=s[M]}if(!A)break}catch(y){r.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(e,n,o,s,c,l,i){return t.apply(this,arguments)}}(),rs={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},as={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},us={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},bs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ys={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ur=t=>{const{port1:r,port2:e}=new MessageChannel;return new Promise(n=>{const o=()=>{e.onmessage=null,r.close(),e.close(),n()};e.onmessage=()=>o();try{r.postMessage(t,[t])}finally{o()}})},Ts={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},sn=(t,r,e)=>{const n=r[e];if(void 0===n)throw t();return n},Ps={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Gs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ge=()=>new DOMException("","InvalidStateError"),an=()=>new DOMException("","InvalidAccessError"),ti={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},dr=(t,r,e,n,o,s,c,l,i,d,u)=>{const h=d.length;let f=l;for(let b=0;b<h;b+=1){let p=e[0]*d[b];for(let m=1;m<o;m+=1){const v=f-m&i-1;p+=e[m]*s[v],p-=t[m]*c[v]}for(let m=o;m<n;m+=1)p+=e[m]*s[f-m&i-1];for(let m=o;m<r;m+=1)p-=t[m]*c[f-m&i-1];s[f]=d[b],c[f]=p,f=f+1&i-1,u[b]=p}return f},bi=function(){var t=ee(function*(r,e,n,o,s,c,l,i,d,u,h,f,b,p,m,v){return!!(r(e,e)&&r(n,n)&&r(s,s)&&r(c,c)&&r(i,i)&&r(d,d)&&r(u,u)&&r(h,h)&&r(f,f)&&r(b,b)&&r(p,p))&&(yield Promise.all([r(o,o),r(l,l),r(m,m),r(v,v)])).every(y=>y)});return function(e,n,o,s,c,l,i,d,u,h,f,b,p,m,v,g){return t.apply(this,arguments)}}(),_i={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},gt=t=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=t.decodeAudioData(r.buffer,()=>{});return void 0!==e&&(e.catch(()=>{}),!0)}catch(e){}return!1},le=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e]&&(t[e]=n)},_e=(t,r)=>{le(t,r,"channelCount"),le(t,r,"channelCountMode"),le(t,r,"channelInterpretation")},hr=t=>"function"==typeof t.getFloatTimeDomainData,fe=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e].value&&(t[e].value=n)},In=t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{if("number"==typeof o&&o<0||n<0||e<0)throw new RangeError("The parameters can't be negative.");r.call(t,e,n,o)})},kn=t=>{var r;t.stop=(r=t.stop,(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");r.call(t,e)})},fr=(t,r)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*r))))),Bi=function(){var t=ee(function*(r,e){const n=yield(t=>new Promise((r,e)=>{const{port1:n,port2:o}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),o.close(),r(s)},n.onmessageerror=({data:s})=>{n.close(),o.close(),e(s)},o.postMessage(t)}))(e);return new r(n)});return function(e,n){return t.apply(this,arguments)}}(),pr=(t,r)=>{const e=t.createBiquadFilter();return _e(e,r),fe(e,r,"Q"),fe(e,r,"detune"),fe(e,r,"frequency"),fe(e,r,"gain"),le(e,r,"type"),e},Zt=(t,r)=>{const e=t.createChannelSplitter(r.numberOfOutputs);return _e(e,r),(t=>{const r=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>r,set:e=>{if(e!==r)throw ge()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw ge()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw ge()}})})(e),e},Mt=(t,r)=>(t.connect=r.connect.bind(r),t.disconnect=r.disconnect.bind(r),t),mr=(t,r)=>{const e=t.createDelay(r.maxDelayTime);return _e(e,r),fe(e,r,"delayTime"),e},Re=(t,r)=>{const e=t.createGain();return _e(e,r),fe(e,r,"gain"),e};function Hi(t,r){const e=r[0]*r[0]+r[1]*r[1];return[(t[0]*r[0]+t[1]*r[1])/e,(t[1]*r[0]-t[0]*r[1])/e]}function Xi(t,r){return[t[0]*r[0]-t[1]*r[1],t[0]*r[1]+t[1]*r[0]]}function br(t,r){let e=[0,0];for(let n=t.length-1;n>=0;n-=1)e=Xi(e,r),e[0]+=t[n];return e}const Ut=(t,r,e,n)=>t.createScriptProcessor(r,e,n),Me=()=>new DOMException("","NotSupportedError"),ha={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ma={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},_a={disableNormalization:!1},Ta={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},gr=()=>new DOMException("","UnknownError"),qa={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},_r=(t,r,e)=>void 0===t.copyFromChannel?t.getChannelData(e)[0]:(t.copyFromChannel(r,e),r[0]),vr=t=>{if(null===t)return!1;const r=t.length;return r%2!=0?0!==t[Math.floor(r/2)]:t[r/2-1]+t[r/2]!==0},Gt=(t,r,e,n)=>{let o=t;for(;!o.hasOwnProperty(r);)o=Object.getPrototypeOf(o);const{get:s,set:c}=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(t,r,{get:e(s),set:n(c)})},yr=(t,r,e)=>{try{t.setValueAtTime(r,e)}catch(n){if(9!==n.code)throw n;yr(t,r,e+1e-7)}},En=t=>{const r=t.createOscillator();try{r.start(-1)}catch(e){return e instanceof RangeError}return!1},Cr=t=>{const r=t.createBuffer(1,1,44100),e=t.createBufferSource();e.buffer=r,e.start(),e.stop();try{return e.stop(),!0}catch(n){return!1}},On=t=>{const r=t.createOscillator();try{r.stop(-1)}catch(e){return e instanceof RangeError}return!1},ac=()=>{try{new DOMException}catch(t){return!1}return!0},cc=()=>new Promise(t=>{const r=new ArrayBuffer(0),{port1:e,port2:n}=new MessageChannel;e.onmessage=({data:o})=>t(null!==o),n.postMessage(r,[r])}),wr=(t,r)=>{const e=r.createGain();t.connect(e);const n=(o=t.disconnect,()=>{o.call(t,e),t.removeEventListener("ended",n)});var o;t.addEventListener("ended",n),Mt(t,e),t.stop=(o=>{let s=!1;return(c=0)=>{if(s)try{o.call(t,c)}catch(l){e.gain.setValueAtTime(0,c)}else o.call(t,c),s=!0}})(t.stop)},Tt=(t,r)=>e=>{const n={value:t};return Object.defineProperties(e,{currentTarget:n,target:n}),"function"==typeof r?r.call(t,e):r.handleEvent.call(t,e)},uc=(t=mt,(r,e,[n,o,s],c)=>{t(r[o],[e,n,s],l=>l[0]===e&&l[1]===n,c)}),dc=(t=>(r,e,[n,o,s],c)=>{const l=r.get(n);void 0===l?r.set(n,new Set([[o,e,s]])):t(l,[o,e,s],i=>i[0]===o&&i[1]===e,c)})(mt),hc=(t=>(r,e,n,o)=>t(r[o],s=>s[0]===e&&s[1]===n))(Xt),Nr=new WeakMap,fc=(t=>r=>{var e;return null!==(e=t.get(r))&&void 0!==e?e:0})(Nr),Le=((t,r)=>(e,n)=>{const o=r.get(e);if(void 0!==o)return o;const s=t.get(e);if(void 0!==s)return s;try{const c=n();return c instanceof Promise?(t.set(e,c),c.catch(()=>!1).then(l=>(t.delete(e),r.set(e,l),l))):(r.set(e,c),c)}catch(c){return r.set(e,!1),!1}})(new Map,new WeakMap),je="undefined"==typeof window?null:window,Sr=((t,r)=>(e,n)=>{const o=e.createAnalyser();if(_e(o,n),!(n.maxDecibels>n.minDecibels))throw r();return le(o,n,"fftSize"),le(o,n,"maxDecibels"),le(o,n,"minDecibels"),le(o,n,"smoothingTimeConstant"),t(hr,()=>hr(o))||(t=>{t.getFloatTimeDomainData=r=>{const e=new Uint8Array(r.length);t.getByteTimeDomainData(e);const n=Math.max(e.length,t.fftSize);for(let o=0;o<n;o+=1)r[o]=.0078125*(e[o]-128);return r}})(o),o})(Le,He),Dn=(t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer})(ke),Se=((t,r,e)=>function(){var n=ee(function*(o,s,c){const l=t(o);yield Promise.all(l.activeInputs.map((i,d)=>Array.from(i).map(function(){var u=ee(function*([h,f]){const p=yield r(h).render(h,s),m=o.context.destination;!e(h)&&(o!==m||!e(o))&&p.connect(c,f,d)});return function(h){return u.apply(this,arguments)}}())).reduce((i,d)=>[...i,...d],[]))});return function(o,s,c){return n.apply(this,arguments)}}())(ke,Dn,bt),pc=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let i=r(c);return Ae(i,l)||(i=t(l,{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,fftSize:i.fftSize,maxDecibels:i.maxDecibels,minDecibels:i.minDecibels,smoothingTimeConstant:i.smoothingTimeConstant})),n.set(l,i),yield e(c,l,i),i});return function(l,i){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Sr,ce,Se),ie=(t=>r=>{const e=t.get(r);if(void 0===e)throw ge();return e})(Ht),we=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(je),se=(t=>r=>null!==t&&r instanceof t)(we),Ar=new WeakMap,Mr=(t=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,n,o){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,o)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,n,o){const s=null===n?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,o)}})(Tt),nt=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(je),xn=(t=>r=>null!==t&&r instanceof t)(nt),Rn=(t=>r=>null!==t&&"function"==typeof t.AudioNode&&r instanceof t.AudioNode)(je),Tr=(t=>r=>null!==t&&"function"==typeof t.AudioParam&&r instanceof t.AudioParam)(je),It=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(je),be=((t,r,e,n,o,s,c,l,i,d,u,h,f,b,p,m)=>class extends d{constructor(g,y,A,M){super(A),this._context=g,this._nativeAudioNode=A;const _=u(g);h(_)&&!0!==e(ar,()=>ar(_,m))&&(t=>{const r=new Map;var e;t.connect=(e=t.connect.bind(t),(n,o=0,s=0)=>{const c=nn(n)?e(n,o,s):e(n,o),l=r.get(n);return void 0===l?r.set(n,[{input:s,output:o}]):l.every(i=>i.input!==s||i.output!==o)&&l.push({input:s,output:o}),c}),t.disconnect=(e=>(n,o,s)=>{if(e.apply(t),void 0===n)r.clear();else if("number"==typeof n)for(const[c,l]of r){const i=l.filter(d=>d.output!==n);0===i.length?r.delete(c):r.set(c,i)}else if(r.has(n))if(void 0===o)r.delete(n);else{const c=r.get(n);if(void 0!==c){const l=c.filter(i=>i.output!==o&&(i.input!==s||void 0===s));0===l.length?r.delete(n):r.set(n,l)}}for(const[c,l]of r)l.forEach(i=>{nn(c)?t.connect(c,i.output,i.input):t.connect(c,i.output)})})(t.disconnect)})(A),gn.set(this,A),zn.set(this,new Set),"closed"!==g.state&&y&&St(this),t(this,M,A)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,y=0,A=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw o();const M=u(this._context),_=p(M);if(f(g)||b(g))throw s();if(Jt(g)){const w=ce(g);try{const T=Kt(this._nativeAudioNode,w,y,A),k=tn(this);(_||k)&&this._nativeAudioNode.disconnect(...T),"closed"!==this.context.state&&!k&&tn(g)&&St(g)}catch(T){throw 12===T.code?s():T}if(r(this,g,y,A,_)){const T=i([this],g);An(T,n(_))}return g}const N=Wt(g);if("playbackRate"===N.name&&1024===N.maxValue)throw c();try{this._nativeAudioNode.connect(N,y),(_||tn(this))&&this._nativeAudioNode.disconnect(N,y)}catch(w){throw 12===w.code?s():w}if(((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=Bt(r),{outputs:c}=ke(t),l=Ft(t),i=d=>{const u=ce(t),h=Wt(r);if(d){const f=ir(s,t,e);nr(o,t,f,!1),!n&&!bt(t)&&u.connect(h,e)}else{const f=((t,r,e)=>Xt(t,n=>n[0]===r&&n[1]===e))(o,t,e);rr(s,f,!1),!n&&!bt(t)&&u.disconnect(h,e)}};return!!mt(c,[r,e],d=>d[0]===r&&d[1]===e,!0)&&(l.add(i),tt(t)?nr(o,t,[e,i],!0):rr(s,[t,e,i],!0),!0)})(this,g,y,_)){const w=i([this],g);An(w,n(_))}}disconnect(g,y,A){let M;const _=u(this._context),N=p(_);if(void 0===g)M=((t,r)=>{const e=ke(t),n=[];for(const o of e.outputs)Vt(o)?Mn(t,r,...o):Tn(t,r,...o),n.push(o[0]);return e.outputs.clear(),n})(this,N);else if("number"==typeof g){if(g<0||g>=this.numberOfOutputs)throw o();M=((t,r,e)=>{const n=ke(t),o=[];for(const s of n.outputs)s[1]===e&&(Vt(s)?Mn(t,r,...s):Tn(t,r,...s),o.push(s[0]),n.outputs.delete(s));return o})(this,N,g)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||Jt(g)&&void 0!==A&&(A<0||A>=g.numberOfInputs))throw o();if(M=((t,r,e,n,o)=>{const s=ke(t);return Array.from(s.outputs).filter(c=>!(c[0]!==e||void 0!==n&&c[1]!==n||void 0!==o&&c[2]!==o)).map(c=>(Vt(c)?Mn(t,r,...c):Tn(t,r,...c),s.outputs.delete(c),c[0]))})(this,N,g,y,A),0===M.length)throw s()}for(const C of M){const w=i([this],C);An(w,l)}}})((t=>(r,e,n)=>{const o=[];for(let s=0;s<n.numberOfInputs;s+=1)o.push(new Set);t.set(r,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:e})})(jn),((t,r,e,n,o,s,c,l,i,d,u,h,f)=>{const b=new WeakMap;return(p,m,v,g,y)=>{const{activeInputs:A,passiveInputs:M}=s(m),{outputs:_}=s(p),N=l(p),C=w=>{const I=i(m),T=i(p);if(w){const k=Kn(M,p,v,g);t(A,p,k,!1),!y&&!h(p)&&e(T,I,v,g),f(m)&&St(m)}else{const k=n(A,p,v,g);r(M,g,k,!1),!y&&!h(p)&&o(T,I,v,g);const S=c(m);if(0===S)u(m)&&wn(m,A);else{const P=b.get(m);void 0!==P&&clearTimeout(P),b.set(m,setTimeout(()=>{u(m)&&wn(m,A)},1e3*S))}}};return!!d(_,[m,v,g],w=>w[0]===m&&w[1]===v&&w[2]===g,!0)&&(N.add(C),u(p)?t(A,p,[v,g,C],!0):r(M,g,[p,v,C],!0),!0)}})(uc,dc,Kt,hc,en,ke,fc,Ft,ce,mt,tt,bt,tn),Le,((t,r,e,n,o,s)=>c=>(l,i)=>{const d=t.get(l);if(void 0===d){if(!c&&s(l)){const u=n(l),{outputs:h}=e(l);for(const f of h)if(Vt(f)){const b=n(f[0]);r(u,b,f[1],f[2])}else{const b=o(f[0]);u.disconnect(b,f[1])}}t.set(l,i)}else t.set(l,d+i)})(vn,en,ke,ce,Wt,tt),He,an,Me,((t,r,e,n,o,s,c,l)=>(i,d)=>{const u=r.get(i);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(i.context),f=l(h);if(u===d){if(r.delete(i),!f&&c(i)){const b=n(i),{outputs:p}=e(i);for(const m of p)if(Vt(m)){const v=n(m[0]);t(b,v,m[1],m[2])}else{const v=o(m[0]);b.connect(v,m[1])}}}else r.set(i,u-d)})(Kt,vn,ke,ce,Wt,ie,tt,se),((t,r,e)=>function n(o,s){const c=Jt(s)?s:e(t,s);if((t=>"delayTime"in t)(c))return[];if(o[0]===c)return[o];if(o.includes(c))return[];const{outputs:l}=r(c);return Array.from(l).map(i=>n([...o,c],i[0])).reduce((i,d)=>i.concat(d),[])})(Ar,ke,Ye),Mr,ie,xn,Rn,Tr,se,It),mc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=o(l),u={...wo,...i},h=n(d,u);super(l,!1,h,s(d)?r():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const i=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=i,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const i=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=i,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}})(be,pc,He,Sr,ie,se),Pn=new WeakSet,Ir=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(je),kr=(t=>r=>(t[0]=r,t[0]))(new Uint32Array(1)),Fn=((t,r)=>e=>{e.copyFromChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const i=e.length,d=e.getChannelData(l),u=n.length;for(let h=c<0?-c:0;h+c<i&&h<u;h+=1)n[h]=d[h+c]},e.copyToChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const i=e.length,d=e.getChannelData(l),u=n.length;for(let h=c<0?-c:0;h+c<i&&h<u;h+=1)d[h+c]=n[h]}})(kr,He),Ln=(t=>r=>{var e;r.copyFromChannel=(e=r.copyFromChannel,(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)}),r.copyToChannel=(e=>(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)})(r.copyToChannel)})(kr),bc=((t,r,e,n,o,s,c,l)=>{let i=null;return class Kr{constructor(u){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:f,sampleRate:b}={...Ao,...u};null===i&&(i=new o(1,1,44100));const p=null!==n&&r(s,s)?new n({length:h,numberOfChannels:f,sampleRate:b}):i.createBuffer(f,h,b);if(0===p.numberOfChannels)throw e();return"function"!=typeof p.copyFromChannel?(c(p),Nn(p)):r(Qt,()=>Qt(p))||l(p),t.add(p),p}static[Symbol.hasInstance](u){return null!==u&&"object"==typeof u&&Object.getPrototypeOf(u)===Kr.prototype||t.has(u)}}})(Pn,Le,Me,Ir,we,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch(r){return!1}return!0})(Ir),Fn,Ln),cn=(t=>(r,e)=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(r.destination);const o=()=>{e.removeEventListener("ended",o),e.disconnect(n),n.disconnect()};e.addEventListener("ended",o)})(Re),Er=((t,r,e)=>function(){var n=ee(function*(o,s,c){const l=r(o);yield Promise.all(Array.from(l.activeInputs).map(function(){var i=ee(function*([d,u]){const f=yield t(d).render(d,s);e(d)||f.connect(c,u)});return function(d){return i.apply(this,arguments)}}()))});return function(o,s,c){return n.apply(this,arguments)}}())(Dn,Bt,bt),Xe=(t=>(r,e,n)=>t(e,r,n))(Er),kt=((t,r,e,n,o,s,c,l,i,d,u)=>(h,f)=>{const b=h.createBufferSource();return _e(b,f),fe(b,f,"playbackRate"),le(b,f,"buffer"),le(b,f,"loop"),le(b,f,"loopEnd"),le(b,f,"loopStart"),r(e,()=>e(h))||(t=>{t.start=(r=>{let e=!1;return(n=0,o=0,s)=>{if(e)throw ge();r.call(t,n,o,s),e=!0}})(t.start)})(b),r(n,()=>n(h))||(t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{const s=t.buffer,c=null===s?n:Math.min(s.duration,n);null!==s&&c>s.duration-.5/t.context.sampleRate?r.call(t,e,0,0):r.call(t,e,c,o)})})(b),r(o,()=>o(h))||d(b,h),r(s,()=>s(h))||In(b),r(c,()=>c(h))||u(b,h),r(l,()=>l(h))||kn(b),t(h,b),b})(cn,Le,t=>{const r=t.createBufferSource();r.start();try{r.start()}catch(e){return!0}return!1},t=>{const r=t.createBufferSource(),e=t.createBuffer(1,1,44100);r.buffer=e;try{r.start(0,1)}catch(n){return!1}return!0},t=>{const r=t.createBufferSource();r.start();try{r.stop()}catch(e){return!1}return!0},En,Cr,On,0,(t=>(r,e)=>{const n=e.createBuffer(1,1,44100);null===r.buffer&&(r.buffer=n),t(r,"buffer",o=>()=>{const s=o.call(r);return s===n?null:s},o=>s=>o.call(r,null===s?n:s))})(Gt),wr),Qe=((t,r)=>(e,n,o)=>(t(n).replay(o),r(n,e,o)))((t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer})(Bt),Er),gc=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const i=function(){var d=ee(function*(u,h){let f=e(u);const b=Ae(f,h);return b||(f=r(h,{buffer:f.buffer,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,loop:f.loop,loopEnd:f.loopEnd,loopStart:f.loopStart,playbackRate:f.playbackRate.value}),null!==c&&f.start(...c),null!==l&&f.stop(l)),s.set(h,f),b?yield t(h,u.playbackRate,f.playbackRate):yield n(h,u.playbackRate,f.playbackRate),yield o(u,h,f),f});return function(h,f){return d.apply(this,arguments)}}();return{set start(d){c=d},set stop(d){l=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):i(d,u)}}})(Xe,kt,ce,Qe,Se),qe=((t,r,e,n,o,s,c,l,i,d,u,h,f)=>(b,p,m,v=null,g=null)=>{const y=new st.AutomationEventList(m.defaultValue),A=p?(t=>({replay(r){for(const e of t)if("exponentialRampToValue"===e.type){const{endTime:n,value:o}=e;r.exponentialRampToValueAtTime(o,n)}else if("linearRampToValue"===e.type){const{endTime:n,value:o}=e;r.linearRampToValueAtTime(o,n)}else if("setTarget"===e.type){const{startTime:n,target:o,timeConstant:s}=e;r.setTargetAtTime(o,n,s)}else if("setValue"===e.type){const{startTime:n,value:o}=e;r.setValueAtTime(o,n)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:n,startTime:o,values:s}=e;r.setValueCurveAtTime(s,o,n)}}}}))(y):null,M={get defaultValue(){return m.defaultValue},get maxValue(){return null===v?m.maxValue:v},get minValue(){return null===g?m.minValue:g},get value(){return m.value},set value(_){m.value=_,M.setValueAtTime(_,b.context.currentTime)},cancelAndHoldAtTime(_){if("function"==typeof m.cancelAndHoldAtTime)null===A&&y.flush(b.context.currentTime),y.add(o(_)),m.cancelAndHoldAtTime(_);else{const N=Array.from(y).pop();null===A&&y.flush(b.context.currentTime),y.add(o(_));const C=Array.from(y).pop();m.cancelScheduledValues(_),N!==C&&void 0!==C&&("exponentialRampToValue"===C.type?m.exponentialRampToValueAtTime(C.value,C.endTime):"linearRampToValue"===C.type?m.linearRampToValueAtTime(C.value,C.endTime):"setValue"===C.type?m.setValueAtTime(C.value,C.startTime):"setValueCurve"===C.type&&m.setValueCurveAtTime(C.values,C.startTime,C.duration))}return M},cancelScheduledValues:_=>(null===A&&y.flush(b.context.currentTime),y.add(s(_)),m.cancelScheduledValues(_),M),exponentialRampToValueAtTime(_,N){if(0===_)throw new RangeError;if(!Number.isFinite(N)||N<0)throw new RangeError;return null===A&&y.flush(b.context.currentTime),y.add(c(_,N)),m.exponentialRampToValueAtTime(_,N),M},linearRampToValueAtTime:(_,N)=>(null===A&&y.flush(b.context.currentTime),y.add(l(_,N)),m.linearRampToValueAtTime(_,N),M),setTargetAtTime:(_,N,C)=>(null===A&&y.flush(b.context.currentTime),y.add(i(_,N,C)),m.setTargetAtTime(_,N,C),M),setValueAtTime:(_,N)=>(null===A&&y.flush(b.context.currentTime),y.add(d(_,N)),m.setValueAtTime(_,N),M),setValueCurveAtTime(_,N,C){const w=_ instanceof Float32Array?_:new Float32Array(_);if(null!==h&&"webkitAudioContext"===h.name){const I=N+C,T=b.context.sampleRate,k=Math.ceil(N*T),S=Math.floor(I*T),P=S-k,L=new Float32Array(P);for(let F=0;F<P;F+=1){const V=(w.length-1)/C*((k+F)/T-N),Y=Math.floor(V),G=Math.ceil(V);L[F]=Y===G?w[Y]:(1-(V-Y))*w[Y]+(1-(G-V))*w[G]}null===A&&y.flush(b.context.currentTime),y.add(u(L,N,C)),m.setValueCurveAtTime(L,N,C);const B=S/T;B<I&&f(M,L[L.length-1],B),f(M,w[w.length-1],I)}else null===A&&y.flush(b.context.currentTime),y.add(u(w,N,C)),m.setValueCurveAtTime(w,N,C);return M}};return e.set(M,m),r.set(M,b),t(M,A),M})((t=>(r,e)=>{t.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})})(qn),Ar,_n,0,st.createCancelAndHoldAutomationEvent,st.createCancelScheduledValuesAutomationEvent,st.createExponentialRampToValueAutomationEvent,st.createLinearRampToValueAutomationEvent,st.createSetTargetAutomationEvent,st.createSetValueAutomationEvent,st.createSetValueCurveAutomationEvent,nt,yr),_c=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),f={...To,...u},b=o(h,f),p=c(h),m=p?r():null;super(d,!1,b,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=null!==f.buffer,this._nativeAudioBufferSourceNode=b,this._onended=null,this._playbackRate=e(this,p,b.playbackRate,Ie,xe)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,null!==d){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const u="function"==typeof d?l(this,d):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===u?d:h}get playbackRate(){return this._playbackRate}start(d=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(d,u,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[d,u]:[d,u,h]),"closed"!==this.context.state){St(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),tt(this)&&Lt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=d)}})(be,gc,qe,ge,kt,ie,se,Tt),vc=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),f=c(h),b=o(h,u,f);super(d,!1,b,f?r(l):null),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=b}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(be,t=>{const r=new WeakMap,e=function(){var n=ee(function*(o,s){const c=s.destination;return r.set(s,c),yield t(o,s,c),c});return function(s,c){return n.apply(this,arguments)}}();return{render(n,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):e(n,o)}}},He,ge,((t,r)=>(e,n,o)=>{const s=e.destination;if(s.channelCount!==n)try{s.channelCount=n}catch(l){}o&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:n});const c=t(e,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return r(c,"channelCount",l=>()=>l.call(c),l=>i=>{l.call(c,i);try{s.channelCount=i}catch(d){if(i>s.maxChannelCount)throw d}}),r(c,"channelCountMode",l=>()=>l.call(c),l=>i=>{l.call(c,i),s.channelCountMode=i}),r(c,"channelInterpretation",l=>()=>l.call(c),l=>i=>{l.call(c,i),s.channelInterpretation=i}),Object.defineProperty(c,"maxChannelCount",{get:()=>s.maxChannelCount}),c.connect(s),c})(Re,Gt),ie,se,Se),yc=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(i,d){let u=e(i);const h=Ae(u,d);return h||(u=r(d,{Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type})),s.set(d,u),h?(yield t(d,i.Q,u.Q),yield t(d,i.detune,u.detune),yield t(d,i.frequency,u.frequency),yield t(d,i.gain,u.gain)):(yield n(d,i.Q,u.Q),yield n(d,i.detune,u.detune),yield n(d,i.frequency,u.frequency),yield n(d,i.gain,u.gain)),yield o(i,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,i){const d=s.get(i);return void 0!==d?Promise.resolve(d):c(l,i)}}})(Xe,pr,ce,Qe,Se),_t=(t=>(r,e)=>t.set(r,e))(Nr),Cc=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),f={...rs,...u},b=o(h,f),p=c(h);super(d,!1,b,p?e():null),this._Q=r(this,p,b.Q,Ie,xe),this._detune=r(this,p,b.detune,1200*Math.log2(Ie),-1200*Math.log2(Ie)),this._frequency=r(this,p,b.frequency,d.sampleRate/2,0),this._gain=r(this,p,b.gain,40*Math.log10(Ie),xe),this._nativeBiquadFilterNode=b,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,u,h)}catch(f){throw 11===f.code?n():f}if(d.length!==u.length||u.length!==h.length)throw n()}})(be,qe,yc,an,pr,ie,se,_t),it=((t,r)=>(e,n,o)=>{const s=new Set;return e.connect=(c=e.connect,(l,i=0,d=0)=>{const u=0===s.size;if(r(l))return c.call(e,l,i,d),t(s,[l,i,d],h=>h[0]===l&&h[1]===i&&h[2]===d,!0),u&&n(),l;c.call(e,l,i),t(s,[l,i],h=>h[0]===l&&h[1]===i,!0),u&&n()}),e.disconnect=(c=>(l,i,d)=>{const u=s.size>0;if(void 0===l)c.apply(e),s.clear();else if("number"==typeof l){c.call(e,l);for(const f of s)f[1]===l&&s.delete(f)}else{r(l)?c.call(e,l,i,d):c.call(e,l,i);for(const f of s)f[0]===l&&(void 0===i||f[1]===i)&&(void 0===d||f[2]===d)&&s.delete(f)}u&&0===s.size&&o()})(e.disconnect),e;var c})(mt,Rn),wc=((t,r)=>(e,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=e.createBufferSource();r(n,()=>{const l=n.numberOfInputs;for(let i=0;i<l;i+=1)o.connect(n,0,i)},()=>o.disconnect(n))})(ge,it),at=((t,r)=>(e,n)=>{const o=e.createChannelMerger(n.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&r(e,o),_e(o,n),o})(nt,wc),Nc=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let i=r(c);return Ae(i,l)||(i=t(l,{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfInputs:i.numberOfInputs})),n.set(l,i),yield e(c,l,i),i});return function(l,i){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(at,ce,Se),Sc=((t,r,e,n,o)=>class extends t{constructor(c,l){const i=n(c),d={...as,...l};super(c,!1,e(i,d),o(i)?r():null)}})(be,Nc,at,ie,se),Ac=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let i=r(c);return Ae(i,l)||(i=t(l,{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,numberOfOutputs:i.numberOfOutputs})),n.set(l,i),yield e(c,l,i),i});return function(l,i){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Zt,ce,Se),Mc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=n(l),u=(t=>({...t,channelCount:t.numberOfOutputs}))({...us,...i});super(l,!1,e(d,u),o(d)?r():null)}})(be,Ac,Zt,ie,se),Tc=((t,r,e,n)=>(o,{offset:s,...c})=>{const l=o.createBuffer(1,2,44100),i=r(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=e(o,{...c,gain:s}),u=l.getChannelData(0);u[0]=1,u[1]=1,i.buffer=l,i.loop=!0;const h={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(p){d.channelCount=p},get channelCountMode(){return d.channelCountMode},set channelCountMode(p){d.channelCountMode=p},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(p){d.channelInterpretation=p},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return i.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return i.onended},set onended(p){i.onended=p},addEventListener:(...p)=>i.addEventListener(p[0],p[1],p[2]),dispatchEvent:(...p)=>i.dispatchEvent(p[0]),removeEventListener:(...p)=>i.removeEventListener(p[0],p[1],p[2]),start(p=0){i.start.call(i,p)},stop(p=0){i.stop.call(i,p)}};return t(o,i),n(Mt(h,d),()=>i.connect(d),()=>i.disconnect(d))})(cn,kt,Re,it),Et=((t,r,e,n,o)=>(s,c)=>{if(void 0===s.createConstantSource)return e(s,c);const l=s.createConstantSource();return _e(l,c),fe(l,c,"offset"),r(n,()=>n(s))||In(l),r(o,()=>o(s))||kn(l),t(s,l),l})(cn,Le,Tc,En,On),Ic=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const i=function(){var d=ee(function*(u,h){let f=e(u);const b=Ae(f,h);return b||(f=r(h,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,offset:f.offset.value}),null!==c&&f.start(c),null!==l&&f.stop(l)),s.set(h,f),b?yield t(h,u.offset,f.offset):yield n(h,u.offset,f.offset),yield o(u,h,f),f});return function(h,f){return d.apply(this,arguments)}}();return{set start(d){c=d},set stop(d){l=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):i(d,u)}}})(Xe,Et,ce,Qe,Se),kc=((t,r,e,n,o,s,c)=>class extends t{constructor(i,d){const u=o(i),h={...bs,...d},f=n(u,h),b=s(u),p=b?e():null;super(i,!1,f,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=f,this._offset=r(this,b,f.offset,Ie,xe),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(i){const d="function"==typeof i?c(this,i):null;this._nativeConstantSourceNode.onended=d;const u=this._nativeConstantSourceNode.onended;this._onended=null!==u&&u===d?i:u}start(i=0){if(this._nativeConstantSourceNode.start(i),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=i),"closed"!==this.context.state){St(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),tt(this)&&Lt(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(i=0){this._nativeConstantSourceNode.stop(i),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=i)}})(be,qe,Ic,Et,ie,se,Tt),Or=((t,r)=>(e,n)=>{const o=e.createConvolver();if(_e(o,n),n.disableNormalization===o.normalize&&(o.normalize=!n.disableNormalization),le(o,n,"buffer"),n.channelCount>2||(r(o,"channelCount",s=>()=>s.call(o),s=>c=>{if(c>2)throw t();return s.call(o,c)}),"max"===n.channelCountMode))throw t();return r(o,"channelCountMode",s=>()=>s.call(o),s=>c=>{if("max"===c)throw t();return s.call(o,c)}),o})(Me,Gt),Ec=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let i=r(c);return Ae(i,l)||(i=t(l,{buffer:i.buffer,channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,disableNormalization:!i.normalize})),n.set(l,i),At(i)?yield e(c,l,i.inputs[0]):yield e(c,l,i),i});return function(l,i){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Or,ce,Se),Oc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=n(l),u={...ys,...i},h=e(d,u);super(l,!1,h,o(d)?r():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){this._nativeConvolverNode.buffer=l,null===l&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)):(this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}})(be,Ec,Or,ie,se,_t),Dc=((t,r,e,n,o)=>s=>{const c=new WeakMap,l=function(){var i=ee(function*(d,u){let h=e(d);const f=Ae(h,u);return f||(h=r(u,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s})),c.set(u,h),f?yield t(u,d.delayTime,h.delayTime):yield n(u,d.delayTime,h.delayTime),yield o(d,u,h),h});return function(u,h){return i.apply(this,arguments)}}();return{render(i,d){const u=c.get(d);return void 0!==u?Promise.resolve(u):l(i,d)}}})(Xe,mr,ce,Qe,Se),xc=((t,r,e,n,o,s,c)=>class extends t{constructor(i,d){const u=o(i),h={...Ts,...d},f=n(u,h),b=s(u);super(i,!1,f,b?e(h.maxDelayTime):null),this._delayTime=r(this,b,f.delayTime),c(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(be,qe,Dc,mr,ie,se,_t),Dr=(t=>(r,e)=>{const n=r.createDynamicsCompressor();if(_e(n,e),e.channelCount>2||"max"===e.channelCountMode)throw t();return fe(n,e,"attack"),fe(n,e,"knee"),fe(n,e,"ratio"),fe(n,e,"release"),fe(n,e,"threshold"),n})(Me),Rc=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(i,d){let u=e(i);const h=Ae(u,d);return h||(u=r(d,{attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value})),s.set(d,u),h?(yield t(d,i.attack,u.attack),yield t(d,i.knee,u.knee),yield t(d,i.ratio,u.ratio),yield t(d,i.release,u.release),yield t(d,i.threshold,u.threshold)):(yield n(d,i.attack,u.attack),yield n(d,i.knee,u.knee),yield n(d,i.ratio,u.ratio),yield n(d,i.release,u.release),yield n(d,i.threshold,u.threshold)),yield o(i,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,i){const d=s.get(i);return void 0!==d?Promise.resolve(d):c(l,i)}}})(Xe,Dr,ce,Qe,Se),Pc=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),f={...Ps,...u},b=n(h,f),p=c(h);super(d,!1,b,p?e():null),this._attack=r(this,p,b.attack),this._knee=r(this,p,b.knee),this._nativeDynamicsCompressorNode=b,this._ratio=r(this,p,b.ratio),this._release=r(this,p,b.release),this._threshold=r(this,p,b.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=u,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,"max"===d)throw this._nativeDynamicsCompressorNode.channelCountMode=u,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(be,qe,Rc,Dr,Me,ie,se,_t),Fc=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(i,d){let u=e(i);const h=Ae(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value})),s.set(d,u),h?yield t(d,i.gain,u.gain):yield n(d,i.gain,u.gain),yield o(i,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,i){const d=s.get(i);return void 0!==d?Promise.resolve(d):c(l,i)}}})(Xe,Re,ce,Qe,Se),Lc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=o(l),u={...Gs,...i},h=n(d,u),f=s(d);super(l,!1,h,f?e():null),this._gain=r(this,f,h.gain,Ie,xe)}get gain(){return this._gain}})(be,qe,Fc,Re,ie,se),Bc=((t,r,e,n)=>(o,s,{channelCount:c,channelCountMode:l,channelInterpretation:i,feedback:d,feedforward:u})=>{const h=fr(s,o.sampleRate),f=d instanceof Float64Array?d:new Float64Array(d),b=u instanceof Float64Array?u:new Float64Array(u),p=f.length,m=b.length,v=Math.min(p,m);if(0===p||p>20)throw n();if(0===f[0])throw r();if(0===m||m>20)throw n();if(0===b[0])throw r();if(1!==f[0]){for(let w=0;w<m;w+=1)b[w]/=f[0];for(let w=1;w<p;w+=1)f[w]/=f[0]}const g=e(o,h,c,c);g.channelCount=c,g.channelCountMode=l,g.channelInterpretation=i;const A=[],M=[],_=[];for(let w=0;w<c;w+=1){A.push(0);const I=new Float32Array(32),T=new Float32Array(32);I.fill(0),T.fill(0),M.push(I),_.push(T)}g.onaudioprocess=w=>{const I=w.inputBuffer,T=w.outputBuffer,k=I.numberOfChannels;for(let S=0;S<k;S+=1){const P=I.getChannelData(S),L=T.getChannelData(S);A[S]=dr(f,p,b,m,v,M[S],_[S],A[S],32,P,L)}};const N=o.sampleRate/2;return Mt({get bufferSize(){return h},get channelCount(){return g.channelCount},set channelCount(w){g.channelCount=w},get channelCountMode(){return g.channelCountMode},set channelCountMode(w){g.channelCountMode=w},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(w){g.channelInterpretation=w},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener:(...w)=>g.addEventListener(w[0],w[1],w[2]),dispatchEvent:(...w)=>g.dispatchEvent(w[0]),getFrequencyResponse(w,I,T){if(w.length!==I.length||I.length!==T.length)throw t();const k=w.length;for(let S=0;S<k;S+=1){const P=-Math.PI*(w[S]/N),L=[Math.cos(P),Math.sin(P)],V=Hi(br(b,L),br(f,L));I[S]=Math.sqrt(V[0]*V[0]+V[1]*V[1]),T[S]=Math.atan2(V[1],V[0])}},removeEventListener:(...w)=>g.removeEventListener(w[0],w[1],w[2])},g)})(an,ge,Ut,Me),ln=((t,r,e,n)=>o=>t(gt,()=>gt(o))?Promise.resolve(t(n,n)).then(s=>{if(!s){const c=e(o,512,0,1);o.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>o.currentTime,c.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const c=r(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{c.disconnect(),s(l.renderedBuffer)},c.connect(o.destination),o.startRendering()}))(Le,Re,Ut,((t,r)=>()=>{if(null===r)return Promise.resolve(!1);const e=new r(1,1,44100),n=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{e.oncomplete=()=>{n.disconnect(),o(0!==e.currentTime)},e.startRendering()})})(Re,we)),Vc=((t,r,e,n,o)=>(s,c)=>{const l=new WeakMap;let i=null;const d=function(){var u=ee(function*(h,f){let b=null,p=r(h);const m=Ae(p,f);if(void 0===f.createIIRFilter?b=t(f,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=f.createIIRFilter(c,s)),l.set(f,null===b?p:b),null!==b){if(null===i){if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new e(h.context.destination.channelCount,h.context.length,f.sampleRate);i=ee(function*(){return yield n(h,g,g.destination),((t,r,e,n)=>{const o=e instanceof Float64Array?e:new Float64Array(e),s=n instanceof Float64Array?n:new Float64Array(n),c=o.length,l=s.length,i=Math.min(c,l);if(1!==o[0]){for(let p=0;p<c;p+=1)s[p]/=o[0];for(let p=1;p<l;p+=1)o[p]/=o[0]}const u=new Float32Array(32),h=new Float32Array(32),f=r.createBuffer(t.numberOfChannels,t.length,t.sampleRate),b=t.numberOfChannels;for(let p=0;p<b;p+=1){const m=t.getChannelData(p),v=f.getChannelData(p);u.fill(0),h.fill(0),dr(o,c,s,l,i,u,h,0,32,m,v)}return f})(yield o(g),f,s,c)})()}const v=yield i;return b.buffer=v,b.start(0),b}return yield n(h,f,p),p});return function(f,b){return u.apply(this,arguments)}}();return{render(u,h){const f=l.get(h);return void 0!==f?Promise.resolve(f):d(u,h)}}})(kt,ce,we,Se,ln),Wc=(t=>(r,e,n)=>{if(void 0===r.createIIRFilter)return t(r,e,n);const o=r.createIIRFilter(n.feedforward,n.feedback);return _e(o,n),o})(Bc),Zc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=n(l),u=o(d),h={...ti,...i},f=r(d,u?null:l.baseLatency,h);super(l,!1,f,u?e(h.feedback,h.feedforward):null),(t=>{var r;t.getFrequencyResponse=(r=t.getFrequencyResponse,(e,n,o)=>{if(e.length!==n.length||n.length!==o.length)throw an();return r.call(t,e,n,o)})})(f),this._nativeIIRFilterNode=f,s(this,1)}getFrequencyResponse(l,i,d){return this._nativeIIRFilterNode.getFrequencyResponse(l,i,d)}})(be,Wc,Vc,ie,se,_t),Uc=((t,r,e,n,o,s,c,l)=>(i,d)=>{const u=d.listener,{forwardX:f,forwardY:b,forwardZ:p,positionX:m,positionY:v,positionZ:g,upX:y,upY:A,upZ:M}=void 0===u.forwardX?(()=>{const _=new Float32Array(1),N=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=c(d);let w=!1,I=[0,0,-1,0,1,0],T=[0,0,0];const k=()=>{if(w)return;w=!0;const B=n(d,256,9,0);B.onaudioprocess=({inputBuffer:F})=>{const V=[s(F,_,0),s(F,_,1),s(F,_,2),s(F,_,3),s(F,_,4),s(F,_,5)];V.some((G,$)=>G!==I[$])&&(u.setOrientation(...V),I=V);const Y=[s(F,_,6),s(F,_,7),s(F,_,8)];Y.some((G,$)=>G!==T[$])&&(u.setPosition(...Y),T=Y)},N.connect(B)},S=B=>F=>{F!==I[B]&&(I[B]=F,u.setOrientation(...I))},P=B=>F=>{F!==T[B]&&(T[B]=F,u.setPosition(...T))},L=(B,F,V)=>{const Y=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F});Y.connect(N,0,B),Y.start(),Object.defineProperty(Y.offset,"defaultValue",{get:()=>F});const G=t({context:i},C,Y.offset,Ie,xe);return l(G,"value",$=>()=>$.call(G),$=>Q=>{try{$.call(G,Q)}catch(ae){if(9!==ae.code)throw ae}k(),C&&V(Q)}),G.cancelAndHoldAtTime=($=G.cancelAndHoldAtTime,C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae}),G.cancelScheduledValues=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.cancelScheduledValues),G.exponentialRampToValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.exponentialRampToValueAtTime),G.linearRampToValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.linearRampToValueAtTime),G.setTargetAtTime=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.setTargetAtTime),G.setValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.setValueAtTime),G.setValueCurveAtTime=($=>C?()=>{throw o()}:(...Q)=>{const ae=$.apply(G,Q);return k(),ae})(G.setValueCurveAtTime),G;var $};return{forwardX:L(0,0,S(0)),forwardY:L(1,0,S(1)),forwardZ:L(2,-1,S(2)),positionX:L(6,0,P(0)),positionY:L(7,0,P(1)),positionZ:L(8,0,P(2)),upX:L(3,0,S(3)),upY:L(4,1,S(4)),upZ:L(5,0,S(5))}})():u;return{get forwardX(){return f},get forwardY(){return b},get forwardZ(){return p},get positionX(){return m},get positionY(){return v},get positionZ(){return g},get upX(){return y},get upY(){return A},get upZ(){return M}}})(qe,at,Et,Ut,Me,_r,se,Gt),xr=new WeakMap,Bn=((t,r,e,n,o,s)=>class extends e{constructor(l,i){super(l),this._nativeContext=l,Ht.set(this,l),n(l)&&o.set(l,new Set),this._destination=new t(this,i),this._listener=r(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const i="function"==typeof l?s(this,l):null;this._nativeContext.onstatechange=i;const d=this._nativeContext.onstatechange;this._onstatechange=null!==d&&d===i?l:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(vc,Uc,Mr,se,xr,Tt),Rr=((t,r,e,n,o,s)=>(c,l)=>{const i=c.createOscillator();return _e(i,l),fe(i,l,"detune"),fe(i,l,"frequency"),void 0!==l.periodicWave?i.setPeriodicWave(l.periodicWave):le(i,l,"type"),r(e,()=>e(c))||In(i),r(n,()=>n(c))||s(i,c),r(o,()=>o(c))||kn(i),t(c,i),i})(cn,Le,En,Cr,On,wr),Gc=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null,i=null;const d=function(){var u=ee(function*(h,f){let b=e(h);const p=Ae(b,f);return p||(b=r(f,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:null===c?void 0:c,type:b.type}),null!==l&&b.start(l),null!==i&&b.stop(i)),s.set(f,b),p?(yield t(f,h.detune,b.detune),yield t(f,h.frequency,b.frequency)):(yield n(f,h.detune,b.detune),yield n(f,h.frequency,b.frequency)),yield o(h,f,b),b});return function(f,b){return u.apply(this,arguments)}}();return{set periodicWave(u){c=u},set start(u){l=u},set stop(u){i=u},render(u,h){const f=s.get(h);return void 0!==f?Promise.resolve(f):d(u,h)}}})(Xe,Rr,ce,Qe,Se),Yc=((t,r,e,n,o,s,c)=>class extends t{constructor(i,d){const u=o(i),h={...ha,...d},f=e(u,h),b=s(u),p=b?n():null,m=i.sampleRate/2;super(i,!1,f,p),this._detune=r(this,b,f.detune,153600,-153600),this._frequency=r(this,b,f.frequency,m,-m),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=p,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(i){const d="function"==typeof i?c(this,i):null;this._nativeOscillatorNode.onended=d;const u=this._nativeOscillatorNode.onended;this._onended=null!==u&&u===d?i:u}get type(){return this._nativeOscillatorNode.type}set type(i){this._nativeOscillatorNode.type=i,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(i){this._nativeOscillatorNode.setPeriodicWave(i),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=i)}start(i=0){if(this._nativeOscillatorNode.start(i),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=i),"closed"!==this.context.state){St(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),tt(this)&&Lt(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(i=0){this._nativeOscillatorNode.stop(i),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=i)}})(be,qe,Rr,Gc,ie,se,Tt),Pr=(t=>(r,e)=>{const n=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=r.createBuffer(1,2,44100);return n.buffer=o,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}})(kt),jc=((t,r,e,n,o)=>(s,{curve:c,oversample:l,...i})=>{const d=s.createWaveShaper(),u=s.createWaveShaper();_e(d,i),_e(u,i);const h=e(s,{...i,gain:1}),f=e(s,{...i,gain:-1}),b=e(s,{...i,gain:1}),p=e(s,{...i,gain:-1});let m=null,v=!1,g=null;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(_){h.channelCount=_,f.channelCount=_,d.channelCount=_,b.channelCount=_,u.channelCount=_,p.channelCount=_},get channelCountMode(){return d.channelCountMode},set channelCountMode(_){h.channelCountMode=_,f.channelCountMode=_,d.channelCountMode=_,b.channelCountMode=_,u.channelCountMode=_,p.channelCountMode=_},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(_){h.channelInterpretation=_,f.channelInterpretation=_,d.channelInterpretation=_,b.channelInterpretation=_,u.channelInterpretation=_,p.channelInterpretation=_},get context(){return d.context},get curve(){return g},set curve(_){if(null!==_&&_.length<2)throw r();if(null===_)d.curve=_,u.curve=_;else{const N=_.length,C=new Float32Array(N+2-N%2),w=new Float32Array(N+2-N%2);C[0]=_[0],w[0]=-_[N-1];const I=Math.ceil((N+1)/2),T=(N+1)/2-1;for(let k=1;k<I;k+=1){const S=k/I*T,P=Math.floor(S),L=Math.ceil(S);C[k]=P===L?_[P]:(1-(S-P))*_[P]+(1-(L-S))*_[L],w[k]=P===L?-_[N-1-P]:-(1-(S-P))*_[N-1-P]-(1-(L-S))*_[N-1-L]}C[I]=N%2==1?_[I-1]:(_[I-2]+_[I-1])/2,d.curve=C,u.curve=w}g=_,v&&(n(g)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(_){d.oversample=_,u.oversample=_},addEventListener:(..._)=>h.addEventListener(_[0],_[1],_[2]),dispatchEvent:(..._)=>h.dispatchEvent(_[0]),removeEventListener:(..._)=>h.removeEventListener(_[0],_[1],_[2])};return null!==c&&(y.curve=c instanceof Float32Array?c:new Float32Array(c)),l!==y.oversample&&(y.oversample=l),o(Mt(y,b),()=>{h.connect(d).connect(b),h.connect(f).connect(u).connect(p).connect(b),v=!0,n(g)&&(m=t(s,h))},()=>{h.disconnect(d),d.disconnect(b),h.disconnect(f),f.disconnect(u),u.disconnect(p),p.disconnect(b),v=!1,null!==m&&(m(),m=null)})})(Pr,ge,Re,vr,it),un=((t,r,e,n,o,s,c)=>(l,i)=>{const d=l.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===l.createGain().gain.automationRate)return e(l,i);_e(d,i);const u=null===i.curve||i.curve instanceof Float32Array?i.curve:new Float32Array(i.curve);if(null!==u&&u.length<2)throw r();le(d,{curve:u},"curve"),le(d,i,"oversample");let h=null,f=!1;return c(d,"curve",m=>()=>m.call(d),m=>v=>(m.call(d,v),f&&(n(v)&&null===h?h=t(l,d):!n(v)&&null!==h&&(h(),h=null)),v)),o(d,()=>{f=!0,n(d.curve)&&(h=t(l,d))},()=>{f=!1,null!==h&&(h(),h=null)})})(Pr,ge,jc,vr,it,nt,Gt),qc=((t,r,e,n,o,s,c,l,i,d)=>(u,{coneInnerAngle:h,coneOuterAngle:f,coneOuterGain:b,distanceModel:p,maxDistance:m,orientationX:v,orientationY:g,orientationZ:y,panningModel:A,positionX:M,positionY:_,positionZ:N,refDistance:C,rolloffFactor:w,...I})=>{const T=u.createPanner();if(I.channelCount>2||"max"===I.channelCountMode)throw c();_e(T,I);const k={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},S=e(u,{...k,channelInterpretation:"speakers",numberOfInputs:6}),P=n(u,{...I,gain:1}),L=n(u,{...k,gain:1}),B=n(u,{...k,gain:0}),F=n(u,{...k,gain:0}),V=n(u,{...k,gain:0}),Y=n(u,{...k,gain:0}),G=n(u,{...k,gain:0}),$=o(u,256,6,1),Q=s(u,{...k,curve:new Float32Array([1,1]),oversample:"none"});let ae=[v,g,y],ve=[M,_,N];const Ee=new Float32Array(1);$.onaudioprocess=({inputBuffer:D})=>{const ye=[i(D,Ee,0),i(D,Ee,1),i(D,Ee,2)];ye.some((Ot,Dt)=>Ot!==ae[Dt])&&(T.setOrientation(...ye),ae=ye);const $e=[i(D,Ee,3),i(D,Ee,4),i(D,Ee,5)];$e.some((Ot,Dt)=>Ot!==ve[Dt])&&(T.setPosition(...$e),ve=$e)},Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(D){if(D>2)throw c();P.channelCount=D,T.channelCount=D},get channelCountMode(){return T.channelCountMode},set channelCountMode(D){if("max"===D)throw c();P.channelCountMode=D,T.channelCountMode=D},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(D){P.channelInterpretation=D,T.channelInterpretation=D},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(D){T.coneInnerAngle=D},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(D){T.coneOuterAngle=D},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(D){if(D<0||D>1)throw r();T.coneOuterGain=D},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(D){T.distanceModel=D},get inputs(){return[P]},get maxDistance(){return T.maxDistance},set maxDistance(D){if(D<0)throw new RangeError;T.maxDistance=D},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return L.gain},get orientationY(){return B.gain},get orientationZ(){return F.gain},get panningModel(){return T.panningModel},set panningModel(D){T.panningModel=D},get positionX(){return V.gain},get positionY(){return Y.gain},get positionZ(){return G.gain},get refDistance(){return T.refDistance},set refDistance(D){if(D<0)throw new RangeError;T.refDistance=D},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(D){if(D<0)throw new RangeError;T.rolloffFactor=D},addEventListener:(...D)=>P.addEventListener(D[0],D[1],D[2]),dispatchEvent:(...D)=>P.dispatchEvent(D[0]),removeEventListener:(...D)=>P.removeEventListener(D[0],D[1],D[2])};return h!==K.coneInnerAngle&&(K.coneInnerAngle=h),f!==K.coneOuterAngle&&(K.coneOuterAngle=f),b!==K.coneOuterGain&&(K.coneOuterGain=b),p!==K.distanceModel&&(K.distanceModel=p),m!==K.maxDistance&&(K.maxDistance=m),v!==K.orientationX.value&&(K.orientationX.value=v),g!==K.orientationY.value&&(K.orientationY.value=g),y!==K.orientationZ.value&&(K.orientationZ.value=y),A!==K.panningModel&&(K.panningModel=A),M!==K.positionX.value&&(K.positionX.value=M),_!==K.positionY.value&&(K.positionY.value=_),N!==K.positionZ.value&&(K.positionZ.value=N),C!==K.refDistance&&(K.refDistance=C),w!==K.rolloffFactor&&(K.rolloffFactor=w),(1!==ae[0]||0!==ae[1]||0!==ae[2])&&T.setOrientation(...ae),(0!==ve[0]||0!==ve[1]||0!==ve[2])&&T.setPosition(...ve),d(Mt(K,T),()=>{P.connect(T),t(P,Q,0,0),Q.connect(L).connect(S,0,0),Q.connect(B).connect(S,0,1),Q.connect(F).connect(S,0,2),Q.connect(V).connect(S,0,3),Q.connect(Y).connect(S,0,4),Q.connect(G).connect(S,0,5),S.connect($).connect(u.destination)},()=>{P.disconnect(T),l(P,Q,0,0),Q.disconnect(L),L.disconnect(S),Q.disconnect(B),B.disconnect(S),Q.disconnect(F),F.disconnect(S),Q.disconnect(V),V.disconnect(S),Q.disconnect(Y),Y.disconnect(S),Q.disconnect(G),G.disconnect(S),S.disconnect($),$.disconnect(u.destination)})})(Kt,ge,at,Re,Ut,un,Me,en,_r,it),Fr=(t=>(r,e)=>{const n=r.createPanner();return void 0===n.orientationX?t(r,e):(_e(n,e),fe(n,e,"orientationX"),fe(n,e,"orientationY"),fe(n,e,"orientationZ"),fe(n,e,"positionX"),fe(n,e,"positionY"),fe(n,e,"positionZ"),le(n,e,"coneInnerAngle"),le(n,e,"coneOuterAngle"),le(n,e,"coneOuterGain"),le(n,e,"distanceModel"),le(n,e,"maxDistance"),le(n,e,"panningModel"),le(n,e,"refDistance"),le(n,e,"rolloffFactor"),n)})(qc),zc=((t,r,e,n,o,s,c,l,i,d)=>()=>{const u=new WeakMap;let h=null;const f=function(){var b=ee(function*(p,m){let v=null,g=s(p);const y={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},A={...y,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},M=Ae(g,m);if("bufferSize"in g)v=n(m,{...y,gain:1});else if(!M){const _={...A,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=o(m,_)}if(u.set(m,null===v?g:v),null!==v){if(null===h){if(null===c)throw new Error("Missing the native OfflineAudioContext constructor.");const S=new c(6,p.context.length,m.sampleRate),P=r(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(S.destination),h=ee(function*(){const L=yield Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(function(){var B=ee(function*(F,V){const Y=e(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===V?1:0});return yield l(S,F,Y.offset),Y});return function(F,V){return B.apply(this,arguments)}}()));for(let B=0;B<6;B+=1)L[B].connect(P,0,B),L[B].start(0);return d(S)})()}const _=yield h,N=n(m,{...y,gain:1});yield i(p,m,N);const C=[];for(let S=0;S<_.numberOfChannels;S+=1)C.push(_.getChannelData(S));let w=[C[0][0],C[1][0],C[2][0]],I=[C[3][0],C[4][0],C[5][0]],T=n(m,{...y,gain:1}),k=o(m,{...A,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:I[0],positionY:I[1],positionZ:I[2]});N.connect(T).connect(k.inputs[0]),k.connect(v);for(let S=128;S<_.length;S+=128){const P=[C[0][S],C[1][S],C[2][S]],L=[C[3][S],C[4][S],C[5][S]];if(P.some((B,F)=>B!==w[F])||L.some((B,F)=>B!==I[F])){w=P,I=L;const B=S/m.sampleRate;T.gain.setValueAtTime(0,B),T=n(m,{...y,gain:0}),k=o(m,{...A,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:I[0],positionY:I[1],positionZ:I[2]}),T.gain.setValueAtTime(1,B),N.connect(T).connect(k.inputs[0]),k.connect(v)}}return v}return M?(yield t(m,p.orientationX,g.orientationX),yield t(m,p.orientationY,g.orientationY),yield t(m,p.orientationZ,g.orientationZ),yield t(m,p.positionX,g.positionX),yield t(m,p.positionY,g.positionY),yield t(m,p.positionZ,g.positionZ)):(yield l(m,p.orientationX,g.orientationX),yield l(m,p.orientationY,g.orientationY),yield l(m,p.orientationZ,g.orientationZ),yield l(m,p.positionX,g.positionX),yield l(m,p.positionY,g.positionY),yield l(m,p.positionZ,g.positionZ)),At(g)?yield i(p,m,g.inputs[0]):yield i(p,m,g),g});return function(m,v){return b.apply(this,arguments)}}();return{render(b,p){const m=u.get(p);return void 0!==m?Promise.resolve(m):f(b,p)}}})(Xe,at,Et,Re,Fr,ce,we,Qe,Se,ln),Hc=((t,r,e,n,o,s,c)=>class extends t{constructor(i,d){const u=o(i),h={...ma,...d},f=e(u,h),b=s(u);super(i,!1,f,b?n():null),this._nativePannerNode=f,this._orientationX=r(this,b,f.orientationX,Ie,xe),this._orientationY=r(this,b,f.orientationY,Ie,xe),this._orientationZ=r(this,b,f.orientationZ,Ie,xe),this._positionX=r(this,b,f.positionX,Ie,xe),this._positionY=r(this,b,f.positionY,Ie,xe),this._positionZ=r(this,b,f.positionZ,Ie,xe),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(i){this._nativePannerNode.coneInnerAngle=i}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(i){this._nativePannerNode.coneOuterAngle=i}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(i){this._nativePannerNode.coneOuterGain=i}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(i){this._nativePannerNode.distanceModel=i}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(i){this._nativePannerNode.maxDistance=i}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(i){this._nativePannerNode.panningModel=i}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(i){this._nativePannerNode.refDistance=i}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(i){this._nativePannerNode.rolloffFactor=i}})(be,qe,Fr,zc,ie,se,_t),Xc=(t=>(r,{disableNormalization:e,imag:n,real:o})=>{const s=n instanceof Float32Array?n:new Float32Array(n),c=o instanceof Float32Array?o:new Float32Array(o),l=r.createPeriodicWave(c,s,{disableNormalization:e});if(Array.from(n).length<2)throw t();return l})(He),Qc=((t,r,e,n)=>class eo{constructor(s,c){const l=r(s),i=(t=>{const{imag:r,real:e}=t;return void 0===r?void 0===e?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(e,()=>0),real:e}:void 0===e?{...t,imag:r,real:Array.from(r,()=>0)}:{...t,imag:r,real:e}})({..._a,...c}),d=t(l,i);return e.add(d),d}static[Symbol.hasInstance](s){return null!==s&&"object"==typeof s&&Object.getPrototypeOf(s)===eo.prototype||e.has(s)}})(Xc,ie,new WeakSet),$c=((t,r,e,n,o,s)=>{const l=new Float32Array([1,1]),i=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...d,oversample:"none"},b=(p,m,v,g,y)=>{if(1===m)return((p,m,v,g)=>{const y=new Float32Array(16385),A=new Float32Array(16385);for(let I=0;I<16385;I+=1){const T=I/16384*i;y[I]=Math.cos(T),A[I]=Math.sin(T)}const M=e(p,{...d,gain:0}),_=n(p,{...u,curve:y}),N=n(p,{...u,curve:l}),C=e(p,{...d,gain:0}),w=n(p,{...u,curve:A});return{connectGraph(){m.connect(M),m.connect(void 0===N.inputs?N:N.inputs[0]),m.connect(C),N.connect(v),v.connect(void 0===_.inputs?_:_.inputs[0]),v.connect(void 0===w.inputs?w:w.inputs[0]),_.connect(M.gain),w.connect(C.gain),M.connect(g,0,0),C.connect(g,0,1)},disconnectGraph(){m.disconnect(M),m.disconnect(void 0===N.inputs?N:N.inputs[0]),m.disconnect(C),N.disconnect(v),v.disconnect(void 0===_.inputs?_:_.inputs[0]),v.disconnect(void 0===w.inputs?w:w.inputs[0]),_.disconnect(M.gain),w.disconnect(C.gain),M.disconnect(g,0,0),C.disconnect(g,0,1)}}})(p,v,g,y);if(2===m)return((p,m,v,g)=>{const y=new Float32Array(16385),A=new Float32Array(16385),M=new Float32Array(16385),_=new Float32Array(16385),N=Math.floor(8192.5);for(let V=0;V<16385;V+=1)if(V>N){const Y=(V-N)/(16384-N)*i;y[V]=Math.cos(Y),A[V]=Math.sin(Y),M[V]=0,_[V]=1}else{const Y=V/(16384-N)*i;y[V]=1,A[V]=0,M[V]=Math.cos(Y),_[V]=Math.sin(Y)}const C=r(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=e(p,{...d,gain:0}),I=n(p,{...u,curve:y}),T=e(p,{...d,gain:0}),k=n(p,{...u,curve:A}),S=n(p,{...u,curve:l}),P=e(p,{...d,gain:0}),L=n(p,{...u,curve:M}),B=e(p,{...d,gain:0}),F=n(p,{...u,curve:_});return{connectGraph(){m.connect(C),m.connect(void 0===S.inputs?S:S.inputs[0]),C.connect(w,0),C.connect(T,0),C.connect(P,1),C.connect(B,1),S.connect(v),v.connect(void 0===I.inputs?I:I.inputs[0]),v.connect(void 0===k.inputs?k:k.inputs[0]),v.connect(void 0===L.inputs?L:L.inputs[0]),v.connect(void 0===F.inputs?F:F.inputs[0]),I.connect(w.gain),k.connect(T.gain),L.connect(P.gain),F.connect(B.gain),w.connect(g,0,0),P.connect(g,0,0),T.connect(g,0,1),B.connect(g,0,1)},disconnectGraph(){m.disconnect(C),m.disconnect(void 0===S.inputs?S:S.inputs[0]),C.disconnect(w,0),C.disconnect(T,0),C.disconnect(P,1),C.disconnect(B,1),S.disconnect(v),v.disconnect(void 0===I.inputs?I:I.inputs[0]),v.disconnect(void 0===k.inputs?k:k.inputs[0]),v.disconnect(void 0===L.inputs?L:L.inputs[0]),v.disconnect(void 0===F.inputs?F:F.inputs[0]),I.disconnect(w.gain),k.disconnect(T.gain),L.disconnect(P.gain),F.disconnect(B.gain),w.disconnect(g,0,0),P.disconnect(g,0,0),T.disconnect(g,0,1),B.disconnect(g,0,1)}}})(p,v,g,y);throw o()};return(p,{channelCount:m,channelCountMode:v,pan:g,...y})=>{if("max"===v)throw o();const A=t(p,{...y,channelCount:1,channelCountMode:v,numberOfInputs:2}),M=e(p,{...y,channelCount:m,channelCountMode:v,gain:1}),_=e(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:N,disconnectGraph:C}=b(p,m,M,_,A);Object.defineProperty(_.gain,"defaultValue",{get:()=>0}),Object.defineProperty(_.gain,"maxValue",{get:()=>1}),Object.defineProperty(_.gain,"minValue",{get:()=>-1});const w={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(S){M.channelCount!==S&&(I&&C(),({connectGraph:N,disconnectGraph:C}=b(p,S,M,_,A)),I&&N()),M.channelCount=S},get channelCountMode(){return M.channelCountMode},set channelCountMode(S){if("clamped-max"===S||"max"===S)throw o();M.channelCountMode=S},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(S){M.channelInterpretation=S},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return _.gain},addEventListener:(...S)=>M.addEventListener(S[0],S[1],S[2]),dispatchEvent:(...S)=>M.dispatchEvent(S[0]),removeEventListener:(...S)=>M.removeEventListener(S[0],S[1],S[2])};let I=!1;return s(Mt(w,A),()=>{N(),I=!0},()=>{C(),I=!1})}})(at,Zt,Re,un,Me,it),Lr=((t,r)=>(e,n)=>{const o=n.channelCountMode;if("clamped-max"===o)throw r();if(void 0===e.createStereoPanner)return t(e,n);const s=e.createStereoPanner();return _e(s,n),fe(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>o,set:c=>{if(c!==o)throw r()}}),s})($c,Me),Jc=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=ee(function*(i,d){let u=e(i);const h=Ae(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value})),s.set(d,u),h?yield t(d,i.pan,u.pan):yield n(d,i.pan,u.pan),At(u)?yield o(i,d,u.inputs[0]):yield o(i,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,i){const d=s.get(i);return void 0!==d?Promise.resolve(d):c(l,i)}}})(Xe,Lr,ce,Qe,Se),Kc=((t,r,e,n,o,s)=>class extends t{constructor(l,i){const d=o(l),u={...Ta,...i},h=e(d,u),f=s(d);super(l,!1,h,f?n():null),this._pan=r(this,f,h.pan)}get pan(){return this._pan}})(be,qe,Lr,Jc,ie,se),el=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=ee(function*(c,l){let i=r(c);return Ae(i,l)||(i=t(l,{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,curve:i.curve,oversample:i.oversample})),n.set(l,i),At(i)?yield e(c,l,i.inputs[0]):yield e(c,l,i),i});return function(l,i){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(un,ce,Se),tl=((t,r,e,n,o,s,c)=>class extends t{constructor(i,d){const u=o(i),h={...qa,...d},f=e(u,h);super(i,!0,f,s(u)?n():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(i){if(null===i)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(i.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=i}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(i){this._nativeWaveShaperNode.oversample=i}})(be,ge,un,el,ie,se,_t),Br=(t=>null!==t&&t.isSecureContext)(je),Vn=(t=>(r,e,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(r*e)},currentTime:{configurable:!0,get:()=>r}});try{return n()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(je),Vr=new WeakMap,nl=((t,r)=>e=>{let n=t.get(e);if(void 0!==n)return n;if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new r(1,1,44100),t.set(e,n),n})(Vr,we),rl=Br?((t,r,e,n,o,s,c,l,i,d,u,h,f)=>{let b=0;return(p,m,v={credentials:"omit"})=>{const g=u.get(p);if(void 0!==g&&g.has(m))return Promise.resolve();const y=d.get(p);if(void 0!==y){const _=y.get(m);if(void 0!==_)return _}const A=s(p),M=void 0===A.audioWorklet?o(m).then(([_,N])=>{const[C,w]=Qn(_,N);return e(`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}\n})})(window,'_AWGS')`)}).then(()=>{const _=f._AWGS.pop();if(void 0===_)throw new SyntaxError;n(A.currentTime,A.sampleRate,()=>_(class{},void 0,(N,C)=>{if(""===N.trim())throw r();const w=yn.get(A);if(void 0!==w){if(w.has(N))throw r();Jn(C),$n(C.parameterDescriptors),w.set(N,C)}else Jn(C),$n(C.parameterDescriptors),yn.set(A,new Map([[N,C]]))},A.sampleRate,void 0,void 0))}):Promise.all([o(m),Promise.resolve(t(h,h))]).then(([[_,N],C])=>{const w=b+1;b=w;const[I,T]=Qn(_,N),B=new Blob([`${I};((AudioWorkletProcessor,registerProcessor)=>{${T}\n})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),F=URL.createObjectURL(B);return A.audioWorklet.addModule(F,v).then(()=>{if(l(A))return A;const V=c(A);return V.audioWorklet.addModule(F,v).then(()=>V)}).then(V=>{if(null===i)throw new SyntaxError;try{new i(V,`__sac${w}`)}catch(Y){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(F))});return void 0===y?d.set(p,new Map([[m,M]])):y.set(m,M),M.then(()=>{const _=u.get(p);void 0===_?u.set(p,new Set([m])):_.add(m)}).finally(()=>{const _=d.get(p);void 0!==_&&_.delete(m)}),M}})(Le,Me,(t=>r=>new Promise((e,n)=>{if(null===t)return void n(new SyntaxError);const o=t.document.head;if(null===o)n(new SyntaxError);else{const s=t.document.createElement("script"),c=new Blob([r],{type:"application/javascript"}),l=URL.createObjectURL(c),i=t.onerror,d=()=>{t.onerror=i,URL.revokeObjectURL(l)};t.onerror=(u,h,f,b,p)=>h===l||h===t.location.href&&1===f&&1===b?(d(),n(p),!1):null!==i?i(u,h,f,b,p):void 0,s.onerror=()=>{d(),n(new SyntaxError)},s.onload=()=>{d(),e()},s.src=l,s.type="module",o.appendChild(s)}}))(je),Vn,function(){var r=ee(function*(e){try{const n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch(n){}throw new DOMException("","AbortError")});return function(e){return r.apply(this,arguments)}}(),ie,nl,se,It,new WeakMap,new WeakMap,((t,r)=>ee(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new r(1,128,44100),o=URL.createObjectURL(e);let s=!1,c=!1;try{yield n.audioWorklet.addModule(o);const l=new t(n,"a",{numberOfOutputs:0}),i=n.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>c=!0,i.connect(l),i.start(0),yield n.startRendering()}catch(l){}finally{URL.revokeObjectURL(o)}return s&&!c}))(It,we),je):void 0,ol=((t,r)=>e=>t(e)||r(e))(xn,se),sl=((t,r,e,n,o,s,c,l,i,d,u)=>(h,f)=>{const b=c(h)?h:s(h);if(o.has(f)){const p=new DOMException("","DataCloneError");return Promise.reject(p)}try{o.add(f)}catch(p){}return r(i,()=>i(b))?b.decodeAudioData(f).then(p=>(ur(f).catch(()=>{}),r(l,()=>l(p))||u(p),t.add(p),p)):new Promise((p,m)=>{const v=function(){var y=ee(function*(){try{yield ur(f)}catch(A){}});return function(){return y.apply(this,arguments)}}(),g=y=>{m(y),v()};try{b.decodeAudioData(f,y=>{"function"!=typeof y.copyFromChannel&&(d(y),Nn(y)),t.add(y),v().then(()=>p(y))},y=>{g(null===y?new DOMException("","EncodingError"):y)})}catch(y){g(y)}})})(Pn,Le,0,0,new WeakSet,ie,ol,Qt,gt,Fn,Ln),Wr=((t,r,e,n,o,s,c,l,i,d,u,h,f,b,p,m,v,g,y,A)=>class extends p{constructor(_,N){super(_,N),this._nativeContext=_,this._audioWorklet=void 0===t?void 0:{addModule:(C,w)=>t(this,C,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new o(this)}createBuffer(_,N,C){return new e({length:N,numberOfChannels:_,sampleRate:C})}createBufferSource(){return new n(this)}createChannelMerger(_=6){return new s(this,{numberOfInputs:_})}createChannelSplitter(_=6){return new c(this,{numberOfOutputs:_})}createConstantSource(){return new l(this)}createConvolver(){return new i(this)}createDelay(_=1){return new u(this,{maxDelayTime:_})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(_,N){return new b(this,{feedback:N,feedforward:_})}createOscillator(){return new m(this)}createPanner(){return new v(this)}createPeriodicWave(_,N,C={disableNormalization:!1}){return new g(this,{...C,imag:N,real:_})}createStereoPanner(){return new y(this)}createWaveShaper(){return new A(this)}decodeAudioData(_,N,C){return d(this._nativeContext,_).then(w=>("function"==typeof N&&N(w),w),w=>{throw"function"==typeof C&&C(w),w})}})(rl,mc,bc,_c,Cc,Sc,Mc,kc,Oc,sl,xc,Pc,Lc,Zc,Bn,Yc,Hc,Qc,Kc,tl),il=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),i=((t,r)=>t.createMediaElementSource(r.mediaElement))(l,c);if(n(l))throw TypeError();super(s,!0,i,null),this._nativeMediaElementAudioSourceNode=i}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(be,0,ie,se),al=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s);if(n(l))throw new TypeError;const d=((t,r)=>{const e=t.createMediaStreamDestination();return _e(e,r),1===e.numberOfOutputs&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e})(l,{..._i,...c});super(s,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(be,0,ie,se),cl=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),i=((t,{mediaStream:r})=>{const e=r.getAudioTracks();e.sort((s,c)=>s.id<c.id?-1:s.id>c.id?1:0);const n=e.slice(0,1),o=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(o,"mediaStream",{value:r}),o})(l,c);if(n(l))throw new TypeError;super(s,!0,i,null),this._nativeMediaStreamAudioSourceNode=i}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(be,0,ie,se),ll=((t,r)=>(e,{mediaStreamTrack:n})=>{if("function"==typeof e.createMediaStreamTrackSource)return e.createMediaStreamTrackSource(n);const o=new MediaStream([n]),s=e.createMediaStreamSource(o);if("audio"!==n.kind)throw t();if(r(e))throw new TypeError;return s})(ge,se),ul=((t,r,e)=>class extends t{constructor(o,s){const c=e(o);super(o,!0,r(c,s),null)}})(be,ll,ie),Zr=((t,r,e,n,o,s,c,l,i)=>class extends t{constructor(u={}){if(null===i)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new i(u)}catch(p){throw 12===p.code&&"sampleRate is not in range"===p.message?e():p}if(null===h)throw n();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==u.sampleRate&&h.sampleRate!==u.sampleRate)throw e();super(h,2);const{latencyHint:f}=u,{sampleRate:b}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===f?512/b:"interactive"===f||void 0===f?256/b:"playback"===f?1024/b:128*Math.max(2,Math.min(128,Math.round(f*b/128)))/b,this._nativeAudioContext=h,"webkitAudioContext"===i.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const p=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",p)};h.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw r()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),(t=>{Sn(t.destination,[])})(this)}))}createMediaElementSource(u){return new o(this,{mediaElement:u})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(u){return new c(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new l(this,{mediaStreamTrack:u})}resume(){return"suspended"===this._state?new Promise((u,h)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),"running"===this._nativeAudioContext.state?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(u=>{throw void 0===u||15===u.code?r():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw void 0===u?r():u})}})(Wr,ge,Me,gr,il,al,cl,ul,nt),Wn=(t=>r=>{const e=t.get(r);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e})(xr),Ur=((t=>{})(Wn),(t=>(r,e,n=0,o=0)=>{const s=r[n];if(void 0===s)throw t();return nn(e)?s.connect(e,0,o):s.connect(e,0)})(He)),hl=(t=>(r,e)=>{t(r).delete(e)})(Wn),Gr=(t=>(r,e,n,o=0)=>void 0===e?r.forEach(s=>s.disconnect()):"number"==typeof e?sn(t,r,e).disconnect():nn(e)?void 0===n?r.forEach(s=>s.disconnect(e)):void 0===o?sn(t,r,n).disconnect(e,0):sn(t,r,n).disconnect(e,0,o):void 0===n?r.forEach(s=>s.disconnect(e)):sn(t,r,n).disconnect(e,0))(He),Yr=new WeakMap,fl=((t,r)=>e=>r(t,e))(Yr,Ye),pl=((t,r,e,n,o,s,c,l,i,d,u,h,f)=>(b,p,m,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw i();const g=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(g.some(x=>x<1))throw i();if(g.length!==v.numberOfOutputs)throw r();if("explicit"!==v.channelCountMode)throw i();const y=v.channelCount*v.numberOfInputs,A=g.reduce((x,j)=>x+j,0),M=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(y+M>6||A>6)throw i();const _=new MessageChannel,N=[],C=[];for(let x=0;x<v.numberOfInputs;x+=1)N.push(c(b,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),C.push(o(b,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const w=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:x,maxValue:j,minValue:Ce,name:he}of m.parameterDescriptors){const te=s(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[he]?v.parameterData[he]:void 0===x?0:x});Object.defineProperties(te.offset,{defaultValue:{get:()=>void 0===x?0:x},maxValue:{get:()=>void 0===j?Ie:j},minValue:{get:()=>void 0===Ce?xe:Ce}}),w.push(te)}const I=n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+M)}),T=fr(p,b.sampleRate),k=l(b,T,y+M,Math.max(1,A)),S=o(b,{channelCount:Math.max(1,A),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,A)}),P=[];for(let x=0;x<v.numberOfOutputs;x+=1)P.push(n(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[x]}));for(let x=0;x<v.numberOfInputs;x+=1){N[x].connect(C[x]);for(let j=0;j<v.channelCount;j+=1)C[x].connect(I,j,x*v.channelCount+j)}const L=new cr(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:x},j)=>{const Ce=w[j];return Ce.connect(I,0,y+j),Ce.start(0),[x,Ce.offset]}));I.connect(k);let B=v.channelInterpretation,F=null;const V=0===v.numberOfOutputs?[k]:P,Y={get bufferSize(){return T},get channelCount(){return v.channelCount},set channelCount(x){throw e()},get channelCountMode(){return v.channelCountMode},set channelCountMode(x){throw e()},get channelInterpretation(){return B},set channelInterpretation(x){for(const j of N)j.channelInterpretation=x;B=x},get context(){return k.context},get inputs(){return N},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(x){"function"==typeof F&&Y.removeEventListener("processorerror",F),F="function"==typeof x?x:null,"function"==typeof F&&Y.addEventListener("processorerror",F)},get parameters(){return L},get port(){return _.port2},addEventListener:(...x)=>k.addEventListener(x[0],x[1],x[2]),connect:t.bind(null,V),disconnect:d.bind(null,V),dispatchEvent:(...x)=>k.dispatchEvent(x[0]),removeEventListener:(...x)=>k.removeEventListener(x[0],x[1],x[2])},G=new Map;var x;_.port1.addEventListener=(x=_.port1.addEventListener,(...j)=>{if("message"===j[0]){const Ce="function"==typeof j[1]?j[1]:"object"==typeof j[1]&&null!==j[1]&&"function"==typeof j[1].handleEvent?j[1].handleEvent:null;if(null!==Ce){const he=G.get(j[1]);void 0!==he?j[1]=he:(j[1]=te=>{u(b.currentTime,b.sampleRate,()=>Ce(te))},G.set(Ce,j[1]))}}return x.call(_.port1,j[0],j[1],j[2])}),_.port1.removeEventListener=(x=>(...j)=>{if("message"===j[0]){const Ce=G.get(j[1]);void 0!==Ce&&(G.delete(j[1]),j[1]=Ce)}return x.call(_.port1,j[0],j[1],j[2])})(_.port1.removeEventListener);let $=null;Object.defineProperty(_.port1,"onmessage",{get:()=>$,set:x=>{"function"==typeof $&&_.port1.removeEventListener("message",$),$="function"==typeof x?x:null,"function"==typeof $&&(_.port1.addEventListener("message",$),_.port1.start())}}),m.prototype.port=_.port1;let Q=null;((t,r,e,n)=>{let o=Cn.get(t);void 0===o&&(o=new WeakMap,Cn.set(t,o));const s=Bi(e,n);return o.set(r,s),s})(b,Y,m,v).then(x=>Q=x);const ve=on(v.numberOfInputs,v.channelCount),Ee=on(v.numberOfOutputs,g),K=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((x,{name:j})=>({...x,[j]:new Float32Array(128)}),{});let rt=!0;const ct=()=>{v.numberOfOutputs>0&&k.disconnect(S);for(let x=0,j=0;x<v.numberOfOutputs;x+=1){const Ce=P[x];for(let he=0;he<g[x];he+=1)S.disconnect(Ce,j+he,he);j+=g[x]}},D=new Map;k.onaudioprocess=({inputBuffer:x,outputBuffer:j})=>{if(null!==Q){const Ce=h(Y);for(let he=0;he<T;he+=128){for(let te=0;te<v.numberOfInputs;te+=1)for(let pe=0;pe<v.channelCount;pe+=1)rn(x,ve[te],pe,pe,he);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:te},pe)=>{rn(x,K,te,y+pe,he)});for(let te=0;te<v.numberOfInputs;te+=1)for(let pe=0;pe<g[te];pe+=1)0===Ee[te][pe].byteLength&&(Ee[te][pe]=new Float32Array(128));try{const te=ve.map((Ze,lt)=>{if(Ce[lt].size>0)return D.set(lt,T/128),Ze;const Zn=D.get(lt);return void 0===Zn?[]:(Ze.every(hu=>hu.every(fu=>0===fu))&&(1===Zn?D.delete(lt):D.set(lt,Zn-1)),Ze)});rt=u(b.currentTime+he/b.sampleRate,b.sampleRate,()=>Q.process(te,Ee,K));for(let Ze=0,lt=0;Ze<v.numberOfOutputs;Ze+=1){for(let Yt=0;Yt<g[Ze];Yt+=1)lr(j,Ee[Ze],Yt,lt+Yt,he);lt+=g[Ze]}}catch(te){rt=!1,Y.dispatchEvent(new ErrorEvent("processorerror",{colno:te.colno,filename:te.filename,lineno:te.lineno,message:te.message}))}if(!rt){for(let te=0;te<v.numberOfInputs;te+=1){N[te].disconnect(C[te]);for(let pe=0;pe<v.channelCount;pe+=1)C[he].disconnect(I,pe,te*v.channelCount+pe)}if(void 0!==m.parameterDescriptors){const te=m.parameterDescriptors.length;for(let pe=0;pe<te;pe+=1){const Ze=w[pe];Ze.disconnect(I,0,y+pe),Ze.stop()}}I.disconnect(k),k.onaudioprocess=null,ye?ct():Dt();break}}}};let ye=!1;const $e=c(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ot=()=>k.connect($e).connect(b.destination),Dt=()=>{k.disconnect($e),$e.disconnect()};return Ot(),f(Y,()=>{if(rt){Dt(),v.numberOfOutputs>0&&k.connect(S);for(let x=0,j=0;x<v.numberOfOutputs;x+=1){const Ce=P[x];for(let he=0;he<g[x];he+=1)S.connect(Ce,j+he,he);j+=g[x]}}ye=!0},()=>{rt&&(Ot(),ct()),ye=!1})})(Ur,He,ge,at,Zt,Et,Re,Ut,Me,Gr,Vn,fl,it),vl=(((t,r,e,n,o)=>{})(ge,pl,Re,Me,it),((t,r,e,n,o,s,c,l,i,d,u,h,f,b,p,m)=>{})(Xe,Ur,kt,at,Zt,Et,Re,hl,Gr,Vn,ce,It,we,Qe,Se,ln),(t=>{})(Vr),(t=>{})(Yr),((t,r)=>{})(Me,we),((t,r,e,n,o,s,c,l)=>{})(Pn,Le,Dn,Wn,ln,Qt,Fn,Ln),()=>bi(Le,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch(o){return!1}return!0})(we),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const r=new t,e=void 0!==r.close;try{r.close()}catch(n){}return e})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);return new Promise(e=>{let n=!0;const o=c=>{n&&(n=!1,r.startRendering(),e(c instanceof TypeError))};let s;try{s=r.decodeAudioData(null,()=>{},o)}catch(c){o(c)}void 0!==s&&s.catch(o)})})(we),(t=>()=>{if(null===t)return!1;let r;try{r=new t({latencyHint:"balanced"})}catch(e){return!1}return r.close(),!0})(nt),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(we),((t,r)=>ee(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new MessageChannel,o=new r(1,128,44100),s=URL.createObjectURL(e);let c=!1;try{yield o.audioWorklet.addModule(s);const l=new t(o,"a",{numberOfOutputs:0}),i=o.createOscillator();yield new Promise(d=>{l.port.onmessage=()=>d(),l.port.postMessage(n.port2,[n.port2])}),l.port.onmessage=()=>c=!0,i.connect(l),i.start(0),yield o.startRendering(),c=yield new Promise(d=>{n.port1.onmessage=({data:u})=>d(1===u),n.port1.postMessage(0)})}catch(l){}finally{n.port1.close(),URL.revokeObjectURL(s)}return c}))(It,we),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch(n){return!0}return!1})(we),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100);return void 0===r.createConstantSource||r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(we),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100),e=r.createConvolver();e.buffer=r.createBuffer(1,1,r.sampleRate);try{e.buffer=r.createBuffer(1,1,r.sampleRate)}catch(n){return!1}return!0})(we),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch(n){return!1}return!0})(we),ac,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(je),(t=>()=>{if(null===t)return!1;const r=new t;try{return r.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}finally{r.close()}})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);if(void 0===r.createStereoPanner||void 0===r.createConstantSource)return Promise.resolve(!0);const e=r.createConstantSource(),n=r.createStereoPanner();return e.channelCount=1,e.offset.value=1,n.channelCount=1,e.start(),e.connect(n).connect(r.destination),r.startRendering().then(o=>1!==o.getChannelData(0)[0])})(we),cc));var t;function yl(t){return new Zr({latencyHint:t})}class zr extends Zr{}function Cl(){return vl}const Hr=new a.OlP("LATENCY_HINT"),wl=new a.OlP("IS_SUPPORTED_PROMISE");let Nl=(()=>{class t{static forChild(){return{ngModule:t}}static forRoot(e){return{ngModule:t,providers:[{deps:[Hr],provide:zr,useFactory:yl},{provide:Hr,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[{provide:wl,useFactory:Cl}],imports:[[Z.ez]]}),t})(),Sl=(()=>{class t{constructor(e,n,o,s){this.lobbyStore=e,this.lobbyMusicHttpService=n,this.socket=o,this.audioContext=s,this.subscriptions=[]}ngOnInit(){var e=this;this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=.5,this.gainNode.connect(this.audioContext.destination),this.subscriptions=[this.lobbyStore.currentLobbyMusicId.subscribe(function(){var n=ee(function*(o){var s;if(null!==o){yield e.audioContext.resume();const c=yield e.audioContext.decodeAudioData(o);e.source=e.audioContext.createBufferSource(),e.source.buffer=c,e.source.connect(e.gainNode),e.source.start()}else null===(s=e.source)||void 0===s||s.stop()});return function(o){return n.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(n=>{var o;n&&n.status!==Fe.D.PlayingMusic&&(null===(o=this.source)||void 0===o||o.stop())})]}ngOnDestroy(){var e;null===(e=this.source)||void 0===e||e.stop(),this.audioContext.suspend(),this.subscriptions.forEach(n=>n.unsubscribe())}updateVolume(e){this.gainNode.gain.value=e.value}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Be),a.Y36(uo),a.Y36(Ue.i),a.Y36(zr))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-audio-player"]],decls:1,vars:5,consts:[["aria-label","unit(s)","color","primary",3,"value","vertical","min","max","step","input"]],template:function(e,n){1&e&&(a.TgZ(0,"mat-slider",0),a.NdJ("input",function(s){return n.updateVolume(s)}),a.qZA()),2&e&&a.Q6J("value",n.gainNode.gain.value)("vertical",!0)("min",0)("max",1)("step",.001)},directives:[Pt],encapsulation:2}),t})(),Al=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-countdown"]],decls:2,vars:3,template:function(e,n){1&e&&(a._uU(0),a.ALo(1,"async")),2&e&&a.hij("",a.lcZ(1,1,n.counter),"\n")},pipes:[Z.Ov],encapsulation:2}),t})();var Ml=E(9646),Tl=E(9094),Il=E(3900),Xr=E(3092);const kl=["answerInput"],El=["trigger"];function Ol(t,r){if(1&t&&a._UZ(0,"mat-option",7),2&t){const e=r.$implicit;a.Q6J("value",e.name)("innerHtml","<span>"+e.highlight+"</span>",a.oJD)}}let Dl=(()=>{class t{constructor(e,n,o,s,c){this.lobbyHttpService=e,this.lobbyStore=n,this.gameHttpService=o,this.socket=s,this.cdf=c,this.myControl=new W.NI,this.me=null,this.lobbyStatuses=Fe.D,this.subscriptions=[]}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,Tl.x)(),(0,Il.w)(e=>e?this.gameHttpService.getNames(e):(0,Ml.of)(null)))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{var n;null!==e&&((null===(n=this.me)||void 0===n?void 0:n.role)===ne.Spectator?this.myControl.disable():e.status===Fe.D.AnswerReveal?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.me=e,(this.me.role==ne.Spectator||!0===e.correctAnswer)&&this.myControl.disable())})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(oe.Y),a.Y36(Be),a.Y36(Gn.q),a.Y36(Ue.i),a.Y36(a.sBO))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-answer"]],viewQuery:function(e,n){if(1&e&&(a.Gf(kl,5),a.Gf(El,5)),2&e){let o;a.iGM(o=a.CRH())&&(n.answerInput=o.first),a.iGM(o=a.CRH())&&(n.matAutocompleteTrigger=o.first)}},decls:10,vars:9,consts:[[3,"ngSubmit"],["id","lobby-autocomplete",2,"width","100%"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(e,n){if(1&e&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||!n.myControl.value||n.submit()}),a.TgZ(1,"mat-form-field",1),a._UZ(2,"input",2,3),a.TgZ(5,"mat-autocomplete",4,5),a.NdJ("optionSelected",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||n.submit()}),a.YNc(7,Ol,1,2,"mat-option",6),a.ALo(8,"slice"),a.ALo(9,"async"),a.qZA()()()),2&e){const o=a.MAs(6);a.xp6(2),a.Q6J("formControl",n.myControl)("matAutocomplete",o),a.xp6(5),a.Q6J("ngForOf",a.Dn7(8,3,a.lcZ(9,7,n.gameNames),0,30))}},directives:[W._Y,W.JL,W.F,dt.KE,Je.Nt,W.Fj,Xr.ZL,W.JJ,W.oH,Xr.XC,Z.sg,Ne.ey],pipes:[Z.OU,Z.Ov],encapsulation:2}),t})(),xl=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Be))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-center-container"]],decls:5,vars:0,consts:[[1,"bg-dark","p-4","h-100"],[1,"d-flex","flex-column","justify-content-between"],[1,"row","justify-content-end"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"div",1),a._UZ(2,"app-lobby-audio-player",2)(3,"app-lobby-countdown")(4,"app-lobby-answer"),a.qZA()())},directives:[Sl,Al,Dl],encapsulation:2}),t})(),Rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-playing"]],decls:10,vars:0,consts:[[1,"row"],[1,"col-md-3"],[1,"mt-2"],[1,"col-md-6"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div"),a._UZ(3,"app-lobby-information"),a.qZA(),a.TgZ(4,"div",2),a._UZ(5,"app-lobby-answer-reveal"),a.qZA()(),a.TgZ(6,"div",3),a._UZ(7,"app-lobby-center-container"),a.qZA(),a.TgZ(8,"div",1),a._UZ(9,"app-button-play"),a.qZA()())},directives:[oo,ao,xl,Un],encapsulation:2}),t})();var We=E(1777);function Pl(t,r){1&t&&a._UZ(0,"i",7)}function Fl(t,r){1&t&&a._UZ(0,"i",8)}function Ll(t,r){if(1&t&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&t){const e=a.oxw().$implicit;a.xp6(1),a.hij("-> ",e.answer,"")}}const Bl=function(t){return{"text-muted":t}};function Vl(t,r){if(1&t&&(a.TgZ(0,"div",2)(1,"span",3),a.YNc(2,Pl,1,0,"i",4),a.YNc(3,Fl,1,0,"i",5),a._uU(4),a.YNc(5,Ll,2,1,"span",6),a.qZA()()),2&t){const e=r.$implicit,n=a.oxw();a.xp6(1),a.Q6J("@userStatus",n.getStatusClass(e))("ngClass",a.VKq(6,Bl,e.disconnected||e.role===n.lobbyUserRoles.Spectator)),a.xp6(1),a.Q6J("ngIf",e.role===n.lobbyUserRoles.Host),a.xp6(1),a.Q6J("ngIf",e.role===n.lobbyUserRoles.Spectator&&!e.disconnected),a.xp6(1),a.hij(" ",e.user.username," "),a.xp6(1),a.Q6J("ngIf",e.answer)}}let Wl=(()=>{class t{constructor(e){this.lobbyStore=e,this.showRank=!1,this.lobbyStatuses=Fe.D,this.lobbyUserRoles=ne,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{this.users=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobbyStatus=e.status})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusClass(e){return!1===e.correctAnswer?"wrongAnswer":!0===e.correctAnswer?"correctAnswer":"default"}animationDone(e){console.log(e)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(Be))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],["class","user-card bg-dark mx-2 text-center p-1",4,"ngFor","ngForOf"],[1,"user-card","bg-dark","mx-2","text-center","p-1"],[3,"ngClass"],["class","fa fa-star mr-1",4,"ngIf"],["class","fa fa-ghost mr-1",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-star","mr-1"],[1,"fa","fa-ghost","mr-1"]],template:function(e,n){1&e&&(a.TgZ(0,"div",0),a.YNc(1,Vl,6,8,"div",1),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngForOf",n.users))},directives:[Z.sg,Z.mk,Z.O5],encapsulation:2,data:{animation:[(0,We.X$)("userStatus",[(0,We.SB)("wrongAnswer",(0,We.oB)({color:"white"})),(0,We.SB)("correctAnswer",(0,We.oB)({color:"green"})),(0,We.SB)("default",(0,We.oB)({color:"white"})),(0,We.eR)("* => wrongAnswer",[(0,We.jt)("1s",(0,We.F4)([(0,We.oB)({color:"red",offset:0}),(0,We.oB)({color:"white",offset:.75})]))])])]}}),t})();function Zl(t,r){1&t&&(a.ynx(0),a._UZ(1,"app-lobby-waiting"),a.BQk())}function Ul(t,r){1&t&&(a.ynx(0),a._uU(1," Loading musics "),a.BQk())}function Gl(t,r){1&t&&(a.ynx(0),a._UZ(1,"app-lobby-playing"),a.BQk())}function Yl(t,r){if(1&t&&(a.ynx(0),a.YNc(1,Zl,2,0,"ng-container",2),a.YNc(2,Ul,2,0,"ng-container",2),a.YNc(3,Gl,2,0,"ng-container",2),a._UZ(4,"app-lobby-users"),a.BQk()),2&t){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Waiting),a.xp6(1),a.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Loading),a.xp6(1),a.Q6J("ngIf",e.lobbyService.isPLaying(e.lobby))}}function jl(t,r){1&t&&a._uU(0,"loading")}let ql=(()=>{class t{constructor(e,n,o,s,c,l,i,d,u){this.lobbyHttpService=e,this.lobbyService=n,this.router=o,this.route=s,this.dialog=c,this.socket=l,this.authService=i,this.lobbyStore=d,this.snackBar=u,this.lobbyStatuses=Fe.D,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.lobbyStore.disconnect(),this.lobbyHttpService.leave().subscribe(()=>{})}ngOnInit(){this.subscriptions=[this.socket.fromEvent("UnauthorizedException").subscribe(()=>{this.socket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.socket.emitWithoutSaving("reconnect",this.lobbyCode),this.socket.emit(this.socket.lastTriedOutputEventName,...this.socket.lastTriedOutputArgs)})}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(Ke.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("lobbyJoined").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyUsers").subscribe(e=>{console.log(e),this.lobbyStore.setUsers(e)}),this.socket.fromEvent("lobby").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyMusic").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicId(e)}),this.socket.fromEvent("lobbyAnswer").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicAnswer(e)}),this.socket.fromEvent("lobbyUserAnswer").subscribe(e=>{this.lobbyStore.handleLobbyUserAnswer(e)}),this.socket.fromEvent("lobbyClosed").subscribe(e=>{this.router.navigate(["/"])}),this.socket.fromEvent("lobbyReset").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyMusicId(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(e=>{this.snackBar.open(e,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.route.paramMap.subscribe(e=>{this.lobbyCode=e.get("code")})],this.lobbyService.join(this.lobbyCode)}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(oe.Y),a.Y36(et.V),a.Y36(De.F0),a.Y36(De.gz),a.Y36(wt.uw),a.Y36(Ue.i),a.Y36(ut.e),a.Y36(Be),a.Y36(Ge.ux))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-lobby"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"]],template:function(e,n){if(1&e&&(a.YNc(0,Yl,5,3,"ng-container",0),a.YNc(1,jl,1,0,"ng-template",null,1,a.W1O)),2&e){const o=a.MAs(2);a.Q6J("ngIf",n.lobby)("ngIfElse",o)}},directives:[Z.O5,ro,Rl,Wl],encapsulation:2}),t})(),iu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[Ne.si,Ne.BQ],Ne.BQ]}),t})();var au=E(5245);const cu=[{path:"create",component:pt},{path:":code",component:ql},{path:"**",redirectTo:"create"}];let lu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({providers:[oe.Y],imports:[[Z.ez,De.Bz.forChild(cu),Ct.m,O,Ge.ZX,iu,U.AV,Nl.forRoot("balanced"),au.Ps]]}),t})()},8021:function(X,me,E){!function(Z,a,W,ne){"use strict";function ue(J){return J&&"object"==typeof J&&"default"in J?J:{default:J}}var Oe=ue(a),oe=ue(W),De=ue(ne),Ue=function(R,q,O){return{endTime:q,insertTime:O,type:"exponentialRampToValue",value:R}},ot=function(R,q,O){return{endTime:q,insertTime:O,type:"linearRampToValue",value:R}},ut=function(R,q){return{startTime:q,type:"setValue",value:R}},Be=function(R,q,O){return{duration:O,startTime:q,type:"setValueCurve",values:R}},dt=function(R,q,O){var U=O.target;return U+(q-U)*Math.exp((O.startTime-R)/O.timeConstant)},Je=function(R){return"exponentialRampToValue"===R.type},Ne=function(R){return"linearRampToValue"===R.type},de=function(R){return Je(R)||Ne(R)},Pe=function(R){return"setValue"===R.type},Ve=function(R){return"setValueCurve"===R.type},xt=function J(R,q,O,z){var U=R[q];return void 0===U?z:de(U)||Pe(U)?U.value:Ve(U)?U.values[U.values.length-1]:dt(O,J(R,q-1,U.startTime,z),U)},jt=function(R,q,O,z,U){return void 0===O?[z.insertTime,U]:de(O)?[O.endTime,O.value]:Pe(O)?[O.startTime,O.value]:Ve(O)?[O.startTime+O.duration,O.values[O.values.length-1]]:[O.startTime,xt(R,q-1,O.startTime,U)]},vt=function(R){return"cancelAndHold"===R.type},Rt=function(R){return"cancelScheduledValues"===R.type},ze=function(R){return vt(R)||Rt(R)?R.cancelTime:Je(R)||Ne(R)?R.endTime:R.startTime},Te=function(R,q,O,z){var re=z.value;return O===re?re:0<O&&0<re||O<0&&re<0?O*Math.pow(re/O,(R-q)/(z.endTime-q)):0},qt=function(R,q,O,z){return O+(R-q)/(z.endTime-q)*(z.value-O)},hn=function(R,q){var U=q.values;return function(R,q){var O=Math.floor(q),z=Math.ceil(q);return O===z?R[O]:(1-(q-O))*R[O]+(1-(z-q))*R[z]}(U,(R-q.startTime)/q.duration*(U.length-1))},yt=function(R){return"setTarget"===R.type},fn=function(J){function R(q){oe.default(this,R),this._automationEvents=[],this._currenTime=0,this._defaultValue=q}return De.default(R,[{key:J,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(O){var z=ze(O);if(vt(O)||Rt(O)){var U=this._automationEvents.findIndex(function(Ge){return Rt(O)&&Ve(Ge)?Ge.startTime+Ge.duration>=z:ze(Ge)>=z}),re=this._automationEvents[U];if(-1!==U&&(this._automationEvents=this._automationEvents.slice(0,U)),vt(O)){var H=this._automationEvents[this._automationEvents.length-1];if(void 0!==re&&de(re)){if(yt(H))throw new Error("The internal list is malformed.");var ft=Ve(H)?H.startTime+H.duration:ze(H),pt=Ve(H)?H.values[H.values.length-1]:H.value,Ct=Je(re)?Te(z,ft,pt,re):qt(z,ft,pt,re),Fe=Je(re)?Ue(Ct,z,this._currenTime):ot(Ct,z,this._currenTime);this._automationEvents.push(Fe)}void 0!==H&&yt(H)&&this._automationEvents.push(ut(this.getValue(z),z)),void 0!==H&&Ve(H)&&H.startTime+H.duration>z&&(this._automationEvents[this._automationEvents.length-1]=Be(new Float32Array([6,7]),H.startTime,z-H.startTime))}}else{var Ke=this._automationEvents.findIndex(function(Ge){return ze(Ge)>z}),et=-1===Ke?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Ke-1];if(void 0!==et&&Ve(et)&&ze(et)+et.duration>z)return!1;var wt=Je(O)?Ue(O.value,O.endTime,this._currenTime):Ne(O)?ot(O.value,z,this._currenTime):O;if(-1===Ke)this._automationEvents.push(wt);else{if(Ve(O)&&z+O.duration>ze(this._automationEvents[Ke]))return!1;this._automationEvents.splice(Ke,0,wt)}}return!0}},{key:"flush",value:function(O){var z=this._automationEvents.findIndex(function(H){return ze(H)>O});if(z>1){var U=this._automationEvents.slice(z-1),re=U[0];yt(re)&&U.unshift(ut(xt(this._automationEvents,z-2,re.startTime,this._defaultValue),re.startTime)),this._automationEvents=U}}},{key:"getValue",value:function(O){if(0===this._automationEvents.length)return this._defaultValue;var z=this._automationEvents.findIndex(function(bn){return ze(bn)>O}),U=this._automationEvents[z],re=(-1===z?this._automationEvents.length:z)-1,H=this._automationEvents[re];if(void 0!==H&&yt(H)&&(void 0===U||!de(U)||U.insertTime>O))return dt(O,xt(this._automationEvents,re-1,H.startTime,this._defaultValue),H);if(void 0!==H&&Pe(H)&&(void 0===U||!de(U)))return H.value;if(void 0!==H&&Ve(H)&&(void 0===U||!de(U)||H.startTime+H.duration>O))return O<H.startTime+H.duration?hn(O,H):H.values[H.values.length-1];if(void 0!==H&&de(H)&&(void 0===U||!de(U)))return H.value;if(void 0!==U&&Je(U)){var ft=jt(this._automationEvents,re,H,U,this._defaultValue),pt=Oe.default(ft,2);return Te(O,pt[0],pt[1],U)}if(void 0!==U&&Ne(U)){var Ke=jt(this._automationEvents,re,H,U,this._defaultValue),et=Oe.default(Ke,2);return qt(O,et[0],et[1],U)}return this._defaultValue}}]),R}(Symbol.iterator);Z.AutomationEventList=fn,Z.createCancelAndHoldAutomationEvent=function(R){return{cancelTime:R,type:"cancelAndHold"}},Z.createCancelScheduledValuesAutomationEvent=function(R){return{cancelTime:R,type:"cancelScheduledValues"}},Z.createExponentialRampToValueAutomationEvent=function(R,q){return{endTime:q,type:"exponentialRampToValue",value:R}},Z.createLinearRampToValueAutomationEvent=function(R,q){return{endTime:q,type:"linearRampToValue",value:R}},Z.createSetTargetAutomationEvent=function(R,q,O){return{startTime:q,target:R,timeConstant:O,type:"setTarget"}},Z.createSetValueAutomationEvent=ut,Z.createSetValueCurveAutomationEvent=Be,Object.defineProperty(Z,"__esModule",{value:!0})}(me,E(1428),E(785),E(2919))},3915:X=>{X.exports=function me(E,Z){(null==Z||Z>E.length)&&(Z=E.length);for(var a=0,W=new Array(Z);a<Z;a++)W[a]=E[a];return W},X.exports.__esModule=!0,X.exports.default=X.exports},7572:X=>{X.exports=function me(E){if(Array.isArray(E))return E},X.exports.__esModule=!0,X.exports.default=X.exports},785:X=>{X.exports=function me(E,Z){if(!(E instanceof Z))throw new TypeError("Cannot call a class as a function")},X.exports.__esModule=!0,X.exports.default=X.exports},2919:X=>{function me(Z,a){for(var W=0;W<a.length;W++){var ne=a[W];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(Z,ne.key,ne)}}X.exports=function E(Z,a,W){return a&&me(Z.prototype,a),W&&me(Z,W),Object.defineProperty(Z,"prototype",{writable:!1}),Z},X.exports.__esModule=!0,X.exports.default=X.exports},617:X=>{X.exports=function me(E,Z){var a=null==E?null:"undefined"!=typeof Symbol&&E[Symbol.iterator]||E["@@iterator"];if(null!=a){var Oe,oe,W=[],ne=!0,ue=!1;try{for(a=a.call(E);!(ne=(Oe=a.next()).done)&&(W.push(Oe.value),!Z||W.length!==Z);ne=!0);}catch(De){ue=!0,oe=De}finally{try{!ne&&null!=a.return&&a.return()}finally{if(ue)throw oe}}return W}},X.exports.__esModule=!0,X.exports.default=X.exports},3600:X=>{X.exports=function me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},X.exports.__esModule=!0,X.exports.default=X.exports},1428:(X,me,E)=>{var Z=E(7572),a=E(617),W=E(2105),ne=E(3600);X.exports=function ue(Oe,oe){return Z(Oe)||a(Oe,oe)||W(Oe,oe)||ne()},X.exports.__esModule=!0,X.exports.default=X.exports},2105:(X,me,E)=>{var Z=E(3915);X.exports=function a(W,ne){if(W){if("string"==typeof W)return Z(W,ne);var ue=Object.prototype.toString.call(W).slice(8,-1);if("Object"===ue&&W.constructor&&(ue=W.constructor.name),"Map"===ue||"Set"===ue)return Array.from(W);if("Arguments"===ue||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue))return Z(W,ne)}},X.exports.__esModule=!0,X.exports.default=X.exports}}]);