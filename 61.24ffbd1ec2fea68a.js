"use strict";(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[61],{1061:(N,c,n)=>{n.r(c),n.d(c,{GameModule:()=>F});var r=n(9808),l=n(7771),t=n(5e3);let u=(()=>{class e{constructor(){this.loading=!1}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game-show"]],decls:0,vars:0,template:function(o,a){},encapsulation:2}),e})();var f=n(3149),d=n(8372),g=n(8746),i=n(3075),h=n(9743),v=n(7446),G=n(8636),p=n(9685);function x(e,s){if(1&e&&(t.TgZ(0,"h1"),t._uU(1),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.hij("",o.gamesCount," games")}}function y(e,s){if(1&e&&(t.TgZ(0,"form",6)(1,"div",7)(2,"div",8)(3,"div",9),t._UZ(4,"input",10),t.qZA()(),t.TgZ(5,"div",1)(6,"div",9)(7,"mat-checkbox",11),t._uU(8,"Only Show My Games"),t.qZA()()()()()),2&e){const o=t.oxw();t.Q6J("formGroup",o.form)}}function C(e,s){1&e&&(t.ynx(0),t.TgZ(1,"div",12)(2,"div",13)(3,"span",14),t._uU(4,"Loading..."),t.qZA()()(),t.BQk())}function L(e,s){1&e&&t._UZ(0,"app-game-item",18),2&e&&t.Q6J("game",s.$implicit)}function T(e,s){1&e&&(t.TgZ(0,"div",12)(1,"div",19)(2,"span",14),t._uU(3,"Loading..."),t.qZA()()())}function I(e,s){if(1&e){const o=t.EpF();t.TgZ(0,"div",15),t.NdJ("scrolled",function(){t.CHM(o);const m=t.oxw();return t.KtG(m.onScrollDown())}),t.YNc(1,L,1,1,"app-game-item",16),t.YNc(2,T,4,0,"div",17),t.qZA()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.games),t.xp6(1),t.Q6J("ngIf",o.scrollLoading)}}let Z=(()=>{class e{constructor(o,a,m){this.gameHttpService=o,this.router=a,this.activatedRoute=m,this.games=[],this.loading=!1,this.myGames=!1,this.scrollLoading=!1}ngOnInit(){this.activatedRoute.queryParamMap.subscribe(o=>{var a;this.form=new i.cw({query:new i.NI(null!==(a=o.get("query"))&&void 0!==a?a:"",i.kI.required.bind(this)),myGames:new i.NI("true"===o.get("myGames"))}),this.search()}).unsubscribe(),this.form.valueChanges.pipe((0,d.b)(250)).subscribe(()=>{this.search(),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:this.form.value,replaceUrl:!0})})}search(){this.loading=!0,this.gameHttpService.search(this.form.value,0,24).pipe((0,g.x)(()=>this.loading=!1)).subscribe(o=>{this.gamesCount=o.count,this.games=o.data})}onScrollDown(){this.scrollLoading||(this.scrollLoading=!0,this.gameHttpService.search(this.form.value,this.games.length,24).pipe((0,g.x)(()=>this.scrollLoading=!1)).subscribe(o=>{this.games=[...this.games,...o.data]}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(h.q),t.Y36(l.F0),t.Y36(l.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-game-list"]],decls:7,vars:4,consts:[[1,"row","justify-content-between"],[1,"col"],[4,"ngIf"],[3,"formGroup",4,"ngIf"],[4,"ngIf","ngIfElse"],["cardColumns",""],[3,"formGroup"],[1,"row","justify-content-between","align-items-center"],[1,"col-md-3"],[1,"form-group"],["type","text","id","exampleFormControlInput1","placeholder","game...","formControlName","query",1,"form-control"],["color","primary","formControlName","myGames"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border","orange"],[1,"sr-only"],["infinite-scroll","",1,"mt-4","row",3,"scrolled"],["class","col-6 col-md-2",3,"game",4,"ngFor","ngForOf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"col-6","col-md-2",3,"game"],["role","status",1,"spinner-border","text-primary"]],template:function(o,a){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,x,2,1,"h1",2),t.qZA()(),t.YNc(3,y,9,1,"form",3),t.YNc(4,C,5,0,"ng-container",4),t.YNc(5,I,3,2,"ng-template",null,5,t.W1O)),2&o){const m=t.MAs(6);t.xp6(2),t.Q6J("ngIf",a.gamesCount),t.xp6(1),t.Q6J("ngIf",a.form),t.xp6(1),t.Q6J("ngIf",a.loading)("ngIfElse",m)}},dependencies:[r.sg,r.O5,v.oG,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,G.F,p.Ry],encapsulation:2}),e})();var w=n(5245);const J=[{path:":slug",component:u},{path:"",component:Z}];let F=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[r.ez,l.Bz.forChild(J),f.m,w.Ps,p.Rq]}),e})()}}]);