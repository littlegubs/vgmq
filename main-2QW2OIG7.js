import{a as be,b as ie,c as ut}from"./chunk-3P5YSVTA.js";import{i as ht,j as z,k as oe,m as gt,n as re,p as ft,u as wt}from"./chunk-7ASPFPLM.js";import{a as st}from"./chunk-GHDWACS7.js";import{a as lt,b as mt,g as ct,i as pt,j as dt}from"./chunk-E5Q6D4OJ.js";import{a as at}from"./chunk-P5KROLEE.js";import"./chunk-EX5OZ4ZJ.js";import{a as Xe}from"./chunk-JEXCKRGY.js";import{D as tt,H as it,K as nt,Q as ot,S as rt,hb as ne,ja as te,v as Je,w as ve,x as Ke,y as et}from"./chunk-5KVTLUS6.js";import{a as F,b as Ze,c as C}from"./chunk-3VSYNEYF.js";import{A as N,B as S,C as j,D as Ye,E as L,a as Z,d as X,e as Ue,f as _,m as J,o as ze,p as K,q as Qe,r as ee,u as qe,v as We,w as $e,y as b}from"./chunk-3N5DGQTQ.js";import{$ as ke,$b as Ve,A as Se,Ba as V,Bb as h,Ca as $,Cc as Be,Dc as H,F as Ce,Ga as Le,J as W,M as Me,Nb as p,Oa as B,Oc as Ge,Pb as Oe,R as Ie,Ra as ue,X as Ee,Xb as o,Yb as r,Zb as l,_b as Pe,bc as G,ca as E,da as y,fa as Ae,gc as f,ha as M,hb as De,hc as T,ia as de,ib as c,la as Te,lb as Y,mb as Fe,mc as he,n as pe,nb as d,nc as ge,ob as Ne,oc as fe,qa as k,ra as A,sa as O,sc as U,ta as P,tc as a,uc as we,vb as g,vc as I,wa as je,wb as x,xb as Re,y as q,za as He}from"./chunk-5HLPFG4U.js";import{a as _e}from"./chunk-GAL4ENT6.js";var vt=(()=>{class e{authService;constructor(t){this.authService=t}intercept(t,i){return i.handle(this.addAuthenticationToken(t)).pipe(Ce(n=>{if(n&&n.status===401)return new RegExp(`^${b.apiEndpoint}(?!/auth(?!/logout))`).test(t.url)?this.authService.refreshToken().pipe(Ee(()=>i.handle(this.addAuthenticationToken(t)))):(new RegExp(`^${b.apiEndpoint}/auth/refresh`).test(t.url)&&this.authService.logout(),pe(()=>n));if(n&&(n.status===503||n.status===0))this.authService.VGMQMaintenanceSubject.next(!0);else return pe(()=>n)}))}addAuthenticationToken(t){return new RegExp(`^${b.apiEndpoint}/auth(?!/logout)`).test(t.url)||!new RegExp(`^${b.apiEndpoint}(?!/auth(?!/logout))`).test(t.url)||this.authService.getAccessToken()===null?t:t.clone(_e({withCredentials:!0},!b.production&&{setHeaders:{Authorization:`Bearer ${this.authService.getAccessToken()}`}}))}static \u0275fac=function(i){return new(i||e)(M(C))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var se=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=g({type:e,selectors:[["app-maintenance"]],decls:6,vars:0,consts:[[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-center","tw-h-[100vh]"],["src","assets/svg/vgmq.svg","alt","VGMQ logo"],[1,"tw-mt-3"],["mode","indeterminate",1,"tw-mt-3"]],template:function(i,n){i&1&&(o(0,"div",0),l(1,"img",1),o(2,"div",2)(3,"span"),a(4,"is under maintenance! We will come back shortly! "),r(),l(5,"mat-progress-bar",3),r()())},dependencies:[Xe],encapsulation:2})}return e})();var bt=e=>({"is-invalid":e});function Vt(e,s){if(e&1&&(o(0,"div",27),a(1),r()),e&2){let t=T();c(),I(" ",t.formErrorMessage," ")}}function Bt(e,s){if(e&1&&(o(0,"div",28),a(1),r()),e&2){let t=s.ngIf;c(),I(" ",t," ")}}function Gt(e,s){if(e&1&&(o(0,"div",28),a(1),r()),e&2){let t=s.ngIf;c(),I(" ",t," ")}}function Ut(e,s){e&1&&l(0,"span",29)}var ae=(()=>{class e{fb;router;authHttpService;authService;recaptchaService;loginForm;formErrorMessage;loading=!1;environment=b;subscribers=[];constructor(t,i,n,m,u){this.fb=t,this.router=i,this.authHttpService=n,this.authService=m,this.recaptchaService=u,this.loginForm=this.fb.group({email:["",ve.required.bind(this)],password:["",ve.required.bind(this)]}),this.subscribers.push(this.recaptchaService.resolved.subscribe(v=>{this.loginUser(v)}))}ngAfterViewInit(){this.recaptchaService.render()}ngOnDestroy(){this.subscribers.forEach(t=>t.unsubscribe())}loginUser(t){this.loading=!0,this.authHttpService.login(this.loginForm.value,t).pipe(Me(()=>this.loading=!1)).subscribe({next:i=>{i!==null&&(b.production||(this.authService.setAccessTokenCookie(i.accessToken),this.authService.setRefreshTokenCookie(i.refreshToken)));let n=sessionStorage.getItem("pastedUrl"),m=sessionStorage.getItem("pastedUrlQueryParams");n?(sessionStorage.removeItem("pastedUrl"),sessionStorage.removeItem("pastedUrlQueryParams"),this.router.navigate([n],m?{queryParams:JSON.parse(m)}:void 0)):this.router.navigate([""])},error:i=>{Array.isArray(i.message)?i.message.map(n=>{if(typeof n!="string"){let m=this.loginForm.get(n.property);m?.markAsTouched(),m?.setErrors({serverError:n.errors})}}):this.formErrorMessage=i.message,this.recaptchaService.reset()}})}googleAuth(){this.authService.loginWithGoogle()}static \u0275fac=function(i){return new(i||e)(d(rt),d(S),d(F),d(C),d(st))};static \u0275cmp=g({type:e,selectors:[["app-login"]],standalone:!1,decls:36,vars:12,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-flex-col",3,"ngSubmit","formGroup"],["class","col-md-12 alert alert-danger tw-text-center","role","alert",4,"ngIf"],["type","email","formControlName","email","placeholder","Email","required","",1,"form-control","!tw-bg-grey","tw-text-center","tw-w-[300px]","md:tw-w-[400px]","tw-h-[53px]","tw-mt-8","tw-mb-2","tw-rounded-md","placeholder:tw-text-white",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","Password",1,"form-control","!tw-bg-grey","tw-text-center","tw-w-[300px]","md:tw-w-[400px]","tw-h-[53px]","tw-rounded-md","placeholder:tw-text-white",3,"ngClass"],["id","g-recaptcha"],["type","submit",1,"tw-h-btn","tw-w-btn","tw-bg-lime","tw-mt-6","tw-text-black","tw-border-none",3,"disabled"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["routerLink","/reset-password",1,"tw-font-poppins","tw-text-sm","tw-text-white","tw-mt-5","tw-no-underline"],[1,"tw-text-sm","tw-text-white"],["routerLink","/register",1,"tw-text-[#59EE7F]","tw-no-underline"],[1,"tw-flex","tw-items-center","tw-my-4"],[1,"tw-flex-grow","tw-border-solid","tw-border-lime"],[1,"tw-text-base","tw-font-bold","tw-mx-4","tw-text-white"],[1,"tw-flex","tw-justify-center"],[1,"gsi-material-button",3,"click"],[1,"gsi-material-button-state"],[1,"gsi-material-button-content-wrapper"],[1,"gsi-material-button-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",0,"xmlns","xlink","http://www.w3.org/1999/xlink",2,"display","block"],["fill","#EA4335","d","M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"],["fill","#4285F4","d","M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"],["fill","#FBBC05","d","M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"],["fill","#34A853","d","M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"],["fill","none","d","M0 0h48v48H0z"],[1,"gsi-material-button-contents"],[2,"display","none"],["role","alert",1,"col-md-12","alert","alert-danger","tw-text-center"],[1,"invalid-feedback"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(i,n){if(i&1&&(o(0,"form",0),f("ngSubmit",function(){return n.loading||n.recaptchaService.execute()}),h(1,Vt,2,1,"div",1),l(2,"input",2),h(3,Bt,2,1,"div",3),l(4,"input",4),h(5,Gt,2,1,"div",3),l(6,"div",5),o(7,"button",6),h(8,Ut,1,0,"span",7),a(9," Login "),r(),o(10,"a",8),a(11,"Forgot your password?"),r(),o(12,"p",9),a(13," Don\u2019t have account? "),o(14,"a",10),a(15,"Register Here"),r()()(),o(16,"div",11),l(17,"div",12),o(18,"span",13),a(19,"OR"),r(),l(20,"div",12),r(),o(21,"div",14)(22,"button",15),f("click",function(){return n.googleAuth()}),l(23,"div",16),o(24,"div",17)(25,"div",18),O(),o(26,"svg",19),l(27,"path",20)(28,"path",21)(29,"path",22)(30,"path",23)(31,"path",24),r()(),P(),o(32,"span",25),a(33,"Sign in with Google"),r(),o(34,"span",26),a(35,"Sign in with Google"),r()()()()),i&2){let m,u,v,ce;p("formGroup",n.loginForm),c(),p("ngIf",n.formErrorMessage),c(),p("ngClass",H(8,bt,((m=n.loginForm.get("email"))==null?null:m.invalid)&&(((m=n.loginForm.get("email"))==null?null:m.dirty)||((m=n.loginForm.get("email"))==null?null:m.touched)))),c(),p("ngIf",(u=n.loginForm.get("email"))==null||u.errors==null?null:u.errors.serverError),c(),p("ngClass",H(10,bt,((v=n.loginForm.get("password"))==null?null:v.invalid)&&(((v=n.loginForm.get("password"))==null?null:v.dirty)||((v=n.loginForm.get("password"))==null?null:v.touched)))),c(),p("ngIf",(ce=n.loginForm.get("password"))==null||ce.errors==null?null:ce.errors.serverError),c(2),p("disabled",n.loading),c(),p("ngIf",n.loading)}},dependencies:[X,_,tt,Je,Ke,et,ot,it,nt,j],encapsulation:2})}return e})();function Qt(e,s){e&1&&l(0,"router-outlet")}function qt(e,s){e&1&&l(0,"app-login")}var xt=(()=>{class e{router;viewportScroller;constructor(t,i){this.router=t,this.viewportScroller=i}scrollToTop(){this.viewportScroller.scrollToPosition([0,0])}static \u0275fac=function(i){return new(i||e)(d(S),d(ze))};static \u0275cmp=g({type:e,selectors:[["app-anonymous"]],standalone:!1,decls:91,vars:2,consts:[["id","home",1,"tw-bg-light-green","tw-relative","tw-z-10"],[1,"tw-bg-newBlack","tw-h70"],[1,"tw-flex","tw-items-center","tw-justify-between"],["src","assets/svg/vgmq.svg","width","170","height","48",1,"tw-ml-6","tw-mt-1"],[1,"tw-flex","tw-items-center"],["href","https://discord.gg/cxqeYdfz3X","target","_blank",1,"tw-mr-2"],["src","assets/svg/icon_clyde_white_RGB.svg","width","43","height","43",1,"tw-rounded-lg"],["href","https://github.com/littlegubs/vgmq","target","_blank",1,"tw-mr-2"],["src","assets/svg/github-mark-white.svg","width","43","height","43"],["id","login-register",1,"tw-flex","tw-items-center","tw-flex-col","tw-bg-newBlack","lg:tw-rounded-bl-[300px]"],[1,"tw-w-full","md:tw-w-1/2"],[1,"!tw-text-6xl","md:!tw-text-7xl","tw-text-center"],[4,"ngIf"],["id","what-is",1,"tw-flex","tw-flex-col","tw-align-center","md:tw-flex-row","md:tw-justify-center","tw-gap-4","md:tw-bg-[unset]","tw-bg-yellow"],[1,"tw-max-w-[530px]","tw-flex","tw-flex-col","tw-items-center"],[1,"!tw-text-7xl","tw-text-black","tw-text-center"],["src","assets/svg/vgmq.svg","width","390","height","135"],[1,"tw-max-w-[530px]"],[1,"tw-text-center","tw-text-black","tw-leading-7"],["href","https://github.com/littlegubs/vgmq","target","_blank",1,"tw-text-blue-950"],["href","https://discord.gg/cxqeYdfz3X","target","_blank",1,"tw-text-blue-950"],["id","play",1,"tw-flex","tw-flex-col","md:tw-flex-row","tw-gap-4","tw-justify-center"],[1,"tw-bg-newBlack","tw-mt-20","tw-rounded-2xl","tw-max-w-[550px]","tw-h-[700px]","tw-shadow-[-40px_40px]","tw-shadow-yellow"],[1,"tw-flex","tw-flex-col","tw-justify-center","tw-h-full","tw-mx-8"],["src","assets/svg/heart.svg","width","80","height","80",1,"tw-mb-10"],[1,"!tw-text-7xl"],["width","268","height","30","viewBox","0 0 268 28","fill","none","xmlns","http://www.w3.org/2000/svg",1,"tw-text-yellow","tw-mt-4"],["d","M0 0L130.606 0L118.34 27.412H0V0Z","fill","currentColor"],["d","M146.652 0H189.107L176.841 27.412H134.386L146.652 0Z","fill","currentColor"],["d","M201.476 0H224.542L212.276 27.412H189.21L201.476 0Z","fill","currentColor"],["d","M236.911 0H249.177L236.911 27.412H224.645L236.911 0Z","fill","currentColor"],["d","M261.649 0H268L255.734 27.412H249.383L261.649 0Z","fill","currentColor"],[1,"!tw-mt-10"],[1,"tw-bg-newBlack","tw-rounded-2xl","tw-max-w-[550px]","tw-h-[700px]","tw-shadow-[40px_40px]","tw-shadow-lime","md:tw-mt-0","tw-mt-8"],["src","assets/svg/user.svg","width","80","height","80",1,"tw-mb-10"],["width","268","height","30","viewBox","0 0 268 28","fill","none","xmlns","http://www.w3.org/2000/svg",1,"tw-text-lime","tw-mt-4"],["id","games-number"],[1,"tw-flex","tw-justify-end","tw-text-center"],[1,"tw-flex","tw-flex-col","tw-items-center"],[1,"!tw-text-7xl","tw-text-black"],[1,"tw-font-poppins","tw-font-bold"],[1,"!tw-mr-2","tw-text-black"],["id","games-preview",1,"tw-flex","tw-flex-col","tw-bg-newBlack","tw-gap-4"],[1,"tw-flex","tw-gap-4","tw-overflow-hidden","mx-4","tw-justify-center"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co49x5.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co45rg.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co2855.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co1rcb.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co1rs4.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co62ao.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],[1,"tw-flex","tw-gap-4","mx-8","tw-overflow-hidden","tw-justify-center"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co1u07.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co39vc.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co4jni.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co1tnw.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co49wj.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["height","340px","src","https://images.igdb.com/igdb/image/upload/t_720p/co4adm.jpg",1,"tw-w-[240px]","lg:tw-w-[320px]"],["id","join",1,"tw-bg-newBlack","tw-flex","tw-flex-col","tw-items-center"],[1,"!tw-text-7xl","tw-text-center"],[1,"tw-h-btn","tw-w-btn","tw-bg-lime","tw-mt-6","tw-text-black","tw-border-none",3,"click"],["routerLink","/register",1,"tw-text-black","tw-no-underline"],[1,"tw-bg-[#000000]","tw-flex","tw-items-center","tw-justify-center","md:tw-justify-start","tw-h-[80px]"],[1,"tw-text-white","tw-text-sm","md:!tw-ml-16","!tw-ml-0"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"header",1)(2,"nav",2),l(3,"img",3),o(4,"div",4)(5,"a",5),l(6,"img",6),r(),o(7,"a",7),l(8,"img",8),r()()()(),o(9,"section",9)(10,"div",10)(11,"h4",11),a(12,"VIDEO GAME"),r(),o(13,"h4",11),a(14,"MUSIC QUIZ"),r()(),h(15,Qt,1,0,"router-outlet",12)(16,qt,1,0,"app-login",12),r(),o(17,"section",13)(18,"div",14)(19,"h4",15),a(20,"WHAT IS"),r(),l(21,"img",16),r(),o(22,"div",17)(23,"p",18),a(24," VGMQ is a free "),o(25,"a",19),a(26,"open source"),r(),a(27," multiplayer game that lets you challenge your friends to a fun and challenging music quiz! The questions are based on your gaming history, so you'll only hear music from games you've played ! VGMQ is still under development, but we're always adding new features and games! Feel free to join the "),o(28,"a",20),a(29,"Discord"),r(),a(30,"! "),r()()(),o(31,"section",21)(32,"div",22)(33,"div",23),l(34,"img",24),o(35,"h4",25),a(36,"FREE TO PLAY"),r(),O(),o(37,"svg",26),l(38,"path",27)(39,"path",28)(40,"path",29)(41,"path",30)(42,"path",31),r(),P(),o(43,"p",32),a(44,"VGMQ will always be free! Your support through donations helps us keep it going !"),r()()(),o(45,"div",33)(46,"div",23),l(47,"img",34),o(48,"h4",25),a(49,"PLAY WITH OTHERS"),r(),O(),o(50,"svg",35),l(51,"path",27)(52,"path",28)(53,"path",29)(54,"path",30)(55,"path",31),r(),P(),o(56,"p",32),a(57,"Challenge your friends in public or private lobbies!"),r()()()(),o(58,"section",36)(59,"div",37)(60,"div",38)(61,"h4",39)(62,"span",40),a(63,"3000+"),r(),a(64," GAMES"),r(),o(65,"p",41),a(66,"With over 100,000 songs from 3,000 games, there's something for everyone!"),r()()()(),o(67,"section",42)(68,"div",43),l(69,"img",44)(70,"img",45)(71,"img",46)(72,"img",47)(73,"img",48)(74,"img",49),r(),o(75,"div",50),l(76,"img",51)(77,"img",52)(78,"img",53)(79,"img",54)(80,"img",55)(81,"img",56),r()(),o(82,"section",57)(83,"h4",58),a(84,"join now for free"),r(),o(85,"button",59),f("click",function(){return n.scrollToTop()}),o(86,"a",60),a(87,"Register"),r()()(),o(88,"footer",61)(89,"p",62),a(90,"All Rights Reserved VGMQ 2024"),r()()()),i&2&&(c(15),p("ngIf",n.router.url!=="/"),c(),p("ngIf",n.router.url==="/"))},dependencies:[_,N,j,ae],encapsulation:2})}return e})();var le=(()=>{class e extends lt{authService;constructor(t){super({url:`${b.lobbySocketUrl}/list`,options:{transports:["websocket"]}}),this.authService=t,this.ioSocket.auth={token:this.authService.getAccessToken()}}static \u0275fac=function(i){return new(i||e)(M(C))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();var ye=e=>({"fa-circle":e});function Zt(e,s){e&1&&l(0,"i",12)}function Xt(e,s){if(e&1&&(Pe(0),a(1),Ve()),e&2){let t=T();c(),I(" ",t.lobby.currentLobbyMusicPosition,"/ ")}}var _t=(()=>{class e{router;dialog;lobby;constructor(t,i){this.router=t,this.dialog=i}joinLobby(){this.lobby.hasPassword?this.dialog.open(pt,{data:this.lobby.code}).afterClosed().subscribe(i=>{i&&this.router.navigate([`/lobby/${i.code}`])}):this.router.navigate([`/lobby/${this.lobby.code}`])}getDifficultyTitle(){return`Difficulty : ${this.lobby.difficulty.join(", ")}`}static \u0275fac=function(i){return new(i||e)(d(S),d(te))};static \u0275cmp=g({type:e,selectors:[["app-home-lobby"]],inputs:{lobby:"lobby"},standalone:!1,decls:19,vars:16,consts:[[1,"list-group-item","list-group-item-action","px-3","border-0","d-block","d-md-inline-flex","cursor-pointer",3,"click"],[1,"col-12","col-md-6"],["class","fa fa-lock pe-1",4,"ngIf"],[2,"font-weight","bold"],[1,"col-12","col-md-6","d-flex","justify-content-between"],[1,"fa","fa-users","ps-1"],[4,"ngIf"],[1,"fa","fa-music","ps-1"],[3,"title"],[1,"fa","text-success",2,"min-width","16px",3,"ngClass"],[1,"fa","text-warning",2,"min-width","16px",3,"ngClass"],[1,"fa","text-danger",2,"min-width","16px",3,"ngClass"],[1,"fa","fa-lock","pe-1"]],template:function(i,n){i&1&&(o(0,"div",0),f("click",function(){return n.joinLobby()}),o(1,"div",1),h(2,Zt,1,0,"i",2),o(3,"span",3),a(4),r()(),o(5,"div",4)(6,"span"),a(7),l(8,"i",5),r(),o(9,"span"),h(10,Xt,2,1,"ng-container",6),a(11),l(12,"i",7),r(),o(13,"span"),a(14),r(),o(15,"span",8),l(16,"i",9)(17,"i",10)(18,"i",11),r()()()),i&2&&(c(2),p("ngIf",n.lobby.hasPassword),c(2),we(n.lobby.name),c(3),we(n.lobby.lobbyUsers),c(3),p("ngIf",n.lobby.currentLobbyMusicPosition>0),c(),I(" ",n.lobby.musicNumber===-1?"\u221E":n.lobby.lobbyMusics," "),c(3),I("",n.lobby.guessTime,"s"),c(),p("title",n.getDifficultyTitle()),c(),p("ngClass",H(10,ye,n.lobby.difficulty.includes("easy"))),c(),p("ngClass",H(12,ye,n.lobby.difficulty.includes("medium"))),c(),p("ngClass",H(14,ye,n.lobby.difficulty.includes("hard"))))},dependencies:[X,_],encapsulation:2})}return e})();function Kt(e,s){if(e&1&&l(0,"app-home-lobby",11),e&2){let t=s.$implicit;p("lobby",t)}}function ei(e,s){if(e&1&&l(0,"app-home-lobby",11),e&2){let t=s.$implicit;p("lobby",t)}}var me=(()=>{class e{router;lobbyHttpService;dialog;socket;publicLobbies;customLobbies;user;subscriptions=[];constructor(t,i,n,m){this.router=t,this.lobbyHttpService=i,this.dialog=n,this.socket=m}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.socket.disconnect()}ngOnInit(){this.lobbyHttpService.list().subscribe(t=>{this.publicLobbies=t.filter(i=>!i.custom),this.customLobbies=t.filter(i=>i.custom)}),this.socket.connect(),this.subscriptions=[this.socket.fromEvent("lobbyList").subscribe(t=>{this.publicLobbies=t.filter(i=>!i.custom),this.customLobbies=t.filter(i=>i.custom)})]}static \u0275fac=function(i){return new(i||e)(d(S),d(at),d(te),d(le))};static \u0275cmp=g({type:e,selectors:[["app-home"]],standalone:!1,decls:22,vars:2,consts:[[1,"row"],[1,"col-md-6"],[1,"bg-dark","p-3","h-100","d-flex","host-lobby-container","tw-rounded-md"],[1,"w-100","align-self-center"],[1,"text-center"],["routerLink","/games"],["routerLink","/lobby/create",1,"btn","btn-lg","w-100","btn-primary"],[1,"!tw-text-3xl","!tw-font-fastup","pt-md-0","pt-4"],[1,"list-group","list-group-light"],[3,"lobby",4,"ngFor","ngForOf"],[1,"pt-4","!tw-text-3xl","!tw-font-fastup"],[3,"lobby"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),a(5,"Host a lobby with your friends!"),r(),o(6,"p",4),a(7,"You might need to "),o(8,"a",5),a(9,"add games in your list"),r(),a(10," first"),r(),o(11,"button",6),a(12,"Host"),r()()()(),o(13,"div",1)(14,"h3",7),a(15,"Public lobbies"),r(),o(16,"div",8),h(17,Kt,1,1,"app-home-lobby",9),r(),o(18,"h3",10),a(19,"Custom lobbies"),r(),o(20,"div",8),h(21,ei,1,1,"app-home-lobby",9),r()()()),i&2&&(c(17),p("ngForOf",n.publicLobbies),c(4),p("ngForOf",n.customLobbies))},dependencies:[Ue,j,_t],encapsulation:2})}return e})();var St=350,Ct=(()=>{class e{_elementRef;_renderer;constructor(t,i){this._elementRef=t,this._renderer=i}collapseClass=!0;collapseShow=new V;collapseShown=new V;collapseHide=new V;collapseHidden=new V;set collapsed(t){t!==this._collapsed&&(t?this.hide():this.show(),this._collapsed=t)}get collapsed(){return this._collapsed}_collapsed=!0;get host(){return this._elementRef.nativeElement}_isTransitioning=!1;show(){if(this._isTransitioning||!this.collapsed)return;this.collapseShow.emit(this),this._renderer.removeClass(this.host,"collapse"),this._renderer.addClass(this.host,"collapsing"),this._renderer.setStyle(this.host,"height","0px"),this._isTransitioning=!0;let t=this.host.scrollHeight;q(this.host,"transitionend").pipe(W(1)).subscribe(()=>{this._isTransitioning=!1,this.collapsed=!1,this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._renderer.addClass(this.host,"show"),this._renderer.removeStyle(this.host,"height"),this.collapseShown.emit(this)}),this._emulateTransitionEnd(this.host,St),this._renderer.setStyle(this.host,"height",`${t}px`)}hide(){if(this._isTransitioning||this.collapsed)return;this.collapseHide.emit(this);let t=this.host.getBoundingClientRect().height;this._renderer.setStyle(this.host,"height",`${t}px`),this._reflow(this.host),this._renderer.addClass(this.host,"collapsing"),this._renderer.removeClass(this.host,"collapse"),this._renderer.removeClass(this.host,"show"),this._isTransitioning=!0,q(this.host,"transitionend").pipe(W(1)).subscribe(()=>{this._renderer.removeClass(this.host,"collapsing"),this._renderer.addClass(this.host,"collapse"),this._isTransitioning=!1,this.collapsed=!0,this.collapseHidden.emit(this)}),this._renderer.removeStyle(this.host,"height"),this._emulateTransitionEnd(this.host,St)}toggle(){this._isTransitioning||(this.collapsed=!this.collapsed,this.collapsed?this.hide():this.show())}_reflow(t){return t.offsetHeight}_emulateTransitionEnd(t,i){let n=!1,u=i+5;q(t,"transitionend").pipe(W(1)).subscribe(()=>{n=!0}),setTimeout(()=>{n||t.dispatchEvent(new Event("transitionend"))},u)}static \u0275fac=function(i){return new(i||e)(d(Le),d(Fe))};static \u0275dir=Re({type:e,selectors:[["","mdbCollapse",""]],hostVars:2,hostBindings:function(i,n){i&2&&Oe("collapse",n.collapseClass)},inputs:{collapsed:"collapsed"},outputs:{collapseShow:"collapseShow",collapseShown:"collapseShown",collapseHide:"collapseHide",collapseHidden:"collapseHidden"},exportAs:["mdbCollapse"],standalone:!1})}return e})(),Mt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e});static \u0275inj=y({})}return e})();var ni=["userDropdown"],oi=["userDropdownMobile"],ri=()=>({exact:!0});function si(e,s){if(e&1){let t=G();o(0,"li",28)(1,"a",29),f("click",function(){k(t),T();let n=U(5);return A(n.hide())}),a(2,"Admin"),r()()}}function ai(e,s){if(e&1){let t=G();o(0,"div",30)(1,"a",31),f("click",function(){k(t);let n=T(),m=U(5);return n.toggleProfileMenu(),A(m.hide())}),a(2,"Profile"),r(),o(3,"a",32),f("click",function(){k(t);let n=T();return A(n.logout())}),a(4,"Logout"),r()()}}function li(e,s){if(e&1){let t=G();o(0,"div",30)(1,"a",31),f("click",function(){k(t);let n=T();return A(n.toggleProfileMenu())}),a(2,"Profile"),r(),o(3,"a",32),f("click",function(){k(t);let n=T();return A(n.logout())}),a(4,"Logout"),r()()}}var It=(()=>{class e{authService;authHttpService;isProfileOpen=!1;showAdminNav=!1;username;userDropdown;userDropdownMobile;constructor(t,i){this.authService=t,this.authHttpService=i,this.showAdminNav=this.authService.isAdmin,this.authService.userSubject.subscribe(n=>{this.username=n.username})}handleClickOut(t){this.userDropdown.nativeElement.contains(t.target)||this.userDropdownMobile.nativeElement.contains(t.target)||this.isProfileOpen&&this.toggleProfileMenu()}toggleProfileMenu(){this.isProfileOpen=!this.isProfileOpen}logout(){this.authHttpService.logout().subscribe(()=>{}),this.authService.logout()}static \u0275fac=function(i){return new(i||e)(d(C),d(F))};static \u0275cmp=g({type:e,selectors:[["app-header"]],viewQuery:function(i,n){if(i&1&&(he(ni,5),he(oi,5)),i&2){let m;ge(m=fe())&&(n.userDropdown=m.first),ge(m=fe())&&(n.userDropdownMobile=m.first)}},hostBindings:function(i,n){i&1&&f("click",function(u){return n.handleClickOut(u)},!1,De)},standalone:!1,decls:38,vars:7,consts:[["basicNav","mdbCollapse"],["userDropdownMobile",""],["userDropdown",""],[1,"navbar","navbar-expand-lg","tw-bg-newBlack"],["src","assets/svg/vgmq.svg","routerLink","/",1,"tw-ml-2","tw-mt-1","tw-w-[120px]","tw-h-[48px]","md:tw-w-[170px]","md:tw-h-[48px]","tw-cursor-pointer"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","tw-mr-2",3,"click"],[1,"fas","fa-bars"],["mdbCollapse","",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],["routerLink","/games",1,"nav-link","nav-text",3,"click"],["class","nav-item","routerLinkActive","active",4,"ngIf"],["routerLinkActive","active",1,"nav-item","tw-block","lg:tw-hidden"],["href","https://www.patreon.com/c/littlegubs","target","_blank"],["height","43px","width","43px","src","assets/svg/PATREON_SYMBOL_1_WHITE_RGB.svg"],["href","https://discord.gg/cxqeYdfz3X","target","_blank",1,"tw-mr-0.5","md:tw-mr-2"],["src","assets/svg/icon_clyde_white_RGB.svg","width","43","height","43",1,"tw-rounded-lg"],["href","https://github.com/littlegubs/vgmq","target","_blank",1,"tw-mr-0.5","md:tw-mr-2"],["src","assets/svg/github-mark-white.svg","width","43","height","43"],["routerLinkActive","active",1,"nav-item","tw-block","lg:tw-hidden","tw-mt-2"],[1,"tw-bg-[#000000]","tw-h-[40px]","tw-min-w-[100px]","tw-rounded-md","tw-flex","tw-justify-center","tw-items-center","tw-relative"],[1,"nav-link","nav-text",3,"click"],["src","assets/svg/down_arrow.svg","width","16","height","16",1,"tw-rounded-lg"],["class","tw-text-center tw-rounded-b-md tw-top-9 tw-bg-[#000000] tw-absolute tw-w-full tw-z-10",4,"ngIf"],[1,"lg:tw-flex","tw-justify-center","tw-items-center","tw-hidden"],[1,"tw-bg-[#000000]","tw-h-[40px]","tw-min-w-[100px]","tw-rounded-md","tw-flex","tw-justify-center","tw-items-center","tw-relative","tw-me-2","tw-cursor-pointer"],[1,"nav-link","nav-text","tw-ps-2",3,"click"],["href","https://www.patreon.com/c/littlegubs","target","_blank",1,"tw-mx-0.5","md:tw-mr-2"],["routerLinkActive","active",1,"nav-item"],["routerLink","/admin",1,"nav-link","nav-text",3,"click"],[1,"tw-text-center","tw-rounded-b-md","tw-top-9","tw-bg-[#000000]","tw-absolute","tw-w-full","tw-z-10"],["routerLink","/profile",1,"nav-link","nav-text","tw-p-1.5",3,"click"],[1,"nav-link","nav-text","tw-p-1.5","logout",3,"click"]],template:function(i,n){if(i&1){let m=G();o(0,"nav",3),l(1,"img",4),o(2,"button",5),f("click",function(){k(m);let v=U(5);return A(v.toggle())}),l(3,"i",6),r(),o(4,"div",7,0)(6,"ul",8)(7,"li",9)(8,"a",10),f("click",function(){k(m);let v=U(5);return A(v.hide())}),a(9,"Games"),r()(),h(10,si,3,0,"li",11),o(11,"li",12)(12,"a",13),l(13,"img",14),r(),o(14,"a",15),l(15,"img",16),r(),o(16,"a",17),l(17,"img",18),r()(),o(18,"li",19)(19,"div",20,1)(21,"a",21),f("click",function(){return k(m),A(n.toggleProfileMenu())}),a(22),l(23,"img",22),r(),h(24,ai,5,0,"div",23),r()()()(),o(25,"div",24)(26,"div",25,2)(28,"a",26),f("click",function(){return k(m),A(n.toggleProfileMenu())}),a(29),l(30,"img",22),r(),h(31,li,5,0,"div",23),r(),o(32,"a",27),l(33,"img",14),r(),o(34,"a",15),l(35,"img",16),r(),o(36,"a",17),l(37,"img",18),r()()()}i&2&&(c(7),p("routerLinkActiveOptions",Be(6,ri)),c(3),p("ngIf",n.showAdminNav),c(12),I(" ",n.username," "),c(2),p("ngIf",n.isProfileOpen),c(5),I(" ",n.username," "),c(2),p("ngIf",n.isProfileOpen))},dependencies:[_,j,Ye,Ct],encapsulation:2})}return e})();function ci(e,s){e&1&&l(0,"router-outlet")}function pi(e,s){e&1&&l(0,"app-home")}var Et=(()=>{class e{router;constructor(t){this.router=t}ngOnInit(){}static \u0275fac=function(i){return new(i||e)(d(S))};static \u0275cmp=g({type:e,selectors:[["app-logged-in"]],standalone:!1,decls:5,vars:2,consts:[[2,"display","flex","flex-direction","column","height","100vh"],[1,"logged-in-container","tw-container","pt-2","pt-md-5","px-2","px-md-5",2,"flex","1"],[4,"ngIf"]],template:function(i,n){i&1&&(o(0,"div",0),l(1,"app-header"),o(2,"div",1),h(3,ci,1,0,"router-outlet",2)(4,pi,1,0,"app-home",2),r()()),i&2&&(c(3),p("ngIf",n.router.url!=="/"),c(),p("ngIf",n.router.url==="/"))},dependencies:[_,N,me,It],encapsulation:2})}return e})();function ui(e,s){e&1&&l(0,"app-maintenance")}function hi(e,s){e&1&&l(0,"app-logged-in")}function gi(e,s){e&1&&l(0,"app-anonymous")}var kt=(()=>{class e{userStore;cdr;authService;authHttpService;loggedIn=!1;isInMaintenance=!1;constructor(t,i,n,m){this.userStore=t,this.cdr=i,this.authService=n,this.authHttpService=m}ngOnInit(){this.authService.VGMQMaintenanceSubject.subscribe(t=>{t&&!this.isInMaintenance&&(this.isInMaintenance=t,this.authHttpService.test().pipe(Ie({count:200,delay:(i,n)=>{let u=Math.pow(2,n-1)*200;return Se(u)}})).subscribe(()=>{this.authService.VGMQMaintenanceSubject.next(!1)})),!t&&this.isInMaintenance&&(this.isInMaintenance=t)}),this.userStore.userLoggedIn.subscribe(t=>{this.loggedIn=t,this.cdr.detectChanges()})}static \u0275fac=function(i){return new(i||e)(d(Ze),d(Ge),d(C),d(F))};static \u0275cmp=g({type:e,selectors:[["app-home-theme"]],standalone:!1,decls:3,vars:3,consts:[[4,"ngIf"]],template:function(i,n){i&1&&h(0,ui,1,0,"app-maintenance",0)(1,hi,1,0,"app-logged-in",0)(2,gi,1,0,"app-anonymous",0),i&2&&(p("ngIf",n.isInMaintenance),c(),p("ngIf",!n.isInMaintenance&&n.loggedIn),c(),p("ngIf",!n.isInMaintenance&&!n.loggedIn))},dependencies:[_,se,xt,Et],encapsulation:2})}return e})();var At=(()=>{class e{authService;router;constructor(t,i){this.authService=t,this.router=i}canActivate(t,i){return this.authService.isLoggedIn&&this.authService.isAdmin?!0:this.authService.isLoggedIn&&!this.authService.isAdmin?this.router.createUrlTree([""]):this.authService.isLoggedIn?this.router.createUrlTree([""]):(i.url?.length&&sessionStorage.setItem("pastedUrl",i.url.split("?")[0]),Object.keys(t.queryParams).length&&sessionStorage.setItem("pastedUrlQueryParams",JSON.stringify(t.queryParams)),this.router.createUrlTree(["login"]))}static \u0275fac=function(i){return new(i||e)(M(C),M(S))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var fi=[{path:"",component:kt,children:[{path:"register",loadChildren:()=>import("./chunk-ONMU3YBQ.js").then(e=>e.RegisterModule),canActivate:[be]},{path:"reset-password",loadChildren:()=>import("./chunk-GNGLIZNB.js").then(e=>e.ResetPasswordModule),canActivate:[be]},{path:"games",loadChildren:()=>import("./chunk-IEQSZE4J.js").then(e=>e.GameModule),canActivate:[ie]},{path:"lobby",loadChildren:()=>import("./chunk-OD2AVJFI.js").then(e=>e.LobbyModule),canActivate:[ie]},{path:"admin",loadChildren:()=>import("./chunk-TOISR5JD.js").then(e=>e.AdminModule),canActivate:[At]},{path:"profile",loadChildren:()=>import("./chunk-6MHPLJPW.js").then(e=>e.ProfileModule),canActivate:[ie]},{path:"oauth",loadChildren:()=>import("./chunk-ZEFP5EFW.js").then(e=>e.OauthModule)}]},{path:"**",redirectTo:"/"}],Tt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e});static \u0275inj=y({imports:[L.forRoot(fi),L]})}return e})();var jt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=g({type:e,selectors:[["app-root"]],standalone:!1,decls:1,vars:0,template:function(i,n){i&1&&l(0,"router-outlet")},dependencies:[N],encapsulation:2})}return e})();var wi=(()=>{class e extends re{constructor(t,i,n){super(t,i,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||e)(M(Z),M(z),M(oe))};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})();function vi(){return new gt}function bi(e,s,t){return new wt(e,s,t)}var Lt=[{provide:oe,useFactory:vi},{provide:re,useClass:wi},{provide:Y,useFactory:bi,deps:[K,re,$]}],yi=[{provide:z,useClass:ht},{provide:B,useValue:"NoopAnimations"},...Lt],Ht=[{provide:z,useFactory:()=>new ft},{provide:B,useFactory:()=>"BrowserAnimations"},...Lt],Dt=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?yi:Ht}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e});static \u0275inj=y({providers:Ht,imports:[ee]})}return e})();var xi=[{path:"",component:me}],Ft=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e});static \u0275inj=y({imports:[J,L.forChild(xi),ne]})}return e})();var _i=[{path:"",component:ae}],Nt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e});static \u0275inj=y({imports:[J,ne,L.forChild(_i)]})}return e})();var Si="@",Ci=(()=>{class e{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=de(je);loadingSchedulerFn=de(Mi,{optional:!0});_engine;constructor(t,i,n,m,u){this.doc=t,this.delegate=i,this.zone=n,this.animationType=m,this.moduleImpl=u}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-QPOVZZB2.js").then(n=>n),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(n=>{throw new ke(5300,!1)}).then(({\u0275createEngine:n,\u0275AnimationRendererFactory:m})=>{this._engine=n(this.animationType,this.doc);let u=new m(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(t,i){let n=this.delegate.createRenderer(t,i);if(n.\u0275type===0)return n;typeof n.throwOnSyntheticProps=="boolean"&&(n.throwOnSyntheticProps=!1);let m=new xe(n);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let v=u.createRenderer(t,i);m.use(v),this.scheduler??=this.injector.get(He,null,{optional:!0}),this.scheduler?.notify(10)}).catch(u=>{m.use(n)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(i){Ne()};static \u0275prov=E({token:e,factory:e.\u0275fac})}return e})(),xe=class{delegate;replay=[];\u0275type=1;constructor(s){this.delegate=s}use(s){if(this.delegate=s,this.replay!==null){for(let t of this.replay)t(s);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(s,t){return this.delegate.createElement(s,t)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}get destroyNode(){return this.delegate.destroyNode}appendChild(s,t){this.delegate.appendChild(s,t)}insertBefore(s,t,i,n){this.delegate.insertBefore(s,t,i,n)}removeChild(s,t,i){this.delegate.removeChild(s,t,i)}selectRootElement(s,t){return this.delegate.selectRootElement(s,t)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,t,i,n){this.delegate.setAttribute(s,t,i,n)}removeAttribute(s,t,i){this.delegate.removeAttribute(s,t,i)}addClass(s,t){this.delegate.addClass(s,t)}removeClass(s,t){this.delegate.removeClass(s,t)}setStyle(s,t,i,n){this.delegate.setStyle(s,t,i,n)}removeStyle(s,t,i){this.delegate.removeStyle(s,t,i)}setProperty(s,t,i){this.shouldReplay(t)&&this.replay.push(n=>n.setProperty(s,t,i)),this.delegate.setProperty(s,t,i)}setValue(s,t){this.delegate.setValue(s,t)}listen(s,t,i,n){return this.shouldReplay(t)&&this.replay.push(m=>m.listen(s,t,i,n)),this.delegate.listen(s,t,i,n)}shouldReplay(s){return this.replay!==null&&s.startsWith(Si)}},Mi=new Ae("");function Rt(e="animations"){return ue("NgAsyncAnimations"),Te([{provide:Y,useFactory:(s,t,i)=>new Ci(s,t,i,e),deps:[Z,K,$]},{provide:B,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ot=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=x({type:e,bootstrap:[jt]});static \u0275inj=y({providers:[{provide:qe,useClass:vt,multi:!0},ct,le,dt,Rt(),We($e())],imports:[ee,Tt,Dt,mt,Mt,Ft,Nt,ut,se]})}return e})();b.production&&void 0;Qe().bootstrapModule(Ot).catch(e=>console.error(e));
