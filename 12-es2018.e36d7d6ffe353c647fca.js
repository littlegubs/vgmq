(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{CebT:function(r,e,n){"use strict";n.r(e),n.d(e,"RegisterModule",(function(){return q}));var s=n("ofXK"),i=n("tyNb"),t=n("PCNd"),o=n("3Pt+"),a=n("nYR2"),b=n("fXoL"),c=n("ZEaD");function d(r,e){if(1&r&&(b.Ob(0,"div",16),b.sc(1),b.Nb()),2&r){const r=b.Zb();b.zb(1),b.uc(" ",r.formErrorMessage," ")}}function l(r,e){1&r&&(b.Mb(0),b.sc(1," Username should be at least 4 characters long. "),b.Lb())}function u(r,e){if(1&r&&(b.Mb(0),b.sc(1),b.Lb()),2&r){const r=b.Zb(2);b.zb(1),b.uc(" ",r.username.errors.apiError," ")}}function m(r,e){if(1&r&&(b.Ob(0,"div",17),b.qc(1,l,2,0,"ng-container",18),b.qc(2,u,2,1,"ng-container",18),b.Nb()),2&r){const r=b.Zb();b.zb(1),b.ec("ngIf",r.username.errors.minlength),b.zb(1),b.ec("ngIf",r.username.errors.apiError)}}function g(r,e){1&r&&(b.Mb(0),b.sc(1," Please enter a correct email. "),b.Lb())}function p(r,e){if(1&r&&(b.Mb(0),b.sc(1),b.Lb()),2&r){const r=b.Zb(2);b.zb(1),b.uc(" ",r.email.errors.apiError," ")}}function f(r,e){if(1&r&&(b.Ob(0,"div",17),b.qc(1,g,2,0,"ng-container",18),b.qc(2,p,2,1,"ng-container",18),b.Nb()),2&r){const r=b.Zb();b.zb(1),b.ec("ngIf",r.email.errors.email),b.zb(1),b.ec("ngIf",r.email.errors.apiError)}}function h(r,e){1&r&&(b.Mb(0),b.sc(1," Password should at least have 8 characters. "),b.Lb())}function v(r,e){if(1&r&&(b.Mb(0),b.sc(1),b.Lb()),2&r){const r=b.Zb(2);b.zb(1),b.uc(" ",r.password.errors.apiError," ")}}function N(r,e){if(1&r&&(b.Ob(0,"div",17),b.qc(1,h,2,0,"ng-container",18),b.qc(2,v,2,1,"ng-container",18),b.Nb()),2&r){const r=b.Zb();b.zb(1),b.ec("ngIf",r.password.errors.minlength),b.zb(1),b.ec("ngIf",r.password.errors.apiError)}}function w(r,e){1&r&&b.Kb(0,"span",19)}const O=function(r){return{"is-invalid":r}},z=[{path:"",component:(()=>{class r{constructor(r,e,n){this.fb=r,this.authHttpService=e,this.router=n,this.loading=!1,this.signupForm=this.fb.group({username:["",[o.p.required.bind(this),o.p.minLength(4)]],email:["",[o.p.required.bind(this),o.p.email.bind(this)]],password:["",[o.p.required.bind(this),o.p.minLength(8)]]})}registerUser(){this.loading=!0,this.authHttpService.register(this.signupForm.value).pipe(Object(a.a)(()=>this.loading=!1)).subscribe(()=>{this.signupForm.reset(),this.router.navigate([""])},r=>{var e;null===(e=r.errors)||void 0===e||e.forEach(r=>{this.signupForm.get(r.field).setErrors({apiError:r.message})}),this.formErrorMessage=r.message})}get username(){return this.signupForm.get("username")}get email(){return this.signupForm.get("email")}get password(){return this.signupForm.get("password")}}return r.\u0275fac=function(e){return new(e||r)(b.Jb(o.c),b.Jb(c.a),b.Jb(i.b))},r.\u0275cmp=b.Db({type:r,selectors:[["app-register"]],decls:35,vars:16,consts:[[1,"container"],[1,"form-login",3,"formGroup","ngSubmit"],[1,"h3","mb-3","font-weight-normal","text-center"],[1,"row"],["class","col-md-12 alert alert-danger","role","alert",4,"ngIf"],[1,"col-md-8","offset-md-2"],[1,"form-group"],["type","text","formControlName","username","placeholder","ex : Dark sasuke","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","email","formControlName","email","placeholder","ex : Darksaasuke420@sulfura.com","required","",1,"form-control",3,"ngClass"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control",3,"ngClass"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/login",1,"btn","btn-primary"],["role","alert",1,"col-md-12","alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,e){1&r&&(b.Ob(0,"div",0),b.Ob(1,"form",1),b.Vb("ngSubmit",(function(){return e.loading||e.signupForm.invalid||e.registerUser()})),b.Ob(2,"h3",2),b.sc(3,"Inscription"),b.Nb(),b.Ob(4,"div",3),b.qc(5,d,2,1,"div",4),b.Ob(6,"div",5),b.Ob(7,"div",6),b.Ob(8,"label"),b.sc(9,"Username"),b.Nb(),b.Kb(10,"input",7),b.qc(11,m,3,2,"div",8),b.Nb(),b.Nb(),b.Nb(),b.Ob(12,"div",3),b.Ob(13,"div",5),b.Ob(14,"div",6),b.Ob(15,"label"),b.sc(16,"Email address"),b.Nb(),b.Kb(17,"input",9),b.qc(18,f,3,2,"div",8),b.Nb(),b.Nb(),b.Nb(),b.Ob(19,"div",3),b.Ob(20,"div",5),b.Ob(21,"div",6),b.Ob(22,"label"),b.sc(23,"Password"),b.Nb(),b.Kb(24,"input",10),b.qc(25,N,3,2,"div",8),b.Nb(),b.Nb(),b.Nb(),b.Ob(26,"div",3),b.Ob(27,"div",11),b.Ob(28,"button",12),b.sc(29," Sign up "),b.qc(30,w,1,0,"span",13),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Ob(31,"div",14),b.sc(32," Already have an account ? "),b.Ob(33,"a",15),b.sc(34,"Login"),b.Nb(),b.Nb(),b.Nb()),2&r&&(b.zb(1),b.ec("formGroup",e.signupForm),b.zb(4),b.ec("ngIf",e.formErrorMessage),b.zb(5),b.ec("ngClass",b.hc(10,O,e.username.invalid&&(e.username.dirty||e.username.touched))),b.zb(1),b.ec("ngIf",e.username.errors),b.zb(6),b.ec("ngClass",b.hc(12,O,e.email.invalid&&(e.email.dirty||e.email.touched))),b.zb(1),b.ec("ngIf",e.email.errors),b.zb(6),b.ec("ngClass",b.hc(14,O,e.password.invalid&&(e.password.dirty||e.password.touched))),b.zb(1),b.ec("ngIf",e.password.errors),b.zb(3),b.ec("disabled",e.signupForm.invalid||e.loading),b.zb(2),b.ec("ngIf",e.loading))},directives:[o.q,o.l,o.g,s.k,o.b,o.k,o.e,o.o,s.i,i.e],encapsulation:2}),r})()}];let q=(()=>{class r{}return r.\u0275mod=b.Hb({type:r}),r.\u0275inj=b.Gb({factory:function(e){return new(e||r)},imports:[[s.b,t.a,i.f.forChild(z)]]}),r})()}}]);