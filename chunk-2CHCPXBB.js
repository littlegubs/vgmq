import{t as m,y as h}from"./chunk-3N5DGQTQ.js";import{F as a,ca as s,ha as o,n}from"./chunk-5HLPFG4U.js";import{a as p}from"./chunk-GAL4ENT6.js";var d=function(r){return r.Original="original",r.Reused="reused",r}(d||{});var b=(()=>{class r{http;apiEndpoint=h.apiEndpoint;constructor(t){this.http=t}search(t,i,e){return this.http.get(`${this.apiEndpoint}/admin/games`,{params:p(p(p(p({query:t.query},t.showDisabled&&{showDisabled:"true"}),t.onlyShowWithoutMusics&&{onlyShowWithoutMusics:"true"}),i&&{skip:i}),e&&{limit:e})})}importByUrl(t){return this.http.get(`${this.apiEndpoint}/admin/games/import`,{params:{url:t}}).pipe(a(i=>n(i.error)))}get(t){return this.http.get(`${this.apiEndpoint}/admin/games/${t}`)}uploadMusics(t,i){let e=new FormData;for(let u of i)e.append("files",u);return this.http.post(`${this.apiEndpoint}/admin/games/${t}/musics`,e,{reportProgress:!0,observe:"events"})}purgeGame(t){return this.http.get(`${this.apiEndpoint}/admin/games/${t}/purge`)}saveMusic(t,i){return this.http.patch(`${this.apiEndpoint}/admin/game-to-music/${t}`,i)}deleteGameMusic(t){return this.http.delete(`${this.apiEndpoint}/admin/game-to-music/${t.id}`)}toggleGame(t){return this.http.patch(`${this.apiEndpoint}/admin/games/${t.slug}/toggle`,null).pipe(a(i=>n(i.error)))}toggleAlternativeName(t){return this.http.patch(`${this.apiEndpoint}/alternative-names/${t.id}/toggle`,null).pipe(a(i=>n(i.error)))}listen(t){return this.http.get(`${this.apiEndpoint}/admin/game-to-music/${t}/listen`,{responseType:"blob"})}addDerivedGameToMusic(t,i){return this.http.post(`${this.apiEndpoint}/admin/game-to-music/${t}/add-derived`,{gameId:i.id}).pipe(a(e=>n(e.error)))}link(t,i){return this.http.patch(`${this.apiEndpoint}/admin/game-to-music/${t}/link`,{gameToMusicId:i}).pipe(a(e=>n(e.error)))}unlink(t,i){return this.http.patch(`${this.apiEndpoint}/admin/game-to-music/${t}/unlink`,{gameToMusicId:i}).pipe(a(e=>n(e.error)))}createAlbum(t){return this.http.post(`${this.apiEndpoint}/admin/games/${t}/create-album`,null)}generateAlbums(t){return this.http.get(`${this.apiEndpoint}/admin/games/${t}/generate-albums`)}static \u0275fac=function(i){return new(i||r)(o(m))};static \u0275prov=s({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();export{d as a,b};
