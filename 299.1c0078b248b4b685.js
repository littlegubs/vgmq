(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[299],{9743:(X,_e,k)=>{"use strict";k.d(_e,{q:()=>oe});var B=k(2340),i=k(5e3),U=k(520);let oe=(()=>{class he{constructor(ie){this.http=ie,this.apiEndpoint=B.N.apiEndpoint}search(ie,Re,Ue){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:ie.query,...ie.myGames&&{filterByUser:"true"},...Re&&{skip:Re},...Ue&&{limit:Ue}}})}get(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}`)}addToList(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}/add`)}removeFromList(ie){return this.http.get(`${this.apiEndpoint}/games/${ie}/remove`)}getNames(ie){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:ie}})}}return he.\u0275fac=function(ie){return new(ie||he)(i.LFG(U.eN))},he.\u0275prov=i.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"}),he})()},6299:(X,_e,k)=>{"use strict";k.r(_e),k.d(_e,{LobbyModule:()=>od});var B=k(9808),i=k(5e3),U=k(3075),oe=(()=>{return(t=oe||(oe={})).Host="host",t.Player="player",t.Spectator="spectator",oe;var t})(),xe=k(8746),ie=k(8720),Re=k(1083),Ue=k(7282),at=k(1135),ft=k(263);let Ve=(()=>{class t{constructor(e,n){this.authService=e,this.router=n,this.usersBehaviorSubject=new at.X(null),this.meBehaviorSubject=new at.X(null),this.lobbyBehaviorSubject=new at.X(null),this.currentLobbyMusicIdBehaviorSubject=new at.X(null),this.currentLobbyMusicAnswerBehaviorSubject=new at.X(null),this.lobby=this.lobbyBehaviorSubject.asObservable(),this.users=this.usersBehaviorSubject.asObservable(),this.me=this.meBehaviorSubject.asObservable(),this.currentLobbyMusicId=this.currentLobbyMusicIdBehaviorSubject.asObservable(),this.currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable()}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyMusicIdBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(e){this.lobbyBehaviorSubject.next(e)}getUsers(){return this.usersBehaviorSubject.getValue()}setUsers(e){const n=e.find(o=>o.user.username===this.authService.decodeJwt().username);void 0===n?this.router.navigate(["/"]):(this.usersBehaviorSubject.next(e),this.meBehaviorSubject.next(n))}getCurrentLobbyMusicId(){return this.currentLobbyMusicIdBehaviorSubject.getValue()}setCurrentLobbyMusicId(e){this.currentLobbyMusicIdBehaviorSubject.next(e)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(e){this.currentLobbyMusicAnswerBehaviorSubject.next(e)}handleLobbyUserAnswer(e){const n=this.getUsers(),o=n.findIndex(s=>s.user.username===e.user.username);-1!==o&&(n[o]=e),this.setUsers(n)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ft.e),i.LFG(Re.F0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mt=k(7322),Ke=k(7531),be=k(508),se=k(3191),Ie=k(1159),Pe=k(6360),et=k(925),Xt=k(727),Ge=k(5664),Nt=k(226);const qe=["sliderWrapper"],ke=(0,et.i$)({passive:!1}),gn={provide:U.JU,useExisting:(0,i.Gpc)(()=>Vt),multi:!0};class vn{}const yn=(0,be.sb)((0,be.pj)((0,be.Id)(class{constructor(t){this._elementRef=t}}),"accent"));let Vt=(()=>{class t extends yn{constructor(e,n,o,s,c,l,a,d){super(e),this._focusMonitor=n,this._changeDetectorRef=o,this._dir=s,this._ngZone=l,this._animationMode=d,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new i.vpe,this.input=new i.vpe,this.valueChange=new i.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Xt.w0.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!_t(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=_t(u)?function q(t,r){for(let e=0;e<t.touches.length;e++){const n=t.touches[e].target;if(r===n||r.contains(n))return t.touches[e].identifier}}(u,this._elementRef.nativeElement):void 0;const h=J(u,this._touchId);if(h){const p=this.value;this._isSliding="pointer",this._lastPointerEvent=u,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(h),this._valueOnSlideStart=p,u.cancelable&&u.preventDefault(),p!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const h=J(u,this._touchId);if(h){u.preventDefault();const p=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(h),p!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!_t(u)||"number"!=typeof this._touchId||R(u.changedTouches,this._touchId))&&(u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(c)||0,l.runOutsideAngular(()=>{const u=e.nativeElement;u.addEventListener("mousedown",this._pointerDown,ke),u.addEventListener("touchstart",this._pointerDown,ke)})}get invert(){return this._invert}set invert(e){this._invert=(0,se.Ig)(e)}get max(){return this._max}set max(e){this._max=(0,se.su)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=(0,se.su)(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=(0,se.su)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=(0,se.Ig)(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?(0,se.su)(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let n=(0,se.su)(e,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,se.Ig)(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const e=this.percent,o=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${o})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const a=this._shouldInvertAxis();let d;d=this.vertical?a?"Bottom":"Top":a?"Right":"Left",l[`padding${d}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,ke),e.removeEventListener("touchstart",this._pointerDown,ke),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||(0,Ie.Vb)(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(e.keyCode){case Ie.Ku:this._increment(10);break;case Ie.VM:this._increment(-10);break;case Ie.uR:this.value=this.max;break;case Ie.Sd:this.value=this.min;break;case Ie.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case Ie.LH:this._increment(1);break;case Ie.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case Ie.JH:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const n=this._document,o=_t(e),c=o?"touchend":"mouseup";n.addEventListener(o?"touchmove":"mousemove",this._pointerMove,ke),n.addEventListener(c,this._pointerUp,ke),o&&n.addEventListener("touchcancel",this._pointerUp,ke);const l=this._getWindow();void 0!==l&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,ke),e.removeEventListener("mouseup",this._pointerUp,ke),e.removeEventListener("touchmove",this._pointerMove,ke),e.removeEventListener("touchend",this._pointerUp,ke),e.removeEventListener("touchcancel",this._pointerUp,ke);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(e){const n=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(n+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let c=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(c=1-c),0===c)this.value=this.min;else if(1===c)this.value=this.max;else{const l=this._calculateValue(c),a=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(a,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(n*this.step/(this.max-this.min)))*this.step/n}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=$t(e)?e:0}_createChangeEvent(e=this.value){let n=new vn;return n.source=this,n.value=e,n}_calculatePercentage(e){const n=((e||0)-this.min)/(this.max-this.min);return $t(n)?n:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,n=0,o=1){return Math.max(n,Math.min(e,o))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(Ge.tE),i.Y36(i.sBO),i.Y36(Nt.Is,8),i.$8M("tabindex"),i.Y36(i.R0b),i.Y36(B.K0),i.Y36(Pe.Qb,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(e,n){if(1&e&&i.Gf(qe,5),2&e){let o;i.iGM(o=i.CRH())&&(n._sliderWrapper=o.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,n){1&e&&i.NdJ("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(i.Ikx("tabIndex",n.tabIndex),i.uIk("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),i.ekj("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[i._Bn([gn]),i.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0,1)(2,"div",2),i._UZ(3,"div",3)(4,"div",4),i.qZA(),i.TgZ(5,"div",5),i._UZ(6,"div",6),i.qZA(),i.TgZ(7,"div",7),i._UZ(8,"div",8)(9,"div",9),i.TgZ(10,"div",10)(11,"span",11),i._uU(12),i.qZA()()()()),2&e&&(i.xp6(3),i.Q6J("ngStyle",n._getTrackBackgroundStyles()),i.xp6(1),i.Q6J("ngStyle",n._getTrackFillStyles()),i.xp6(1),i.Q6J("ngStyle",n._getTicksContainerStyles()),i.xp6(1),i.Q6J("ngStyle",n._getTicksStyles()),i.xp6(1),i.Q6J("ngStyle",n._getThumbContainerStyles()),i.xp6(5),i.Oqu(n.displayValue))},directives:[B.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function $t(t){return!isNaN(t)&&isFinite(t)}function _t(t){return"t"===t.type[0]}function J(t,r){let e;return e=_t(t)?"number"==typeof r?R(t.touches,r)||R(t.changedTouches,r):t.touches[0]||t.changedTouches[0]:t,e?{x:e.clientX,y:e.clientY}:void 0}function R(t,r){for(let e=0;e<t.length;e++)if(t[e].identifier===r)return t[e]}let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[B.ez,be.BQ],be.BQ]}),t})();var H=k(7446),W=k(1314),re=k(8962),G=k(7579),Mt=k(9841),bt=k(7272),At=k(8306),gt=k(5698),tt=k(5684),nt=k(8372),vt=k(4004),He=k(8675),We=k(2722);const Hn=new Set;let It,vo=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Co}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yo(t){if(!Hn.has(t))try{It||(It=document.createElement("style"),It.setAttribute("type","text/css"),document.head.appendChild(It)),It.sheet&&(It.sheet.insertRule(`@media ${t} {body{ }}`,0),Hn.add(t))}catch(r){console.error(r)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(et.t4))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Co(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Cn=(()=>{class t{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new G.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Xn((0,se.Eq)(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){const o=Xn((0,se.Eq)(e)).map(c=>this._registerQuery(c).observable);let s=(0,Mt.a)(o);return s=(0,bt.z)(s.pipe((0,gt.q)(1)),s.pipe((0,tt.T)(1),(0,nt.b)(0))),s.pipe((0,vt.U)(c=>{const l={matches:!1,breakpoints:{}};return c.forEach(({matches:a,query:d})=>{l.matches=l.matches||a,l.breakpoints[d]=a}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),s={observable:new At.y(c=>{const l=a=>this._zone.run(()=>c.next(a));return n.addListener(l),()=>{n.removeListener(l)}}).pipe((0,He.O)(n),(0,vt.U)(({matches:c})=>({query:e,matches:c})),(0,We.R)(this._destroySubject)),mql:n};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(vo),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xn(t){return t.map(r=>r.split(",")).reduce((r,e)=>r.concat(e)).map(r=>r.trim())}var ct=k(7429),K=k(1777);const wo=["tooltip"],$n="tooltip-panel",Jn=(0,et.i$)({passive:!0}),Kn=new i.OlP("mat-tooltip-scroll-strategy"),Mo={provide:Kn,deps:[W.aV],useFactory:function To(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},Ao=new i.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Io(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let ko=(()=>{class t{constructor(e,n,o,s,c,l,a,d,u,h,p,m){this._overlay=e,this._elementRef=n,this._scrollDispatcher=o,this._viewContainerRef=s,this._ngZone=c,this._platform=l,this._ariaDescriber=a,this._focusMonitor=d,this._dir=h,this._defaultOptions=p,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new G.x,this._scrollStrategy=u,this._document=m,p&&(p.position&&(this.position=p.position),p.touchGestures&&(this.touchGestures=p.touchGestures)),h.change.pipe((0,We.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var n;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(n=this._tooltipInstance)||void 0===n||n.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,se.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=(0,se.su)(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=(0,se.su)(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,We.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,o])=>{e.removeEventListener(n,o,Jn)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const n=this._createOverlay();this._detach(),this._portal=this._portal||new ct.C5(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=n.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const n=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),o=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return o.positionChanges.pipe((0,We.R)(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:o,panelClass:`${this._cssClassPrefix}-${$n}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,We.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,We.R)(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe((0,We.R)(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===Ie.hY&&!(0,Ie.Vb)(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const n=e.getConfig().positionStrategy,o=this._getOrigin(),s=this._getOverlayPosition();n.withPositions([this._addOffset(Object.assign(Object.assign({},o.main),s.main)),this._addOffset(Object.assign(Object.assign({},o.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let o;"above"==n||"below"==n?o={originX:"center",originY:"above"==n?"top":"bottom"}:"before"==n||"left"==n&&e||"right"==n&&!e?o={originX:"start",originY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(o={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,n=this.position;let o;"above"==n?o={overlayX:"center",overlayY:"bottom"}:"below"==n?o={overlayX:"center",overlayY:"top"}:"before"==n||"left"==n&&e||"right"==n&&!e?o={overlayX:"end",overlayY:"center"}:("after"==n||"right"==n&&e||"left"==n&&!e)&&(o={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,gt.q)(1),(0,We.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return"above"===this.position||"below"===this.position?"top"===n?n="bottom":"bottom"===n&&(n="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){const{overlayY:n,originX:o,originY:s}=e;let c;if(c="center"===n?this._dir&&"rtl"===this._dir.value?"end"===o?"left":"right":"start"===o?"left":"right":"bottom"===n&&"top"===s?"above":"below",c!==this._currentPosition){const l=this._overlayRef;if(l){const a=`${this._cssClassPrefix}-${$n}-`;l.removePanelClass(a+this._currentPosition),l.addPanelClass(a+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{var o;const s=n.relatedTarget;(!s||!(null===(o=this._overlayRef)||void 0===o?void 0:o.overlayElement.contains(s)))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const n=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,o])=>{this._elementRef.nativeElement.addEventListener(n,o,Jn)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const n=this._document.elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;n!==o&&!o.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const n=this._elementRef.nativeElement,o=n.style;("on"===e||"INPUT"!==n.nodeName&&"TEXTAREA"!==n.nodeName)&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),("on"===e||!n.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){i.$Z()},t.\u0275dir=i.lG2({type:t,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),Eo=(()=>{class t extends ko{constructor(e,n,o,s,c,l,a,d,u,h,p,m){super(e,n,o,s,c,l,a,d,u,h,p,m),this._tooltipComponent=Do}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(W.aV),i.Y36(i.SBq),i.Y36(re.mF),i.Y36(i.s_b),i.Y36(i.R0b),i.Y36(et.t4),i.Y36(Ge.$s),i.Y36(Ge.tE),i.Y36(Kn),i.Y36(Nt.Is,8),i.Y36(Ao,8),i.Y36(B.K0))},t.\u0275dir=i.lG2({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[i.qOj]}),t})(),Oo=(()=>{class t{constructor(e,n){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new G.x,this._animationsDisabled="NoopAnimations"===n}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const n=this._tooltip.nativeElement,o=this._showAnimation,s=this._hideAnimation;if(n.classList.remove(e?s:o),n.classList.add(e?o:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(n);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(Pe.Qb,8))},t.\u0275dir=i.lG2({type:t}),t})(),Do=(()=>{class t extends Oo{constructor(e,n,o){super(e,o),this._breakpointObserver=n,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(Cn),i.Y36(Pe.Qb,8))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(e,n){if(1&e&&i.Gf(wo,7),2&e){let o;i.iGM(o=i.CRH())&&(n._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,n){1&e&&i.NdJ("mouseleave",function(s){return n._handleMouseLeave(s)}),2&e&&i.Udp("zoom",n.isVisible()?1:null)},features:[i.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,n){if(1&e&&(i.TgZ(0,"div",0,1),i.NdJ("animationend",function(s){return n._handleAnimationEnd(s)}),i.ALo(2,"async"),i._uU(3),i.qZA()),2&e){let o;i.ekj("mat-tooltip-handset",null==(o=i.lcZ(2,4,n._isHandset))?null:o.matches),i.Q6J("ngClass",n.tooltipClass),i.xp6(3),i.Oqu(n.message)}},directives:[B.mk],pipes:[B.Ov],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),t})(),xo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Mo],imports:[[Ge.rt,B.ez,W.U8,be.BQ],be.BQ,re.ZD]}),t})();function Ro(t,r){1&t&&i._UZ(0,"span",24)}function Po(t,r){if(1&t&&(i.TgZ(0,"button",22),i._uU(1),i.YNc(2,Ro,1,0,"span",23),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.hij(" ",e.lobby?"Save":"Create"," "),i.xp6(1),i.Q6J("ngIf",e.loading)}}let er=(()=>{class t{constructor(e,n,o,s,c,l,a){this.fb=e,this.lobbyHttpService=n,this.router=o,this.route=s,this.socket=c,this.lobbyStore=l,this.authService=a,this.loading=!1,this.userCanEdit=!0,this.subscriptions=[]}ngOnInit(){var e;this.lobby=this.lobbyStore.getLobby(),this.lobbyForm=this.fb.group({name:[this.lobby?this.lobby.name:`${this.authService.decodeJwt().username}'s lobby`,U.kI.required.bind(this)],password:[null===(e=this.lobby)||void 0===e?void 0:e.password],musicNumber:[this.lobby?this.lobby.musicNumber:20,[U.kI.max(100),U.kI.min(5)]],guessTime:[this.lobby?this.lobby.guessTime:20,[U.kI.max(60),U.kI.min(5)]],allowDuplicates:[!!this.lobby&&this.lobby.allowDuplicates]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(n=>{var o,s;this.lobby=n,this.lobbyForm.patchValue({name:this.lobby.name,...(null===(o=this.lobby)||void 0===o?void 0:o.password)&&{password:null===(s=this.lobby)||void 0===s?void 0:s.password},musicNumber:this.lobby.musicNumber,guessTime:this.lobby.guessTime,allowDuplicates:this.lobby.allowDuplicates})}),this.lobbyStore.me.subscribe(n=>{null!==n&&(this.userCanEdit=n.role===oe.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})]),this.lobbyForm.get("musicNumber").valueChanges.subscribe({next:n=>{this.lobbyForm.get("musicNumber").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),this.lobbyForm.get("guessTime").valueChanges.subscribe({next:n=>{this.lobbyForm.get("guessTime").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.loading=!0,null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value}).pipe((0,xe.x)(()=>this.loading=!1)).subscribe(e=>{this.router.navigate([`/lobby/${e.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value}).pipe((0,xe.x)(()=>this.loading=!1)).subscribe(e=>{console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(U.qu),i.Y36(ie.Y),i.Y36(Re.F0),i.Y36(Re.gz),i.Y36(Ue.i),i.Y36(Ve),i.Y36(ft.e))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-config"]],decls:48,vars:12,consts:[[1,"bg-dark","p-4"],[3,"formGroup","ngSubmit"],["appearance","outline",1,"me-2"],["matInput","","formControlName","name","required","required"],["appearance","outline"],["matInput","","type","text","formControlName","password"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary","formControlName","musicNumber",2,"width","80%",3,"thumbLabel","min","max","step"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["color","primary","formControlName","guessTime",2,"width","80%",3,"thumbLabel","min","max","step"],["type","number","max","100","min","5","formControlName","guessTime"],[1,"row","mt-3"],[1,"col-md-4"],["formControlName","allowDuplicates","color","primary",1,"me-2"],["matTooltip","Not available yet","color","primary",1,"me-2",3,"disabled"],["matTooltip","Not available yet","color","primary",3,"disabled"],[1,"row","justify-content-end"],[1,"col-md-2"],["class","btn btn-primary w-100","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"form",1),i.NdJ("ngSubmit",function(){return!n.userCanEdit||n.submit()}),i.TgZ(2,"mat-form-field",2)(3,"mat-label"),i._uU(4,"Lobby name"),i.qZA(),i._UZ(5,"input",3),i.qZA(),i.TgZ(6,"mat-form-field",4)(7,"mat-label"),i._uU(8,"Password "),i.qZA(),i._UZ(9,"input",5),i.TgZ(10,"mat-hint"),i._uU(11,"keep it empty if this is public lobby"),i.qZA()(),i.TgZ(12,"h1"),i._uU(13,"Settings"),i.qZA(),i.TgZ(14,"div",6)(15,"div",7)(16,"h3"),i._uU(17,"Lobby"),i.qZA(),i.TgZ(18,"div",6)(19,"div",8)(20,"div")(21,"label"),i._uU(22,"Number of musics "),i.qZA()(),i._UZ(23,"mat-slider",9),i.TgZ(24,"div",10),i._UZ(25,"input",11),i.qZA()(),i.TgZ(26,"div",8)(27,"div")(28,"label"),i._uU(29,"Guess time "),i.qZA()(),i.TgZ(30,"div"),i._UZ(31,"mat-slider",12),i.TgZ(32,"div",10),i._UZ(33,"input",13),i._uU(34,"s "),i.qZA()()()()()(),i.TgZ(35,"div",14)(36,"div",15)(37,"h3"),i._uU(38,"Modifiers"),i.qZA(),i.TgZ(39,"mat-checkbox",16),i._uU(40,"Duplicate games"),i.qZA(),i.TgZ(41,"mat-checkbox",17),i._uU(42," Skip guessing "),i.qZA(),i.TgZ(43,"mat-checkbox",18),i._uU(44,"Skip result"),i.qZA()()(),i.TgZ(45,"div",19)(46,"div",20),i.YNc(47,Po,3,2,"button",21),i.qZA()()()()),2&e&&(i.xp6(1),i.Q6J("formGroup",n.lobbyForm),i.xp6(22),i.Q6J("thumbLabel",!0)("min",5)("max",100)("step",1),i.xp6(8),i.Q6J("thumbLabel",!0)("min",5)("max",60)("step",1),i.xp6(10),i.Q6J("disabled",!0),i.xp6(2),i.Q6J("disabled",!0),i.xp6(4),i.Q6J("ngIf",n.userCanEdit))},directives:[U._Y,U.JL,U.sg,mt.KE,mt.hX,Ke.Nt,U.Fj,U.JJ,U.u,U.Q7,mt.bx,Vt,U.Fd,U.qQ,U.wV,H.oG,Eo,B.O5],encapsulation:2}),t})(),Fo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"row"],[1,"col-md-9"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"app-lobby-config",1),i.qZA())},directives:[er],encapsulation:2}),t})();var Lo=k(3149),rt=k(5594),Bo=k(9150),Vo=k(6217),Wo=k(8966),tr=k(7423);function Zo(t,r){if(1&t){const e=i.EpF();i.TgZ(0,"div",2)(1,"button",3),i.NdJ("click",function(){return i.CHM(e),i.oxw().action()}),i._uU(2),i.qZA()()}if(2&t){const e=i.oxw();i.xp6(2),i.Oqu(e.data.action)}}function Uo(t,r){}const nr=new i.OlP("MatSnackBarData");class Jt{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Go=Math.pow(2,31)-1;class wn{constructor(r,e){this._overlayRef=e,this._afterDismissed=new G.x,this._afterOpened=new G.x,this._onAction=new G.x,this._dismissedByAction=!1,this.containerInstance=r,this.onAction().subscribe(()=>this.dismiss()),r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,Go))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Yo=(()=>{class t{constructor(e,n){this.snackBarRef=e,this.data=n}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(wn),i.Y36(nr))},t.\u0275cmp=i.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"span",0),i._uU(1),i.qZA(),i.YNc(2,Zo,3,1,"div",1)),2&e&&(i.xp6(1),i.Oqu(n.data.message),i.xp6(1),i.Q6J("ngIf",n.hasAction))},directives:[tr.lW,B.O5],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})();const jo={snackBarState:(0,K.X$)("state",[(0,K.SB)("void, hidden",(0,K.oB)({transform:"scale(0.8)",opacity:0})),(0,K.SB)("visible",(0,K.oB)({transform:"scale(1)",opacity:1})),(0,K.eR)("* => visible",(0,K.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,K.eR)("* => void, * => hidden",(0,K.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,K.oB)({opacity:0})))])};let zo=(()=>{class t extends ct.en{constructor(e,n,o,s,c){super(),this._ngZone=e,this._elementRef=n,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new G.x,this._onExit=new G.x,this._onEnter=new G.x,this._animationState="void",this.attachDomPortal=l=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(l)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:n,toState:o}=e;if(("void"===o&&"void"!==n||"hidden"===o)&&this._completeExit(),"visible"===o){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,gt.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>e.classList.add(o)):e.classList.add(n)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),n=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),null==o||o.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(et.t4),i.Y36(Jt))},t.\u0275cmp=i.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,n){if(1&e&&i.Gf(ct.Pl,7),2&e){let o;i.iGM(o=i.CRH())&&(n._portalOutlet=o.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,n){1&e&&i.WFA("@state.done",function(s){return n.onAnimationEnd(s)}),2&e&&i.d8E("@state",n._animationState)},features:[i.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Uo,0,0,"ng-template",1),i.qZA(),i._UZ(2,"div")),2&e&&(i.xp6(2),i.uIk("aria-live",n._live)("role",n._role))},directives:[ct.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[jo.snackBarState]}}),t})(),rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[W.U8,ct.eL,B.ez,tr.ot,be.BQ],be.BQ]}),t})();const or=new i.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function qo(){return new Jt}});let Ho=(()=>{class t{constructor(e,n,o,s,c,l){this._overlay=e,this._live=n,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",o){const s=Object.assign(Object.assign({},this._defaultConfig),o);return s.data={message:e,action:n},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){const s=i.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:Jt,useValue:n}]}),c=new ct.C5(this.snackBarContainerComponent,n.viewContainerRef,s),l=e.attach(c);return l.instance.snackBarConfig=n,l.instance}_attach(e,n){const o=Object.assign(Object.assign(Object.assign({},new Jt),this._defaultConfig),n),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),l=new wn(c,s);if(e instanceof i.Rgc){const a=new ct.UE(e,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(a)}else{const a=this._createInjector(o,l),d=new ct.C5(e,void 0,a),u=c.attachComponentPortal(d);l.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,We.R)(s.detachments())).subscribe(a=>{s.overlayElement.classList.toggle(this.handsetCssClass,a.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration))}_createOverlay(e){const n=new W.X_;n.direction=e.direction;let o=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,l=!c&&"center"!==e.horizontalPosition;return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),"top"===e.verticalPosition?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(e,n){return i.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:wn,useValue:n},{provide:nr,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(W.aV),i.LFG(Ge.Kd),i.LFG(i.zs3),i.LFG(Cn),i.LFG(t,12),i.LFG(or))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Xo=(()=>{class t extends Ho{constructor(e,n,o,s,c,l){super(e,n,o,s,c,l),this.simpleSnackBarComponent=Yo,this.snackBarContainerComponent=zo,this.handsetCssClass="mat-snack-bar-handset"}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(W.aV),i.LFG(Ge.Kd),i.LFG(i.zs3),i.LFG(Cn),i.LFG(t,12),i.LFG(or))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:rr}),t})();function Qo(t,r){1&t&&(i.ynx(0),i._uU(1,"(loading)"),i.BQk())}function $o(t,r){if(1&t){const e=i.EpF();i.ynx(0),i.TgZ(1,"button",3),i.NdJ("click",function(){return i.CHM(e),i.oxw().play()}),i._uU(2," Play "),i.YNc(3,Qo,2,0,"ng-container",1),i.qZA(),i.BQk()}if(2&t){const e=i.oxw();i.xp6(3),i.Q6J("ngIf",e.lobby.status===e.lobbyStatus.Loading)}}const Jo=function(t,r){return{"col-md-6":t,"col-md-12":r}};let ir=(()=>{class t{constructor(e,n,o,s){this.lobbyHttpService=e,this.lobbyStore=n,this.socket=o,this.router=s,this.lobbyUsersRoles=oe,this.lobbyStatus=rt.D,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.role=e.role)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.lobbyHttpService.leave().subscribe(()=>{this.router.navigate(["/"])})}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&[rt.D.Waiting.toString(),rt.D.Loading.toString()].includes(this.lobby.status)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ie.Y),i.Y36(Ve),i.Y36(Ue.i),i.Y36(Re.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-button-play"]],decls:4,vars:5,consts:[[1,"row"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,$o,4,1,"ng-container",1),i.TgZ(2,"button",2),i.NdJ("click",function(){return n.leave()}),i._uU(3," Leave "),i.qZA()()),2&e&&(i.xp6(1),i.Q6J("ngIf",n.showPlayButton()),i.xp6(1),i.Q6J("ngClass",i.WLB(2,Jo,n.showPlayButton(),!n.showPlayButton())))},directives:[B.O5,B.mk],encapsulation:2}),t})(),Ko=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-waiting"]],decls:4,vars:0,consts:[[1,"row"],[1,"d-md-none"],[1,"col-md-9"],[1,"d-none","d-md-block","col-md-3"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i._UZ(1,"app-button-play",1)(2,"app-lobby-config",2)(3,"app-button-play",3),i.qZA())},directives:[ir,er],encapsulation:2}),t})(),ei=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ve))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-information"]],decls:8,vars:3,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"i",3),i._uU(4),i.qZA(),i.TgZ(5,"div",2),i._UZ(6,"i",4),i._uU(7),i.qZA()()()),2&e&&(i.xp6(4),i.hij("",null==n.lobby?null:n.lobby.guessTime,"s"),i.xp6(3),i.AsE("",null==n.lobby?null:n.lobby.currentLobbyMusicPosition,"/",null==n.lobby?null:n.lobby.lobbyMusics," "))},encapsulation:2}),t})();var sr=k(9743);function ti(t,r){if(1&t&&(i.ynx(0),i.TgZ(1,"div",4)(2,"h2",5),i._uU(3),i.qZA()(),i.TgZ(4,"div",6)(5,"div",7),i._UZ(6,"img",8),i.qZA()(),i.TgZ(7,"div",6)(8,"div")(9,"h4",5),i._uU(10,"Music"),i.qZA(),i.TgZ(11,"small",9),i._uU(12),i.qZA()(),i.TgZ(13,"div",10)(14,"h4",5),i._uU(15,"Artist"),i.qZA(),i.TgZ(16,"small",9),i._uU(17),i.qZA()()(),i.BQk()),2&t){const e=i.oxw();i.xp6(3),i.Oqu(e.answer.expectedAnswer.name),i.xp6(3),i.Q6J("src",null!=e.answer.expectedAnswer.cover&&e.answer.expectedAnswer.cover.imageId?"https://images.igdb.com/igdb/image/upload/t_720p/"+e.answer.expectedAnswer.cover.imageId+".jpg":"assets/imgs/missing picture.png",i.LSH)("alt",e.answer.expectedAnswer.name),i.xp6(6),i.Oqu(e.answer.music.title),i.xp6(5),i.Oqu(e.answer.music.artist)}}function ni(t,r){1&t&&(i.TgZ(0,"div",4),i._UZ(1,"h2",11),i.qZA(),i.TgZ(2,"div",6),i._UZ(3,"div",12),i.qZA(),i.TgZ(4,"div",6)(5,"div"),i._UZ(6,"h4",13)(7,"small",14)(8,"small",15),i.qZA(),i.TgZ(9,"div",10),i._UZ(10,"h4",13)(11,"small",16)(12,"small",15),i.qZA()())}let ri=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.gameHttpService=n,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(e=>{this.answer=e}),this.lobbyStore.lobby.subscribe(e=>{e.status!==rt.D.AnswerReveal&&(this.answer=null)})]}addToList(e){this.gameHttpService.addToList(e.slug).subscribe(()=>{e.selectedByUser=!e.selectedByUser})}removeFromList(e){this.gameHttpService.removeFromList(e.slug).subscribe(()=>{e.selectedByUser=!e.selectedByUser})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ve),i.Y36(sr.q))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-answer-reveal"]],decls:5,vars:2,consts:[[1,"bg-dark","p-4"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],[1,"col-md-12"],[1,"mb-1"],[1,"col-md-6"],[2,"position","relative"],[1,"card-img-top",3,"src","alt"],[2,"font-size","10px"],[1,"mt-2"],[1,"placeholder","col-md-6"],[1,"w-auto","h-100","img-placeholder"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"]],template:function(e,n){if(1&e&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,ti,18,5,"ng-container",2),i.YNc(3,ni,13,0,"ng-template",null,3,i.W1O),i.qZA()()),2&e){const o=i.MAs(4);i.xp6(2),i.Q6J("ngIf",n.answer)("ngIfElse",o)}},directives:[B.O5],encapsulation:2}),t})();function ar(t,r,e,n,o,s,c){try{var l=t[s](c),a=l.value}catch(d){return void e(d)}l.done?r(a):Promise.resolve(a).then(n,o)}function te(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var s=t.apply(r,e);function c(a){ar(s,n,o,c,l,"next",a)}function l(a){ar(s,n,o,c,l,"throw",a)}c(void 0)})}}var oi=k(2340),ii=k(520);let si=(()=>{class t{constructor(e){this.http=e,this.apiEndpoint=oi.N.apiEndpoint}get(e){return this.http.get(`${this.apiEndpoint}/lobby-music/${e}`,{responseType:"blob"})}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(ii.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var lt=k(8021);const kt=new WeakSet,cr=new WeakMap,Sn=new WeakMap,lr=new WeakMap,Nn=new WeakMap,Kt=new WeakMap,ur=new WeakMap,Tn=new WeakMap,Mn=new WeakMap,An=new WeakMap,dr={construct:()=>dr},hr=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,pr=(t,r)=>{const e=[];let n=t.replace(/^[\s]+/,""),o=n.match(hr);for(;null!==o;){const s=o[1].slice(1,-1),c=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,r).toString());e.push(c),n=n.slice(o[0].length).replace(/^[\s]+/,""),o=n.match(hr)}return[e.join(";"),n]},fr=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},mr=t=>{if(!(t=>{try{new new Proxy(t,dr)}catch(r){return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},Ye=(t,r)=>{const e=t.get(r);if(void 0===e)throw new Error("A value with the given key could not be found.");return e},en=(t,r)=>{const e=Array.from(t).filter(r);if(e.length>1)throw Error("More than one element was found.");if(0===e.length)throw Error("No element was found.");const[n]=e;return t.delete(n),n},_r=(t,r,e,n)=>{const o=Ye(t,r),s=en(o,c=>c[0]===e&&c[1]===n);return 0===o.size&&t.delete(r),s},Wt=t=>Ye(ur,t),Et=t=>{if(kt.has(t))throw new Error("The AudioNode is already stored.");kt.add(t),Wt(t).forEach(r=>r(!0))},br=t=>"port"in t,Zt=t=>{if(!kt.has(t))throw new Error("The AudioNode is not stored.");kt.delete(t),Wt(t).forEach(r=>r(!1))},In=(t,r)=>{!br(t)&&r.every(e=>0===e.size)&&Zt(t)},bi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Me=(t,r)=>t.context===r,tn=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch(r){return!1}return!0},Xe=()=>new DOMException("","IndexSizeError"),kn=t=>{var r;t.getChannelData=(r=t.getChannelData,e=>{try{return r.call(t,e)}catch(n){throw 12===n.code?Xe():n}})},yi={numberOfChannels:1},Fe=-34028234663852886e22,Ee=-Fe,ot=t=>kt.has(t),wi={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Oe=t=>Ye(cr,t),Ut=t=>Ye(lr,t),En=(t,r)=>{const{activeInputs:e}=Oe(t);e.forEach(o=>o.forEach(([s])=>{r.includes(t)||En(s,[...r,t])}));const n=(t=>"playbackRate"in t)(t)?[t.playbackRate]:br(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const o of n){const s=Ut(o);void 0!==s&&s.activeInputs.forEach(([c])=>En(c,r))}ot(t)&&Zt(t)},rn=t=>"context"in t,Gt=t=>rn(t[0]),yt=(t,r,e,n)=>{for(const o of t)if(e(o)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(r),!0},vr=(t,r,[e,n],o)=>{yt(t,[r,e,n],s=>s[0]===r&&s[1]===e,o)},yr=(t,[r,e,n],o)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[e,n]])):yt(s,[e,n],c=>c[0]===e,o)},Ot=t=>"inputs"in t,on=(t,r,e,n)=>{if(Ot(r)){const o=r.inputs[n];return t.connect(o,e,0),[o,e,0]}return t.connect(r,e,n),[r,e,n]},Cr=(t,r,e)=>{for(const n of t)if(n[0]===r&&n[1]===e)return t.delete(n),n;return null},wr=(t,r)=>{if(!Wt(t).delete(r))throw new Error("Missing the expected event listener.")},Sr=(t,r,e)=>{const n=Ye(t,r),o=en(n,s=>s[0]===e);return 0===n.size&&t.delete(r),o},sn=(t,r,e,n)=>{Ot(r)?t.disconnect(r.inputs[n],e,0):t.disconnect(r,e,n)},ue=t=>Ye(Sn,t),Yt=t=>Ye(Nn,t),Ct=t=>Tn.has(t),an=t=>!kt.has(t),Nr=(t,r)=>new Promise(e=>{if(null!==r)e(!0);else{const n=t.createScriptProcessor(256,1,1),o=t.createGain(),s=t.createBuffer(1,2,44100),c=s.getChannelData(0);c[0]=1,c[1]=1;const l=t.createBufferSource();l.buffer=s,l.loop=!0,l.connect(n).connect(t.destination),l.connect(o),l.disconnect(o),n.onaudioprocess=a=>{const d=a.inputBuffer.getChannelData(0);Array.prototype.some.call(d,u=>1===u)?e(!0):e(!1),l.stop(),n.onaudioprocess=null,l.disconnect(n),n.disconnect(t.destination)},l.start()}}),On=(t,r)=>{const e=new Map;for(const n of t)for(const o of n){const s=e.get(o);e.set(o,void 0===s?1:s+1)}e.forEach((n,o)=>r(o,n))},cn=t=>"context"in t,Dn=(t,r,e,n,o)=>{const[s,c]=((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=Oe(r),c=Cr(o[n],t,e);return null===c?[_r(s,t,e,n)[2],!1]:[c[2],!0]})(t,e,n,o);if(null!==s&&(wr(t,s),c&&!r&&!Ct(t)&&sn(ue(t),ue(e),n,o)),ot(e)){const{activeInputs:l}=Oe(e);In(e,l)}},xn=(t,r,e,n)=>{const[o,s]=((t,r,e)=>{const{activeInputs:n,passiveInputs:o}=Ut(r),s=Cr(n,t,e);return null===s?[Sr(o,t,e)[1],!1]:[s[2],!0]})(t,e,n);null!==o&&(wr(t,o),s&&!r&&!Ct(t)&&ue(t).disconnect(Yt(e),n))};class Tr{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,e=null){return this._map.forEach((n,o)=>r.call(e,n,o,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}function ln(t,r,e,n,o){if("function"==typeof t.copyFromChannel)0===r[e].byteLength&&(r[e]=new Float32Array(128)),t.copyFromChannel(r[e],n,o);else{const s=t.getChannelData(n);if(0===r[e].byteLength)r[e]=s.slice(o,o+128);else{const c=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);r[e].set(c)}}}const Mr=(t,r,e,n,o)=>{"function"==typeof t.copyToChannel?0!==r[e].byteLength&&t.copyToChannel(r[e],n,o):0!==r[e].byteLength&&t.getChannelData(n).set(r[e],o)},un=(t,r)=>{const e=[];for(let n=0;n<t;n+=1){const o=[],s="number"==typeof r?r:r[n];for(let c=0;c<s;c+=1)o.push(new Float32Array(128));e.push(o)}return e},Xi=function(){var t=te(function*(r,e,n,o,s,c,l){const a=null===e?128*Math.ceil(r.context.length/128):e.length,d=o.channelCount*o.numberOfInputs,u=s.reduce((b,y)=>b+y,0),h=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===c)throw new Error("Missing the processor constructor.");const p=Oe(r),m=yield((t,r)=>{const e=Ye(An,t),n=ue(r);return Ye(e,n)})(n,r),f=un(o.numberOfInputs,o.channelCount),_=un(o.numberOfOutputs,s),v=Array.from(r.parameters.keys()).reduce((b,y)=>({...b,[y]:new Float32Array(128)}),{});for(let b=0;b<a;b+=128){if(o.numberOfInputs>0&&null!==e)for(let y=0;y<o.numberOfInputs;y+=1)for(let T=0;T<o.channelCount;T+=1)ln(e,f[y],T,T,b);void 0!==c.parameterDescriptors&&null!==e&&c.parameterDescriptors.forEach(({name:y},T)=>{ln(e,v,y,d+T,b)});for(let y=0;y<o.numberOfInputs;y+=1)for(let T=0;T<s[y];T+=1)0===_[y][T].byteLength&&(_[y][T]=new Float32Array(128));try{const y=f.map((M,g)=>0===p.activeInputs[g].size?[]:M),T=l(b/n.sampleRate,n.sampleRate,()=>m.process(y,_,v));if(null!==h)for(let M=0,g=0;M<o.numberOfOutputs;M+=1){for(let S=0;S<s[M];S+=1)Mr(h,_[M],S,g+S,b);g+=s[M]}if(!T)break}catch(y){r.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(e,n,o,s,c,l,a){return t.apply(this,arguments)}}(),Ji={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ns={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},is={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ds={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ms={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Ar=t=>{const{port1:r,port2:e}=new MessageChannel;return new Promise(n=>{const o=()=>{e.onmessage=null,r.close(),e.close(),n()};e.onmessage=()=>o();try{r.postMessage(t,[t])}finally{o()}})},ws={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},dn=(t,r,e)=>{const n=r[e];if(void 0===n)throw t();return n},Es={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Bs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ve=()=>new DOMException("","InvalidStateError"),hn=()=>new DOMException("","InvalidAccessError"),Qs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ir=(t,r,e,n,o,s,c,l,a,d,u)=>{const h=d.length;let p=l;for(let m=0;m<h;m+=1){let f=e[0]*d[m];for(let _=1;_<o;_+=1){const v=p-_&a-1;f+=e[_]*s[v],f-=t[_]*c[v]}for(let _=o;_<n;_+=1)f+=e[_]*s[p-_&a-1];for(let _=o;_<r;_+=1)f-=t[_]*c[p-_&a-1];s[p]=d[m],c[p]=f,p=p+1&a-1,u[m]=f}return p},da=function(){var t=te(function*(r,e,n,o,s,c,l,a,d,u,h,p,m,f,_,v){return!!(r(e,e)&&r(n,n)&&r(s,s)&&r(c,c)&&r(a,a)&&r(d,d)&&r(u,u)&&r(h,h)&&r(p,p)&&r(m,m)&&r(f,f))&&(yield Promise.all([r(o,o),r(l,l),r(_,_),r(v,v)])).every(y=>y)});return function(e,n,o,s,c,l,a,d,u,h,p,m,f,_,v,b){return t.apply(this,arguments)}}(),pa={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},wt=t=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=t.decodeAudioData(r.buffer,()=>{});return void 0!==e&&(e.catch(()=>{}),!0)}catch(e){}return!1},de=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e]&&(t[e]=n)},ye=(t,r)=>{de(t,r,"channelCount"),de(t,r,"channelCountMode"),de(t,r,"channelInterpretation")},kr=t=>"function"==typeof t.getFloatTimeDomainData,fe=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e].value&&(t[e].value=n)},Rn=t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{if("number"==typeof o&&o<0||n<0||e<0)throw new RangeError("The parameters can't be negative.");r.call(t,e,n,o)})},Pn=t=>{var r;t.stop=(r=t.stop,(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");r.call(t,e)})},Er=(t,r)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*r))))),xa=function(){var t=te(function*(r,e){const n=yield(t=>new Promise((r,e)=>{const{port1:n,port2:o}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),o.close(),r(s)},n.onmessageerror=({data:s})=>{n.close(),o.close(),e(s)},o.postMessage(t)}))(e);return new r(n)});return function(e,n){return t.apply(this,arguments)}}(),Or=(t,r)=>{const e=t.createBiquadFilter();return ye(e,r),fe(e,r,"Q"),fe(e,r,"detune"),fe(e,r,"frequency"),fe(e,r,"gain"),de(e,r,"type"),e},jt=(t,r)=>{const e=t.createChannelSplitter(r.numberOfOutputs);return ye(e,r),(t=>{const r=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>r,set:e=>{if(e!==r)throw ve()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw ve()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw ve()}})})(e),e},Dt=(t,r)=>(t.connect=r.connect.bind(r),t.disconnect=r.disconnect.bind(r),t),Dr=(t,r)=>{const e=t.createDelay(r.maxDelayTime);return ye(e,r),fe(e,r,"delayTime"),e},Le=(t,r)=>{const e=t.createGain();return ye(e,r),fe(e,r,"gain"),e};function Ga(t,r){const e=r[0]*r[0]+r[1]*r[1];return[(t[0]*r[0]+t[1]*r[1])/e,(t[1]*r[0]-t[0]*r[1])/e]}function Ya(t,r){return[t[0]*r[0]-t[1]*r[1],t[0]*r[1]+t[1]*r[0]]}function xr(t,r){let e=[0,0];for(let n=t.length-1;n>=0;n-=1)e=Ya(e,r),e[0]+=t[n];return e}const zt=(t,r,e,n)=>t.createScriptProcessor(r,e,n),Ae=()=>new DOMException("","NotSupportedError"),ac={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},uc={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},pc={disableNormalization:!1},wc={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Rr=()=>new DOMException("","UnknownError"),Zc={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Pr=(t,r,e)=>void 0===t.copyFromChannel?t.getChannelData(e)[0]:(t.copyFromChannel(r,e),r[0]),Fr=t=>{if(null===t)return!1;const r=t.length;return r%2!=0?0!==t[Math.floor(r/2)]:t[r/2-1]+t[r/2]!==0},qt=(t,r,e,n)=>{let o=t;for(;!o.hasOwnProperty(r);)o=Object.getPrototypeOf(o);const{get:s,set:c}=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(t,r,{get:e(s),set:n(c)})},Lr=(t,r,e)=>{try{t.setValueAtTime(r,e)}catch(n){if(9!==n.code)throw n;Lr(t,r,e+1e-7)}},Fn=t=>{const r=t.createOscillator();try{r.start(-1)}catch(e){return e instanceof RangeError}return!1},Br=t=>{const r=t.createBuffer(1,1,44100),e=t.createBufferSource();e.buffer=r,e.start(),e.stop();try{return e.stop(),!0}catch(n){return!1}},Ln=t=>{const r=t.createOscillator();try{r.stop(-1)}catch(e){return e instanceof RangeError}return!1},nl=()=>{try{new DOMException}catch(t){return!1}return!0},rl=()=>new Promise(t=>{const r=new ArrayBuffer(0),{port1:e,port2:n}=new MessageChannel;e.onmessage=({data:o})=>t(null!==o),n.postMessage(r,[r])}),Vr=(t,r)=>{const e=r.createGain();t.connect(e);const n=(o=t.disconnect,()=>{o.call(t,e),t.removeEventListener("ended",n)});var o;t.addEventListener("ended",n),Dt(t,e),t.stop=(o=>{let s=!1;return(c=0)=>{if(s)try{o.call(t,c)}catch(l){e.gain.setValueAtTime(0,c)}else o.call(t,c),s=!0}})(t.stop)},xt=(t,r)=>e=>{const n={value:t};return Object.defineProperties(e,{currentTarget:n,target:n}),"function"==typeof r?r.call(t,e):r.handleEvent.call(t,e)},il=(t=yt,(r,e,[n,o,s],c)=>{t(r[o],[e,n,s],l=>l[0]===e&&l[1]===n,c)}),sl=(t=>(r,e,[n,o,s],c)=>{const l=r.get(n);void 0===l?r.set(n,new Set([[o,e,s]])):t(l,[o,e,s],a=>a[0]===o&&a[1]===e,c)})(yt),al=(t=>(r,e,n,o)=>t(r[o],s=>s[0]===e&&s[1]===n))(en),Wr=new WeakMap,cl=(t=>r=>{var e;return null!==(e=t.get(r))&&void 0!==e?e:0})(Wr),Be=((t,r)=>(e,n)=>{const o=r.get(e);if(void 0!==o)return o;const s=t.get(e);if(void 0!==s)return s;try{const c=n();return c instanceof Promise?(t.set(e,c),c.catch(()=>!1).then(l=>(t.delete(e),r.set(e,l),l))):(r.set(e,c),c)}catch(c){return r.set(e,!1),!1}})(new Map,new WeakMap),je="undefined"==typeof window?null:window,Zr=((t,r)=>(e,n)=>{const o=e.createAnalyser();if(ye(o,n),!(n.maxDecibels>n.minDecibels))throw r();return de(o,n,"fftSize"),de(o,n,"maxDecibels"),de(o,n,"minDecibels"),de(o,n,"smoothingTimeConstant"),t(kr,()=>kr(o))||(t=>{t.getFloatTimeDomainData=r=>{const e=new Uint8Array(r.length);t.getByteTimeDomainData(e);const n=Math.max(e.length,t.fftSize);for(let o=0;o<n;o+=1)r[o]=.0078125*(e[o]-128);return r}})(o),o})(Be,Xe),Bn=(t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer})(Oe),Te=((t,r,e)=>function(){var n=te(function*(o,s,c){const l=t(o);yield Promise.all(l.activeInputs.map((a,d)=>Array.from(a).map(function(){var u=te(function*([h,p]){const f=yield r(h).render(h,s),_=o.context.destination;!e(h)&&(o!==_||!e(o))&&f.connect(c,p,d)});return function(h){return u.apply(this,arguments)}}())).reduce((a,d)=>[...a,...d],[]))});return function(o,s,c){return n.apply(this,arguments)}}())(Oe,Bn,Ct),ll=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=te(function*(c,l){let a=r(c);return Me(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Zr,ue,Te),ce=(t=>r=>{const e=t.get(r);if(void 0===e)throw ve();return e})(Kt),Ne=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(je),ae=(t=>r=>null!==t&&r instanceof t)(Ne),Ur=new WeakMap,Gr=(t=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,n,o){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,o)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,n,o){const s=null===n?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,o)}})(xt),it=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(je),Vn=(t=>r=>null!==t&&r instanceof t)(it),Wn=(t=>r=>null!==t&&"function"==typeof t.AudioNode&&r instanceof t.AudioNode)(je),Yr=(t=>r=>null!==t&&"function"==typeof t.AudioParam&&r instanceof t.AudioParam)(je),Rt=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(je),ge=((t,r,e,n,o,s,c,l,a,d,u,h,p,m,f,_)=>class extends d{constructor(b,y,T,M){super(T),this._context=b,this._nativeAudioNode=T;const g=u(b);h(g)&&!0!==e(Nr,()=>Nr(g,_))&&(t=>{const r=new Map;var e;t.connect=(e=t.connect.bind(t),(n,o=0,s=0)=>{const c=cn(n)?e(n,o,s):e(n,o),l=r.get(n);return void 0===l?r.set(n,[{input:s,output:o}]):l.every(a=>a.input!==s||a.output!==o)&&l.push({input:s,output:o}),c}),t.disconnect=(e=>(n,o,s)=>{if(e.apply(t),void 0===n)r.clear();else if("number"==typeof n)for(const[c,l]of r){const a=l.filter(d=>d.output!==n);0===a.length?r.delete(c):r.set(c,a)}else if(r.has(n))if(void 0===o)r.delete(n);else{const c=r.get(n);if(void 0!==c){const l=c.filter(a=>a.output!==o&&(a.input!==s||void 0===s));0===l.length?r.delete(n):r.set(n,l)}}for(const[c,l]of r)l.forEach(a=>{cn(c)?t.connect(c,a.output,a.input):t.connect(c,a.output)})})(t.disconnect)})(T),Sn.set(this,T),ur.set(this,new Set),"closed"!==b.state&&y&&Et(this),t(this,M,T)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(b){this._nativeAudioNode.channelCount=b}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(b){this._nativeAudioNode.channelCountMode=b}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(b){this._nativeAudioNode.channelInterpretation=b}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(b,y=0,T=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw o();const M=u(this._context),g=f(M);if(p(b)||m(b))throw s();if(rn(b)){const w=ue(b);try{const A=on(this._nativeAudioNode,w,y,T),E=an(this);(g||E)&&this._nativeAudioNode.disconnect(...A),"closed"!==this.context.state&&!E&&an(b)&&Et(b)}catch(A){throw 12===A.code?s():A}if(r(this,b,y,T,g)){const A=a([this],b);On(A,n(g))}return b}const S=Yt(b);if("playbackRate"===S.name&&1024===S.maxValue)throw c();try{this._nativeAudioNode.connect(S,y),(g||an(this))&&this._nativeAudioNode.disconnect(S,y)}catch(w){throw 12===w.code?s():w}if(((t,r,e,n)=>{const{activeInputs:o,passiveInputs:s}=Ut(r),{outputs:c}=Oe(t),l=Wt(t),a=d=>{const u=ue(t),h=Yt(r);if(d){const p=Sr(s,t,e);vr(o,t,p,!1),!n&&!Ct(t)&&u.connect(h,e)}else{const p=((t,r,e)=>en(t,n=>n[0]===r&&n[1]===e))(o,t,e);yr(s,p,!1),!n&&!Ct(t)&&u.disconnect(h,e)}};return!!yt(c,[r,e],d=>d[0]===r&&d[1]===e,!0)&&(l.add(a),ot(t)?vr(o,t,[e,a],!0):yr(s,[t,e,a],!0),!0)})(this,b,y,g)){const w=a([this],b);On(w,n(g))}}disconnect(b,y,T){let M;const g=u(this._context),S=f(g);if(void 0===b)M=((t,r)=>{const e=Oe(t),n=[];for(const o of e.outputs)Gt(o)?Dn(t,r,...o):xn(t,r,...o),n.push(o[0]);return e.outputs.clear(),n})(this,S);else if("number"==typeof b){if(b<0||b>=this.numberOfOutputs)throw o();M=((t,r,e)=>{const n=Oe(t),o=[];for(const s of n.outputs)s[1]===e&&(Gt(s)?Dn(t,r,...s):xn(t,r,...s),o.push(s[0]),n.outputs.delete(s));return o})(this,S,b)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||rn(b)&&void 0!==T&&(T<0||T>=b.numberOfInputs))throw o();if(M=((t,r,e,n,o)=>{const s=Oe(t);return Array.from(s.outputs).filter(c=>!(c[0]!==e||void 0!==n&&c[1]!==n||void 0!==o&&c[2]!==o)).map(c=>(Gt(c)?Dn(t,r,...c):xn(t,r,...c),s.outputs.delete(c),c[0]))})(this,S,b,y,T),0===M.length)throw s()}for(const C of M){const w=a([this],C);On(w,l)}}})((t=>(r,e,n)=>{const o=[];for(let s=0;s<n.numberOfInputs;s+=1)o.push(new Set);t.set(r,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:e})})(cr),((t,r,e,n,o,s,c,l,a,d,u,h,p)=>{const m=new WeakMap;return(f,_,v,b,y)=>{const{activeInputs:T,passiveInputs:M}=s(_),{outputs:g}=s(f),S=l(f),C=w=>{const I=a(_),A=a(f);if(w){const E=_r(M,f,v,b);t(T,f,E,!1),!y&&!h(f)&&e(A,I,v,b),p(_)&&Et(_)}else{const E=n(T,f,v,b);r(M,b,E,!1),!y&&!h(f)&&o(A,I,v,b);const N=c(_);if(0===N)u(_)&&In(_,T);else{const P=m.get(_);void 0!==P&&clearTimeout(P),m.set(_,setTimeout(()=>{u(_)&&In(_,T)},1e3*N))}}};return!!d(g,[_,v,b],w=>w[0]===_&&w[1]===v&&w[2]===b,!0)&&(S.add(C),u(f)?t(T,f,[v,b,C],!0):r(M,b,[f,v,C],!0),!0)}})(il,sl,on,al,sn,Oe,cl,Wt,ue,yt,ot,Ct,an),Be,((t,r,e,n,o,s)=>c=>(l,a)=>{const d=t.get(l);if(void 0===d){if(!c&&s(l)){const u=n(l),{outputs:h}=e(l);for(const p of h)if(Gt(p)){const m=n(p[0]);r(u,m,p[1],p[2])}else{const m=o(p[0]);u.disconnect(m,p[1])}}t.set(l,a)}else t.set(l,d+a)})(Tn,sn,Oe,ue,Yt,ot),Xe,hn,Ae,((t,r,e,n,o,s,c,l)=>(a,d)=>{const u=r.get(a);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(a.context),p=l(h);if(u===d){if(r.delete(a),!p&&c(a)){const m=n(a),{outputs:f}=e(a);for(const _ of f)if(Gt(_)){const v=n(_[0]);t(m,v,_[1],_[2])}else{const v=o(_[0]);m.connect(v,_[1])}}}else r.set(a,u-d)})(on,Tn,Oe,ue,Yt,ce,ot,ae),((t,r,e)=>function n(o,s){const c=rn(s)?s:e(t,s);if((t=>"delayTime"in t)(c))return[];if(o[0]===c)return[o];if(o.includes(c))return[];const{outputs:l}=r(c);return Array.from(l).map(a=>n([...o,c],a[0])).reduce((a,d)=>a.concat(d),[])})(Ur,Oe,Ye),Gr,ce,Vn,Wn,Yr,ae,Rt),ul=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=o(l),u={...bi,...a},h=n(d,u);super(l,!1,h,s(d)?r():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(l){this._nativeAnalyserNode.fftSize=l}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(l){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=l,!(l>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(l){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=l,!(this._nativeAnalyserNode.maxDecibels>l))throw this._nativeAnalyserNode.minDecibels=a,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(l){this._nativeAnalyserNode.smoothingTimeConstant=l}getByteFrequencyData(l){this._nativeAnalyserNode.getByteFrequencyData(l)}getByteTimeDomainData(l){this._nativeAnalyserNode.getByteTimeDomainData(l)}getFloatFrequencyData(l){this._nativeAnalyserNode.getFloatFrequencyData(l)}getFloatTimeDomainData(l){this._nativeAnalyserNode.getFloatTimeDomainData(l)}})(ge,ll,Xe,Zr,ce,ae),Zn=new WeakSet,jr=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(je),zr=(t=>r=>(t[0]=r,t[0]))(new Uint32Array(1)),Un=((t,r)=>e=>{e.copyFromChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const a=e.length,d=e.getChannelData(l),u=n.length;for(let h=c<0?-c:0;h+c<a&&h<u;h+=1)n[h]=d[h+c]},e.copyToChannel=(n,o,s=0)=>{const c=t(s),l=t(o);if(l>=e.numberOfChannels)throw r();const a=e.length,d=e.getChannelData(l),u=n.length;for(let h=c<0?-c:0;h+c<a&&h<u;h+=1)d[h+c]=n[h]}})(zr,Xe),Gn=(t=>r=>{var e;r.copyFromChannel=(e=r.copyFromChannel,(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)}),r.copyToChannel=(e=>(n,o,s=0)=>{const c=t(s),l=t(o);if(c<r.length)return e.call(r,n,l,c)})(r.copyToChannel)})(zr),dl=((t,r,e,n,o,s,c,l)=>{let a=null;return class bo{constructor(u){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:p,sampleRate:m}={...yi,...u};null===a&&(a=new o(1,1,44100));const f=null!==n&&r(s,s)?new n({length:h,numberOfChannels:p,sampleRate:m}):a.createBuffer(p,h,m);if(0===f.numberOfChannels)throw e();return"function"!=typeof f.copyFromChannel?(c(f),kn(f)):r(tn,()=>tn(f))||l(f),t.add(f),f}static[Symbol.hasInstance](u){return null!==u&&"object"==typeof u&&Object.getPrototypeOf(u)===bo.prototype||t.has(u)}}})(Zn,Be,Ae,jr,Ne,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch(r){return!1}return!0})(jr),Un,Gn),pn=(t=>(r,e)=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(r.destination);const o=()=>{e.removeEventListener("ended",o),e.disconnect(n),n.disconnect()};e.addEventListener("ended",o)})(Le),qr=((t,r,e)=>function(){var n=te(function*(o,s,c){const l=r(o);yield Promise.all(Array.from(l.activeInputs).map(function(){var a=te(function*([d,u]){const p=yield t(d).render(d,s);e(d)||p.connect(c,u)});return function(d){return a.apply(this,arguments)}}()))});return function(o,s,c){return n.apply(this,arguments)}}())(Bn,Ut,Ct),Qe=(t=>(r,e,n)=>t(e,r,n))(qr),Pt=((t,r,e,n,o,s,c,l,a,d,u)=>(h,p)=>{const m=h.createBufferSource();return ye(m,p),fe(m,p,"playbackRate"),de(m,p,"buffer"),de(m,p,"loop"),de(m,p,"loopEnd"),de(m,p,"loopStart"),r(e,()=>e(h))||(t=>{t.start=(r=>{let e=!1;return(n=0,o=0,s)=>{if(e)throw ve();r.call(t,n,o,s),e=!0}})(t.start)})(m),r(n,()=>n(h))||(t=>{var r;t.start=(r=t.start,(e=0,n=0,o)=>{const s=t.buffer,c=null===s?n:Math.min(s.duration,n);null!==s&&c>s.duration-.5/t.context.sampleRate?r.call(t,e,0,0):r.call(t,e,c,o)})})(m),r(o,()=>o(h))||d(m,h),r(s,()=>s(h))||Rn(m),r(c,()=>c(h))||u(m,h),r(l,()=>l(h))||Pn(m),t(h,m),m})(pn,Be,t=>{const r=t.createBufferSource();r.start();try{r.start()}catch(e){return!0}return!1},t=>{const r=t.createBufferSource(),e=t.createBuffer(1,1,44100);r.buffer=e;try{r.start(0,1)}catch(n){return!1}return!0},t=>{const r=t.createBufferSource();r.start();try{r.stop()}catch(e){return!1}return!0},Fn,Br,Ln,0,(t=>(r,e)=>{const n=e.createBuffer(1,1,44100);null===r.buffer&&(r.buffer=n),t(r,"buffer",o=>()=>{const s=o.call(r);return s===n?null:s},o=>s=>o.call(r,null===s?n:s))})(qt),Vr),$e=((t,r)=>(e,n,o)=>(t(n).replay(o),r(n,e,o)))((t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer})(Ut),qr),hl=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const a=function(){var d=te(function*(u,h){let p=e(u);const m=Me(p,h);return m||(p=r(h,{buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value}),null!==c&&p.start(...c),null!==l&&p.stop(l)),s.set(h,p),m?yield t(h,u.playbackRate,p.playbackRate):yield n(h,u.playbackRate,p.playbackRate),yield o(u,h,p),p});return function(h,p){return d.apply(this,arguments)}}();return{set start(d){c=d},set stop(d){l=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):a(d,u)}}})(Qe,Pt,ue,$e,Te),ze=((t,r,e,n,o,s,c,l,a,d,u,h,p)=>(m,f,_,v=null,b=null)=>{const y=new lt.AutomationEventList(_.defaultValue),T=f?(t=>({replay(r){for(const e of t)if("exponentialRampToValue"===e.type){const{endTime:n,value:o}=e;r.exponentialRampToValueAtTime(o,n)}else if("linearRampToValue"===e.type){const{endTime:n,value:o}=e;r.linearRampToValueAtTime(o,n)}else if("setTarget"===e.type){const{startTime:n,target:o,timeConstant:s}=e;r.setTargetAtTime(o,n,s)}else if("setValue"===e.type){const{startTime:n,value:o}=e;r.setValueAtTime(o,n)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:n,startTime:o,values:s}=e;r.setValueCurveAtTime(s,o,n)}}}}))(y):null,M={get defaultValue(){return _.defaultValue},get maxValue(){return null===v?_.maxValue:v},get minValue(){return null===b?_.minValue:b},get value(){return _.value},set value(g){_.value=g,M.setValueAtTime(g,m.context.currentTime)},cancelAndHoldAtTime(g){if("function"==typeof _.cancelAndHoldAtTime)null===T&&y.flush(m.context.currentTime),y.add(o(g)),_.cancelAndHoldAtTime(g);else{const S=Array.from(y).pop();null===T&&y.flush(m.context.currentTime),y.add(o(g));const C=Array.from(y).pop();_.cancelScheduledValues(g),S!==C&&void 0!==C&&("exponentialRampToValue"===C.type?_.exponentialRampToValueAtTime(C.value,C.endTime):"linearRampToValue"===C.type?_.linearRampToValueAtTime(C.value,C.endTime):"setValue"===C.type?_.setValueAtTime(C.value,C.startTime):"setValueCurve"===C.type&&_.setValueCurveAtTime(C.values,C.startTime,C.duration))}return M},cancelScheduledValues:g=>(null===T&&y.flush(m.context.currentTime),y.add(s(g)),_.cancelScheduledValues(g),M),exponentialRampToValueAtTime(g,S){if(0===g)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;return null===T&&y.flush(m.context.currentTime),y.add(c(g,S)),_.exponentialRampToValueAtTime(g,S),M},linearRampToValueAtTime:(g,S)=>(null===T&&y.flush(m.context.currentTime),y.add(l(g,S)),_.linearRampToValueAtTime(g,S),M),setTargetAtTime:(g,S,C)=>(null===T&&y.flush(m.context.currentTime),y.add(a(g,S,C)),_.setTargetAtTime(g,S,C),M),setValueAtTime:(g,S)=>(null===T&&y.flush(m.context.currentTime),y.add(d(g,S)),_.setValueAtTime(g,S),M),setValueCurveAtTime(g,S,C){const w=g instanceof Float32Array?g:new Float32Array(g);if(null!==h&&"webkitAudioContext"===h.name){const I=S+C,A=m.context.sampleRate,E=Math.ceil(S*A),N=Math.floor(I*A),P=N-E,L=new Float32Array(P);for(let F=0;F<P;F+=1){const Z=(w.length-1)/C*((E+F)/A-S),j=Math.floor(Z),Y=Math.ceil(Z);L[F]=j===Y?w[j]:(1-(Z-j))*w[j]+(1-(Y-Z))*w[Y]}null===T&&y.flush(m.context.currentTime),y.add(u(L,S,C)),_.setValueCurveAtTime(L,S,C);const V=N/A;V<I&&p(M,L[L.length-1],V),p(M,w[w.length-1],I)}else null===T&&y.flush(m.context.currentTime),y.add(u(w,S,C)),_.setValueCurveAtTime(w,S,C);return M}};return e.set(M,_),r.set(M,m),t(M,T),M})((t=>(r,e)=>{t.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})})(lr),Ur,Nn,0,lt.createCancelAndHoldAutomationEvent,lt.createCancelScheduledValuesAutomationEvent,lt.createExponentialRampToValueAutomationEvent,lt.createLinearRampToValueAutomationEvent,lt.createSetTargetAutomationEvent,lt.createSetValueAutomationEvent,lt.createSetValueCurveAutomationEvent,it,Lr),pl=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),p={...wi,...u},m=o(h,p),f=c(h),_=f?r():null;super(d,!1,m,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=null!==p.buffer,this._nativeAudioBufferSourceNode=m,this._onended=null,this._playbackRate=e(this,f,m.playbackRate,Ee,Fe)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,null!==d){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const u="function"==typeof d?l(this,d):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===u?d:h}get playbackRate(){return this._playbackRate}start(d=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(d,u,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[d,u]:[d,u,h]),"closed"!==this.context.state){Et(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),ot(this)&&Zt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=d)}})(ge,hl,ze,ve,Pt,ce,ae,xt),fl=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),p=c(h),m=o(h,u,p);super(d,!1,m,p?r(l):null),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=m}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(ge,t=>{const r=new WeakMap,e=function(){var n=te(function*(o,s){const c=s.destination;return r.set(s,c),yield t(o,s,c),c});return function(s,c){return n.apply(this,arguments)}}();return{render(n,o){const s=r.get(o);return void 0!==s?Promise.resolve(s):e(n,o)}}},Xe,ve,((t,r)=>(e,n,o)=>{const s=e.destination;if(s.channelCount!==n)try{s.channelCount=n}catch(l){}o&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:n});const c=t(e,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return r(c,"channelCount",l=>()=>l.call(c),l=>a=>{l.call(c,a);try{s.channelCount=a}catch(d){if(a>s.maxChannelCount)throw d}}),r(c,"channelCountMode",l=>()=>l.call(c),l=>a=>{l.call(c,a),s.channelCountMode=a}),r(c,"channelInterpretation",l=>()=>l.call(c),l=>a=>{l.call(c,a),s.channelInterpretation=a}),Object.defineProperty(c,"maxChannelCount",{get:()=>s.maxChannelCount}),c.connect(s),c})(Le,qt),ce,ae,Te),ml=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=te(function*(a,d){let u=e(a);const h=Me(u,d);return h||(u=r(d,{Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type})),s.set(d,u),h?(yield t(d,a.Q,u.Q),yield t(d,a.detune,u.detune),yield t(d,a.frequency,u.frequency),yield t(d,a.gain,u.gain)):(yield n(d,a.Q,u.Q),yield n(d,a.detune,u.detune),yield n(d,a.frequency,u.frequency),yield n(d,a.gain,u.gain)),yield o(a,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):c(l,a)}}})(Qe,Or,ue,$e,Te),St=(t=>(r,e)=>t.set(r,e))(Wr),_l=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),p={...Ji,...u},m=o(h,p),f=c(h);super(d,!1,m,f?e():null),this._Q=r(this,f,m.Q,Ee,Fe),this._detune=r(this,f,m.detune,1200*Math.log2(Ee),-1200*Math.log2(Ee)),this._frequency=r(this,f,m.frequency,d.sampleRate/2,0),this._gain=r(this,f,m.gain,40*Math.log10(Ee),Fe),this._nativeBiquadFilterNode=m,l(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,u,h)}catch(p){throw 11===p.code?n():p}if(d.length!==u.length||u.length!==h.length)throw n()}})(ge,ze,ml,hn,Or,ce,ae,St),ut=((t,r)=>(e,n,o)=>{const s=new Set;return e.connect=(c=e.connect,(l,a=0,d=0)=>{const u=0===s.size;if(r(l))return c.call(e,l,a,d),t(s,[l,a,d],h=>h[0]===l&&h[1]===a&&h[2]===d,!0),u&&n(),l;c.call(e,l,a),t(s,[l,a],h=>h[0]===l&&h[1]===a,!0),u&&n()}),e.disconnect=(c=>(l,a,d)=>{const u=s.size>0;if(void 0===l)c.apply(e),s.clear();else if("number"==typeof l){c.call(e,l);for(const p of s)p[1]===l&&s.delete(p)}else{r(l)?c.call(e,l,a,d):c.call(e,l,a);for(const p of s)p[0]===l&&(void 0===a||p[1]===a)&&(void 0===d||p[2]===d)&&s.delete(p)}u&&0===s.size&&o()})(e.disconnect),e;var c})(yt,Wn),bl=((t,r)=>(e,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const o=e.createBufferSource();r(n,()=>{const l=n.numberOfInputs;for(let a=0;a<l;a+=1)o.connect(n,0,a)},()=>o.disconnect(n))})(ve,ut),dt=((t,r)=>(e,n)=>{const o=e.createChannelMerger(n.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&r(e,o),ye(o,n),o})(it,bl),gl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=te(function*(c,l){let a=r(c);return Me(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(dt,ue,Te),vl=((t,r,e,n,o)=>class extends t{constructor(c,l){const a=n(c),d={...ns,...l};super(c,!1,e(a,d),o(a)?r():null)}})(ge,gl,dt,ce,ae),yl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=te(function*(c,l){let a=r(c);return Me(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),n.set(l,a),yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(jt,ue,Te),Cl=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=n(l),u=(t=>({...t,channelCount:t.numberOfOutputs}))({...is,...a});super(l,!1,e(d,u),o(d)?r():null)}})(ge,yl,jt,ce,ae),wl=((t,r,e,n)=>(o,{offset:s,...c})=>{const l=o.createBuffer(1,2,44100),a=r(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=e(o,{...c,gain:s}),u=l.getChannelData(0);u[0]=1,u[1]=1,a.buffer=l,a.loop=!0;const h={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(f){d.channelCount=f},get channelCountMode(){return d.channelCountMode},set channelCountMode(f){d.channelCountMode=f},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(f){d.channelInterpretation=f},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return a.onended},set onended(f){a.onended=f},addEventListener:(...f)=>a.addEventListener(f[0],f[1],f[2]),dispatchEvent:(...f)=>a.dispatchEvent(f[0]),removeEventListener:(...f)=>a.removeEventListener(f[0],f[1],f[2]),start(f=0){a.start.call(a,f)},stop(f=0){a.stop.call(a,f)}};return t(o,a),n(Dt(h,d),()=>a.connect(d),()=>a.disconnect(d))})(pn,Pt,Le,ut),Ft=((t,r,e,n,o)=>(s,c)=>{if(void 0===s.createConstantSource)return e(s,c);const l=s.createConstantSource();return ye(l,c),fe(l,c,"offset"),r(n,()=>n(s))||Rn(l),r(o,()=>o(s))||Pn(l),t(s,l),l})(pn,Be,wl,Fn,Ln),Sl=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null;const a=function(){var d=te(function*(u,h){let p=e(u);const m=Me(p,h);return m||(p=r(h,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value}),null!==c&&p.start(c),null!==l&&p.stop(l)),s.set(h,p),m?yield t(h,u.offset,p.offset):yield n(h,u.offset,p.offset),yield o(u,h,p),p});return function(h,p){return d.apply(this,arguments)}}();return{set start(d){c=d},set stop(d){l=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):a(d,u)}}})(Qe,Ft,ue,$e,Te),Nl=((t,r,e,n,o,s,c)=>class extends t{constructor(a,d){const u=o(a),h={...ds,...d},p=n(u,h),m=s(u),f=m?e():null;super(a,!1,p,f),this._constantSourceNodeRenderer=f,this._nativeConstantSourceNode=p,this._offset=r(this,m,p.offset,Ee,Fe),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const d="function"==typeof a?c(this,a):null;this._nativeConstantSourceNode.onended=d;const u=this._nativeConstantSourceNode.onended;this._onended=null!==u&&u===d?a:u}start(a=0){if(this._nativeConstantSourceNode.start(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=a),"closed"!==this.context.state){Et(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),ot(this)&&Zt(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(a=0){this._nativeConstantSourceNode.stop(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=a)}})(ge,ze,Sl,Ft,ce,ae,xt),Hr=((t,r)=>(e,n)=>{const o=e.createConvolver();if(ye(o,n),n.disableNormalization===o.normalize&&(o.normalize=!n.disableNormalization),de(o,n,"buffer"),n.channelCount>2||(r(o,"channelCount",s=>()=>s.call(o),s=>c=>{if(c>2)throw t();return s.call(o,c)}),"max"===n.channelCountMode))throw t();return r(o,"channelCountMode",s=>()=>s.call(o),s=>c=>{if("max"===c)throw t();return s.call(o,c)}),o})(Ae,qt),Tl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=te(function*(c,l){let a=r(c);return Me(a,l)||(a=t(l,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),n.set(l,a),Ot(a)?yield e(c,l,a.inputs[0]):yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(Hr,ue,Te),Ml=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=n(l),u={...ms,...a},h=e(d,u);super(l,!1,h,o(d)?r():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(l){this._nativeConvolverNode.buffer=l,null===l&&null!==this._nativeConvolverNode.buffer?(this._nativeConvolverNode.buffer=this._nativeConvolverNode.context.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)):(this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration))}get normalize(){return this._nativeConvolverNode.normalize}set normalize(l){this._nativeConvolverNode.normalize=l}})(ge,Tl,Hr,ce,ae,St),Al=((t,r,e,n,o)=>s=>{const c=new WeakMap,l=function(){var a=te(function*(d,u){let h=e(d);const p=Me(h,u);return p||(h=r(u,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s})),c.set(u,h),p?yield t(u,d.delayTime,h.delayTime):yield n(u,d.delayTime,h.delayTime),yield o(d,u,h),h});return function(u,h){return a.apply(this,arguments)}}();return{render(a,d){const u=c.get(d);return void 0!==u?Promise.resolve(u):l(a,d)}}})(Qe,Dr,ue,$e,Te),Il=((t,r,e,n,o,s,c)=>class extends t{constructor(a,d){const u=o(a),h={...ws,...d},p=n(u,h),m=s(u);super(a,!1,p,m?e(h.maxDelayTime):null),this._delayTime=r(this,m,p.delayTime),c(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(ge,ze,Al,Dr,ce,ae,St),Xr=(t=>(r,e)=>{const n=r.createDynamicsCompressor();if(ye(n,e),e.channelCount>2||"max"===e.channelCountMode)throw t();return fe(n,e,"attack"),fe(n,e,"knee"),fe(n,e,"ratio"),fe(n,e,"release"),fe(n,e,"threshold"),n})(Ae),kl=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=te(function*(a,d){let u=e(a);const h=Me(u,d);return h||(u=r(d,{attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value})),s.set(d,u),h?(yield t(d,a.attack,u.attack),yield t(d,a.knee,u.knee),yield t(d,a.ratio,u.ratio),yield t(d,a.release,u.release),yield t(d,a.threshold,u.threshold)):(yield n(d,a.attack,u.attack),yield n(d,a.knee,u.knee),yield n(d,a.ratio,u.ratio),yield n(d,a.release,u.release),yield n(d,a.threshold,u.threshold)),yield o(a,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):c(l,a)}}})(Qe,Xr,ue,$e,Te),El=((t,r,e,n,o,s,c,l)=>class extends t{constructor(d,u){const h=s(d),p={...Es,...u},m=n(h,p),f=c(h);super(d,!1,m,f?e():null),this._attack=r(this,f,m.attack),this._knee=r(this,f,m.knee),this._nativeDynamicsCompressorNode=m,this._ratio=r(this,f,m.ratio),this._release=r(this,f,m.release),this._threshold=r(this,f,m.threshold),l(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=u,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,"max"===d)throw this._nativeDynamicsCompressorNode.channelCountMode=u,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(ge,ze,kl,Xr,Ae,ce,ae,St),Ol=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=te(function*(a,d){let u=e(a);const h=Me(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value})),s.set(d,u),h?yield t(d,a.gain,u.gain):yield n(d,a.gain,u.gain),yield o(a,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):c(l,a)}}})(Qe,Le,ue,$e,Te),Dl=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=o(l),u={...Bs,...a},h=n(d,u),p=s(d);super(l,!1,h,p?e():null),this._gain=r(this,p,h.gain,Ee,Fe)}get gain(){return this._gain}})(ge,ze,Ol,Le,ce,ae),xl=((t,r,e,n)=>(o,s,{channelCount:c,channelCountMode:l,channelInterpretation:a,feedback:d,feedforward:u})=>{const h=Er(s,o.sampleRate),p=d instanceof Float64Array?d:new Float64Array(d),m=u instanceof Float64Array?u:new Float64Array(u),f=p.length,_=m.length,v=Math.min(f,_);if(0===f||f>20)throw n();if(0===p[0])throw r();if(0===_||_>20)throw n();if(0===m[0])throw r();if(1!==p[0]){for(let w=0;w<_;w+=1)m[w]/=p[0];for(let w=1;w<f;w+=1)p[w]/=p[0]}const b=e(o,h,c,c);b.channelCount=c,b.channelCountMode=l,b.channelInterpretation=a;const T=[],M=[],g=[];for(let w=0;w<c;w+=1){T.push(0);const I=new Float32Array(32),A=new Float32Array(32);I.fill(0),A.fill(0),M.push(I),g.push(A)}b.onaudioprocess=w=>{const I=w.inputBuffer,A=w.outputBuffer,E=I.numberOfChannels;for(let N=0;N<E;N+=1){const P=I.getChannelData(N),L=A.getChannelData(N);T[N]=Ir(p,f,m,_,v,M[N],g[N],T[N],32,P,L)}};const S=o.sampleRate/2;return Dt({get bufferSize(){return h},get channelCount(){return b.channelCount},set channelCount(w){b.channelCount=w},get channelCountMode(){return b.channelCountMode},set channelCountMode(w){b.channelCountMode=w},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(w){b.channelInterpretation=w},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},addEventListener:(...w)=>b.addEventListener(w[0],w[1],w[2]),dispatchEvent:(...w)=>b.dispatchEvent(w[0]),getFrequencyResponse(w,I,A){if(w.length!==I.length||I.length!==A.length)throw t();const E=w.length;for(let N=0;N<E;N+=1){const P=-Math.PI*(w[N]/S),L=[Math.cos(P),Math.sin(P)],Z=Ga(xr(m,L),xr(p,L));I[N]=Math.sqrt(Z[0]*Z[0]+Z[1]*Z[1]),A[N]=Math.atan2(Z[1],Z[0])}},removeEventListener:(...w)=>b.removeEventListener(w[0],w[1],w[2])},b)})(hn,ve,zt,Ae),fn=((t,r,e,n)=>o=>t(wt,()=>wt(o))?Promise.resolve(t(n,n)).then(s=>{if(!s){const c=e(o,512,0,1);o.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>o.currentTime,c.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const c=r(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=l=>{c.disconnect(),s(l.renderedBuffer)},c.connect(o.destination),o.startRendering()}))(Be,Le,zt,((t,r)=>()=>{if(null===r)return Promise.resolve(!1);const e=new r(1,1,44100),n=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{e.oncomplete=()=>{n.disconnect(),o(0!==e.currentTime)},e.startRendering()})})(Le,Ne)),Rl=((t,r,e,n,o)=>(s,c)=>{const l=new WeakMap;let a=null;const d=function(){var u=te(function*(h,p){let m=null,f=r(h);const _=Me(f,p);if(void 0===p.createIIRFilter?m=t(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):_||(f=p.createIIRFilter(c,s)),l.set(p,null===m?f:m),null!==m){if(null===a){if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new e(h.context.destination.channelCount,h.context.length,p.sampleRate);a=te(function*(){return yield n(h,b,b.destination),((t,r,e,n)=>{const o=e instanceof Float64Array?e:new Float64Array(e),s=n instanceof Float64Array?n:new Float64Array(n),c=o.length,l=s.length,a=Math.min(c,l);if(1!==o[0]){for(let f=0;f<c;f+=1)s[f]/=o[0];for(let f=1;f<l;f+=1)o[f]/=o[0]}const u=new Float32Array(32),h=new Float32Array(32),p=r.createBuffer(t.numberOfChannels,t.length,t.sampleRate),m=t.numberOfChannels;for(let f=0;f<m;f+=1){const _=t.getChannelData(f),v=p.getChannelData(f);u.fill(0),h.fill(0),Ir(o,c,s,l,a,u,h,0,32,_,v)}return p})(yield o(b),p,s,c)})()}const v=yield a;return m.buffer=v,m.start(0),m}return yield n(h,p,f),f});return function(p,m){return u.apply(this,arguments)}}();return{render(u,h){const p=l.get(h);return void 0!==p?Promise.resolve(p):d(u,h)}}})(Pt,ue,Ne,Te,fn),Pl=(t=>(r,e,n)=>{if(void 0===r.createIIRFilter)return t(r,e,n);const o=r.createIIRFilter(n.feedforward,n.feedback);return ye(o,n),o})(xl),Fl=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=n(l),u=o(d),h={...Qs,...a},p=r(d,u?null:l.baseLatency,h);super(l,!1,p,u?e(h.feedback,h.feedforward):null),(t=>{var r;t.getFrequencyResponse=(r=t.getFrequencyResponse,(e,n,o)=>{if(e.length!==n.length||n.length!==o.length)throw hn();return r.call(t,e,n,o)})})(p),this._nativeIIRFilterNode=p,s(this,1)}getFrequencyResponse(l,a,d){return this._nativeIIRFilterNode.getFrequencyResponse(l,a,d)}})(ge,Pl,Rl,ce,ae,St),Ll=((t,r,e,n,o,s,c,l)=>(a,d)=>{const u=d.listener,{forwardX:p,forwardY:m,forwardZ:f,positionX:_,positionY:v,positionZ:b,upX:y,upY:T,upZ:M}=void 0===u.forwardX?(()=>{const g=new Float32Array(1),S=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=c(d);let w=!1,I=[0,0,-1,0,1,0],A=[0,0,0];const E=()=>{if(w)return;w=!0;const V=n(d,256,9,0);V.onaudioprocess=({inputBuffer:F})=>{const Z=[s(F,g,0),s(F,g,1),s(F,g,2),s(F,g,3),s(F,g,4),s(F,g,5)];Z.some((Y,$)=>Y!==I[$])&&(u.setOrientation(...Z),I=Z);const j=[s(F,g,6),s(F,g,7),s(F,g,8)];j.some((Y,$)=>Y!==A[$])&&(u.setPosition(...j),A=j)},S.connect(V)},N=V=>F=>{F!==I[V]&&(I[V]=F,u.setOrientation(...I))},P=V=>F=>{F!==A[V]&&(A[V]=F,u.setPosition(...A))},L=(V,F,Z)=>{const j=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F});j.connect(S,0,V),j.start(),Object.defineProperty(j.offset,"defaultValue",{get:()=>F});const Y=t({context:a},C,j.offset,Ee,Fe);return l(Y,"value",$=>()=>$.call(Y),$=>Q=>{try{$.call(Y,Q)}catch(le){if(9!==le.code)throw le}E(),C&&Z(Q)}),Y.cancelAndHoldAtTime=($=Y.cancelAndHoldAtTime,C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le}),Y.cancelScheduledValues=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.linearRampToValueAtTime),Y.setTargetAtTime=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.setTargetAtTime),Y.setValueAtTime=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.setValueAtTime),Y.setValueCurveAtTime=($=>C?()=>{throw o()}:(...Q)=>{const le=$.apply(Y,Q);return E(),le})(Y.setValueCurveAtTime),Y;var $};return{forwardX:L(0,0,N(0)),forwardY:L(1,0,N(1)),forwardZ:L(2,-1,N(2)),positionX:L(6,0,P(0)),positionY:L(7,0,P(1)),positionZ:L(8,0,P(2)),upX:L(3,0,N(3)),upY:L(4,1,N(4)),upZ:L(5,0,N(5))}})():u;return{get forwardX(){return p},get forwardY(){return m},get forwardZ(){return f},get positionX(){return _},get positionY(){return v},get positionZ(){return b},get upX(){return y},get upY(){return T},get upZ(){return M}}})(ze,dt,Ft,zt,Ae,Pr,ae,qt),Qr=new WeakMap,Yn=((t,r,e,n,o,s)=>class extends e{constructor(l,a){super(l),this._nativeContext=l,Kt.set(this,l),n(l)&&o.set(l,new Set),this._destination=new t(this,a),this._listener=r(this,l),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(l){const a="function"==typeof l?s(this,l):null;this._nativeContext.onstatechange=a;const d=this._nativeContext.onstatechange;this._onstatechange=null!==d&&d===a?l:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(fl,Ll,Gr,ae,Qr,xt),$r=((t,r,e,n,o,s)=>(c,l)=>{const a=c.createOscillator();return ye(a,l),fe(a,l,"detune"),fe(a,l,"frequency"),void 0!==l.periodicWave?a.setPeriodicWave(l.periodicWave):de(a,l,"type"),r(e,()=>e(c))||Rn(a),r(n,()=>n(c))||s(a,c),r(o,()=>o(c))||Pn(a),t(c,a),a})(pn,Be,Fn,Br,Ln,Vr),Bl=((t,r,e,n,o)=>()=>{const s=new WeakMap;let c=null,l=null,a=null;const d=function(){var u=te(function*(h,p){let m=e(h);const f=Me(m,p);return f||(m=r(p,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:null===c?void 0:c,type:m.type}),null!==l&&m.start(l),null!==a&&m.stop(a)),s.set(p,m),f?(yield t(p,h.detune,m.detune),yield t(p,h.frequency,m.frequency)):(yield n(p,h.detune,m.detune),yield n(p,h.frequency,m.frequency)),yield o(h,p,m),m});return function(p,m){return u.apply(this,arguments)}}();return{set periodicWave(u){c=u},set start(u){l=u},set stop(u){a=u},render(u,h){const p=s.get(h);return void 0!==p?Promise.resolve(p):d(u,h)}}})(Qe,$r,ue,$e,Te),Vl=((t,r,e,n,o,s,c)=>class extends t{constructor(a,d){const u=o(a),h={...ac,...d},p=e(u,h),m=s(u),f=m?n():null,_=a.sampleRate/2;super(a,!1,p,f),this._detune=r(this,m,p.detune,153600,-153600),this._frequency=r(this,m,p.frequency,_,-_),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=f,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const d="function"==typeof a?c(this,a):null;this._nativeOscillatorNode.onended=d;const u=this._nativeOscillatorNode.onended;this._onended=null!==u&&u===d?a:u}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=a),"closed"!==this.context.state){Et(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),ot(this)&&Zt(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(a=0){this._nativeOscillatorNode.stop(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=a)}})(ge,ze,$r,Bl,ce,ae,xt),Jr=(t=>(r,e)=>{const n=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=r.createBuffer(1,2,44100);return n.buffer=o,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}})(Pt),Wl=((t,r,e,n,o)=>(s,{curve:c,oversample:l,...a})=>{const d=s.createWaveShaper(),u=s.createWaveShaper();ye(d,a),ye(u,a);const h=e(s,{...a,gain:1}),p=e(s,{...a,gain:-1}),m=e(s,{...a,gain:1}),f=e(s,{...a,gain:-1});let _=null,v=!1,b=null;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(g){h.channelCount=g,p.channelCount=g,d.channelCount=g,m.channelCount=g,u.channelCount=g,f.channelCount=g},get channelCountMode(){return d.channelCountMode},set channelCountMode(g){h.channelCountMode=g,p.channelCountMode=g,d.channelCountMode=g,m.channelCountMode=g,u.channelCountMode=g,f.channelCountMode=g},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(g){h.channelInterpretation=g,p.channelInterpretation=g,d.channelInterpretation=g,m.channelInterpretation=g,u.channelInterpretation=g,f.channelInterpretation=g},get context(){return d.context},get curve(){return b},set curve(g){if(null!==g&&g.length<2)throw r();if(null===g)d.curve=g,u.curve=g;else{const S=g.length,C=new Float32Array(S+2-S%2),w=new Float32Array(S+2-S%2);C[0]=g[0],w[0]=-g[S-1];const I=Math.ceil((S+1)/2),A=(S+1)/2-1;for(let E=1;E<I;E+=1){const N=E/I*A,P=Math.floor(N),L=Math.ceil(N);C[E]=P===L?g[P]:(1-(N-P))*g[P]+(1-(L-N))*g[L],w[E]=P===L?-g[S-1-P]:-(1-(N-P))*g[S-1-P]-(1-(L-N))*g[S-1-L]}C[I]=S%2==1?g[I-1]:(g[I-2]+g[I-1])/2,d.curve=C,u.curve=w}b=g,v&&(n(b)&&null===_?_=t(s,h):null!==_&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(g){d.oversample=g,u.oversample=g},addEventListener:(...g)=>h.addEventListener(g[0],g[1],g[2]),dispatchEvent:(...g)=>h.dispatchEvent(g[0]),removeEventListener:(...g)=>h.removeEventListener(g[0],g[1],g[2])};return null!==c&&(y.curve=c instanceof Float32Array?c:new Float32Array(c)),l!==y.oversample&&(y.oversample=l),o(Dt(y,m),()=>{h.connect(d).connect(m),h.connect(p).connect(u).connect(f).connect(m),v=!0,n(b)&&(_=t(s,h))},()=>{h.disconnect(d),d.disconnect(m),h.disconnect(p),p.disconnect(u),u.disconnect(f),f.disconnect(m),v=!1,null!==_&&(_(),_=null)})})(Jr,ve,Le,Fr,ut),mn=((t,r,e,n,o,s,c)=>(l,a)=>{const d=l.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===l.createGain().gain.automationRate)return e(l,a);ye(d,a);const u=null===a.curve||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(null!==u&&u.length<2)throw r();de(d,{curve:u},"curve"),de(d,a,"oversample");let h=null,p=!1;return c(d,"curve",_=>()=>_.call(d),_=>v=>(_.call(d,v),p&&(n(v)&&null===h?h=t(l,d):!n(v)&&null!==h&&(h(),h=null)),v)),o(d,()=>{p=!0,n(d.curve)&&(h=t(l,d))},()=>{p=!1,null!==h&&(h(),h=null)})})(Jr,ve,Wl,Fr,ut,it,qt),Zl=((t,r,e,n,o,s,c,l,a,d)=>(u,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:m,distanceModel:f,maxDistance:_,orientationX:v,orientationY:b,orientationZ:y,panningModel:T,positionX:M,positionY:g,positionZ:S,refDistance:C,rolloffFactor:w,...I})=>{const A=u.createPanner();if(I.channelCount>2||"max"===I.channelCountMode)throw c();ye(A,I);const E={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},N=e(u,{...E,channelInterpretation:"speakers",numberOfInputs:6}),P=n(u,{...I,gain:1}),L=n(u,{...E,gain:1}),V=n(u,{...E,gain:0}),F=n(u,{...E,gain:0}),Z=n(u,{...E,gain:0}),j=n(u,{...E,gain:0}),Y=n(u,{...E,gain:0}),$=o(u,256,6,1),Q=s(u,{...E,curve:new Float32Array([1,1]),oversample:"none"});let le=[v,b,y],Ce=[M,g,S];const De=new Float32Array(1);$.onaudioprocess=({inputBuffer:D})=>{const we=[a(D,De,0),a(D,De,1),a(D,De,2)];we.some((Lt,Bt)=>Lt!==le[Bt])&&(A.setOrientation(...we),le=we);const Je=[a(D,De,3),a(D,De,4),a(D,De,5)];Je.some((Lt,Bt)=>Lt!==Ce[Bt])&&(A.setPosition(...Je),Ce=Je)},Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return A.channelCount},set channelCount(D){if(D>2)throw c();P.channelCount=D,A.channelCount=D},get channelCountMode(){return A.channelCountMode},set channelCountMode(D){if("max"===D)throw c();P.channelCountMode=D,A.channelCountMode=D},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(D){P.channelInterpretation=D,A.channelInterpretation=D},get coneInnerAngle(){return A.coneInnerAngle},set coneInnerAngle(D){A.coneInnerAngle=D},get coneOuterAngle(){return A.coneOuterAngle},set coneOuterAngle(D){A.coneOuterAngle=D},get coneOuterGain(){return A.coneOuterGain},set coneOuterGain(D){if(D<0||D>1)throw r();A.coneOuterGain=D},get context(){return A.context},get distanceModel(){return A.distanceModel},set distanceModel(D){A.distanceModel=D},get inputs(){return[P]},get maxDistance(){return A.maxDistance},set maxDistance(D){if(D<0)throw new RangeError;A.maxDistance=D},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},get orientationX(){return L.gain},get orientationY(){return V.gain},get orientationZ(){return F.gain},get panningModel(){return A.panningModel},set panningModel(D){A.panningModel=D},get positionX(){return Z.gain},get positionY(){return j.gain},get positionZ(){return Y.gain},get refDistance(){return A.refDistance},set refDistance(D){if(D<0)throw new RangeError;A.refDistance=D},get rolloffFactor(){return A.rolloffFactor},set rolloffFactor(D){if(D<0)throw new RangeError;A.rolloffFactor=D},addEventListener:(...D)=>P.addEventListener(D[0],D[1],D[2]),dispatchEvent:(...D)=>P.dispatchEvent(D[0]),removeEventListener:(...D)=>P.removeEventListener(D[0],D[1],D[2])};return h!==ee.coneInnerAngle&&(ee.coneInnerAngle=h),p!==ee.coneOuterAngle&&(ee.coneOuterAngle=p),m!==ee.coneOuterGain&&(ee.coneOuterGain=m),f!==ee.distanceModel&&(ee.distanceModel=f),_!==ee.maxDistance&&(ee.maxDistance=_),v!==ee.orientationX.value&&(ee.orientationX.value=v),b!==ee.orientationY.value&&(ee.orientationY.value=b),y!==ee.orientationZ.value&&(ee.orientationZ.value=y),T!==ee.panningModel&&(ee.panningModel=T),M!==ee.positionX.value&&(ee.positionX.value=M),g!==ee.positionY.value&&(ee.positionY.value=g),S!==ee.positionZ.value&&(ee.positionZ.value=S),C!==ee.refDistance&&(ee.refDistance=C),w!==ee.rolloffFactor&&(ee.rolloffFactor=w),(1!==le[0]||0!==le[1]||0!==le[2])&&A.setOrientation(...le),(0!==Ce[0]||0!==Ce[1]||0!==Ce[2])&&A.setPosition(...Ce),d(Dt(ee,A),()=>{P.connect(A),t(P,Q,0,0),Q.connect(L).connect(N,0,0),Q.connect(V).connect(N,0,1),Q.connect(F).connect(N,0,2),Q.connect(Z).connect(N,0,3),Q.connect(j).connect(N,0,4),Q.connect(Y).connect(N,0,5),N.connect($).connect(u.destination)},()=>{P.disconnect(A),l(P,Q,0,0),Q.disconnect(L),L.disconnect(N),Q.disconnect(V),V.disconnect(N),Q.disconnect(F),F.disconnect(N),Q.disconnect(Z),Z.disconnect(N),Q.disconnect(j),j.disconnect(N),Q.disconnect(Y),Y.disconnect(N),N.disconnect($),$.disconnect(u.destination)})})(on,ve,dt,Le,zt,mn,Ae,sn,Pr,ut),Kr=(t=>(r,e)=>{const n=r.createPanner();return void 0===n.orientationX?t(r,e):(ye(n,e),fe(n,e,"orientationX"),fe(n,e,"orientationY"),fe(n,e,"orientationZ"),fe(n,e,"positionX"),fe(n,e,"positionY"),fe(n,e,"positionZ"),de(n,e,"coneInnerAngle"),de(n,e,"coneOuterAngle"),de(n,e,"coneOuterGain"),de(n,e,"distanceModel"),de(n,e,"maxDistance"),de(n,e,"panningModel"),de(n,e,"refDistance"),de(n,e,"rolloffFactor"),n)})(Zl),Ul=((t,r,e,n,o,s,c,l,a,d)=>()=>{const u=new WeakMap;let h=null;const p=function(){var m=te(function*(f,_){let v=null,b=s(f);const y={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},T={...y,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},M=Me(b,_);if("bufferSize"in b)v=n(_,{...y,gain:1});else if(!M){const g={...T,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=o(_,g)}if(u.set(_,null===v?b:v),null!==v){if(null===h){if(null===c)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new c(6,f.context.length,_.sampleRate),P=r(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(N.destination),h=te(function*(){const L=yield Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(function(){var V=te(function*(F,Z){const j=e(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===Z?1:0});return yield l(N,F,j.offset),j});return function(F,Z){return V.apply(this,arguments)}}()));for(let V=0;V<6;V+=1)L[V].connect(P,0,V),L[V].start(0);return d(N)})()}const g=yield h,S=n(_,{...y,gain:1});yield a(f,_,S);const C=[];for(let N=0;N<g.numberOfChannels;N+=1)C.push(g.getChannelData(N));let w=[C[0][0],C[1][0],C[2][0]],I=[C[3][0],C[4][0],C[5][0]],A=n(_,{...y,gain:1}),E=o(_,{...T,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:I[0],positionY:I[1],positionZ:I[2]});S.connect(A).connect(E.inputs[0]),E.connect(v);for(let N=128;N<g.length;N+=128){const P=[C[0][N],C[1][N],C[2][N]],L=[C[3][N],C[4][N],C[5][N]];if(P.some((V,F)=>V!==w[F])||L.some((V,F)=>V!==I[F])){w=P,I=L;const V=N/_.sampleRate;A.gain.setValueAtTime(0,V),A=n(_,{...y,gain:0}),E=o(_,{...T,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:I[0],positionY:I[1],positionZ:I[2]}),A.gain.setValueAtTime(1,V),S.connect(A).connect(E.inputs[0]),E.connect(v)}}return v}return M?(yield t(_,f.orientationX,b.orientationX),yield t(_,f.orientationY,b.orientationY),yield t(_,f.orientationZ,b.orientationZ),yield t(_,f.positionX,b.positionX),yield t(_,f.positionY,b.positionY),yield t(_,f.positionZ,b.positionZ)):(yield l(_,f.orientationX,b.orientationX),yield l(_,f.orientationY,b.orientationY),yield l(_,f.orientationZ,b.orientationZ),yield l(_,f.positionX,b.positionX),yield l(_,f.positionY,b.positionY),yield l(_,f.positionZ,b.positionZ)),Ot(b)?yield a(f,_,b.inputs[0]):yield a(f,_,b),b});return function(_,v){return m.apply(this,arguments)}}();return{render(m,f){const _=u.get(f);return void 0!==_?Promise.resolve(_):p(m,f)}}})(Qe,dt,Ft,Le,Kr,ue,Ne,$e,Te,fn),Gl=((t,r,e,n,o,s,c)=>class extends t{constructor(a,d){const u=o(a),h={...uc,...d},p=e(u,h),m=s(u);super(a,!1,p,m?n():null),this._nativePannerNode=p,this._orientationX=r(this,m,p.orientationX,Ee,Fe),this._orientationY=r(this,m,p.orientationY,Ee,Fe),this._orientationZ=r(this,m,p.orientationZ,Ee,Fe),this._positionX=r(this,m,p.positionX,Ee,Fe),this._positionY=r(this,m,p.positionY,Ee,Fe),this._positionZ=r(this,m,p.positionZ,Ee,Fe),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}})(ge,ze,Kr,Ul,ce,ae,St),Yl=(t=>(r,{disableNormalization:e,imag:n,real:o})=>{const s=n instanceof Float32Array?n:new Float32Array(n),c=o instanceof Float32Array?o:new Float32Array(o),l=r.createPeriodicWave(c,s,{disableNormalization:e});if(Array.from(n).length<2)throw t();return l})(Xe),jl=((t,r,e,n)=>class go{constructor(s,c){const l=r(s),a=(t=>{const{imag:r,real:e}=t;return void 0===r?void 0===e?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(e,()=>0),real:e}:void 0===e?{...t,imag:r,real:Array.from(r,()=>0)}:{...t,imag:r,real:e}})({...pc,...c}),d=t(l,a);return e.add(d),d}static[Symbol.hasInstance](s){return null!==s&&"object"==typeof s&&Object.getPrototypeOf(s)===go.prototype||e.has(s)}})(Yl,ce,new WeakSet),zl=((t,r,e,n,o,s)=>{const l=new Float32Array([1,1]),a=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...d,oversample:"none"},m=(f,_,v,b,y)=>{if(1===_)return((f,_,v,b)=>{const y=new Float32Array(16385),T=new Float32Array(16385);for(let I=0;I<16385;I+=1){const A=I/16384*a;y[I]=Math.cos(A),T[I]=Math.sin(A)}const M=e(f,{...d,gain:0}),g=n(f,{...u,curve:y}),S=n(f,{...u,curve:l}),C=e(f,{...d,gain:0}),w=n(f,{...u,curve:T});return{connectGraph(){_.connect(M),_.connect(void 0===S.inputs?S:S.inputs[0]),_.connect(C),S.connect(v),v.connect(void 0===g.inputs?g:g.inputs[0]),v.connect(void 0===w.inputs?w:w.inputs[0]),g.connect(M.gain),w.connect(C.gain),M.connect(b,0,0),C.connect(b,0,1)},disconnectGraph(){_.disconnect(M),_.disconnect(void 0===S.inputs?S:S.inputs[0]),_.disconnect(C),S.disconnect(v),v.disconnect(void 0===g.inputs?g:g.inputs[0]),v.disconnect(void 0===w.inputs?w:w.inputs[0]),g.disconnect(M.gain),w.disconnect(C.gain),M.disconnect(b,0,0),C.disconnect(b,0,1)}}})(f,v,b,y);if(2===_)return((f,_,v,b)=>{const y=new Float32Array(16385),T=new Float32Array(16385),M=new Float32Array(16385),g=new Float32Array(16385),S=Math.floor(8192.5);for(let Z=0;Z<16385;Z+=1)if(Z>S){const j=(Z-S)/(16384-S)*a;y[Z]=Math.cos(j),T[Z]=Math.sin(j),M[Z]=0,g[Z]=1}else{const j=Z/(16384-S)*a;y[Z]=1,T[Z]=0,M[Z]=Math.cos(j),g[Z]=Math.sin(j)}const C=r(f,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=e(f,{...d,gain:0}),I=n(f,{...u,curve:y}),A=e(f,{...d,gain:0}),E=n(f,{...u,curve:T}),N=n(f,{...u,curve:l}),P=e(f,{...d,gain:0}),L=n(f,{...u,curve:M}),V=e(f,{...d,gain:0}),F=n(f,{...u,curve:g});return{connectGraph(){_.connect(C),_.connect(void 0===N.inputs?N:N.inputs[0]),C.connect(w,0),C.connect(A,0),C.connect(P,1),C.connect(V,1),N.connect(v),v.connect(void 0===I.inputs?I:I.inputs[0]),v.connect(void 0===E.inputs?E:E.inputs[0]),v.connect(void 0===L.inputs?L:L.inputs[0]),v.connect(void 0===F.inputs?F:F.inputs[0]),I.connect(w.gain),E.connect(A.gain),L.connect(P.gain),F.connect(V.gain),w.connect(b,0,0),P.connect(b,0,0),A.connect(b,0,1),V.connect(b,0,1)},disconnectGraph(){_.disconnect(C),_.disconnect(void 0===N.inputs?N:N.inputs[0]),C.disconnect(w,0),C.disconnect(A,0),C.disconnect(P,1),C.disconnect(V,1),N.disconnect(v),v.disconnect(void 0===I.inputs?I:I.inputs[0]),v.disconnect(void 0===E.inputs?E:E.inputs[0]),v.disconnect(void 0===L.inputs?L:L.inputs[0]),v.disconnect(void 0===F.inputs?F:F.inputs[0]),I.disconnect(w.gain),E.disconnect(A.gain),L.disconnect(P.gain),F.disconnect(V.gain),w.disconnect(b,0,0),P.disconnect(b,0,0),A.disconnect(b,0,1),V.disconnect(b,0,1)}}})(f,v,b,y);throw o()};return(f,{channelCount:_,channelCountMode:v,pan:b,...y})=>{if("max"===v)throw o();const T=t(f,{...y,channelCount:1,channelCountMode:v,numberOfInputs:2}),M=e(f,{...y,channelCount:_,channelCountMode:v,gain:1}),g=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:b});let{connectGraph:S,disconnectGraph:C}=m(f,_,M,g,T);Object.defineProperty(g.gain,"defaultValue",{get:()=>0}),Object.defineProperty(g.gain,"maxValue",{get:()=>1}),Object.defineProperty(g.gain,"minValue",{get:()=>-1});const w={get bufferSize(){},get channelCount(){return M.channelCount},set channelCount(N){M.channelCount!==N&&(I&&C(),({connectGraph:S,disconnectGraph:C}=m(f,N,M,g,T)),I&&S()),M.channelCount=N},get channelCountMode(){return M.channelCountMode},set channelCountMode(N){if("clamped-max"===N||"max"===N)throw o();M.channelCountMode=N},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(N){M.channelInterpretation=N},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},get pan(){return g.gain},addEventListener:(...N)=>M.addEventListener(N[0],N[1],N[2]),dispatchEvent:(...N)=>M.dispatchEvent(N[0]),removeEventListener:(...N)=>M.removeEventListener(N[0],N[1],N[2])};let I=!1;return s(Dt(w,T),()=>{S(),I=!0},()=>{C(),I=!1})}})(dt,jt,Le,mn,Ae,ut),eo=((t,r)=>(e,n)=>{const o=n.channelCountMode;if("clamped-max"===o)throw r();if(void 0===e.createStereoPanner)return t(e,n);const s=e.createStereoPanner();return ye(s,n),fe(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>o,set:c=>{if(c!==o)throw r()}}),s})(zl,Ae),ql=((t,r,e,n,o)=>()=>{const s=new WeakMap,c=function(){var l=te(function*(a,d){let u=e(a);const h=Me(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value})),s.set(d,u),h?yield t(d,a.pan,u.pan):yield n(d,a.pan,u.pan),Ot(u)?yield o(a,d,u.inputs[0]):yield o(a,d,u),u});return function(d,u){return l.apply(this,arguments)}}();return{render(l,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):c(l,a)}}})(Qe,eo,ue,$e,Te),Hl=((t,r,e,n,o,s)=>class extends t{constructor(l,a){const d=o(l),u={...wc,...a},h=e(d,u),p=s(d);super(l,!1,h,p?n():null),this._pan=r(this,p,h.pan)}get pan(){return this._pan}})(ge,ze,eo,ql,ce,ae),Xl=((t,r,e)=>()=>{const n=new WeakMap,o=function(){var s=te(function*(c,l){let a=r(c);return Me(a,l)||(a=t(l,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),n.set(l,a),Ot(a)?yield e(c,l,a.inputs[0]):yield e(c,l,a),a});return function(l,a){return s.apply(this,arguments)}}();return{render(s,c){const l=n.get(c);return void 0!==l?Promise.resolve(l):o(s,c)}}})(mn,ue,Te),Ql=((t,r,e,n,o,s,c)=>class extends t{constructor(a,d){const u=o(a),h={...Zc,...d},p=e(u,h);super(a,!0,p,s(u)?n():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(null===a)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}})(ge,ve,mn,Xl,ce,ae,St),to=(t=>null!==t&&t.isSecureContext)(je),jn=(t=>(r,e,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(r*e)},currentTime:{configurable:!0,get:()=>r}});try{return n()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(je),no=new WeakMap,$l=((t,r)=>e=>{let n=t.get(e);if(void 0!==n)return n;if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new r(1,1,44100),t.set(e,n),n})(no,Ne),Jl=to?((t,r,e,n,o,s,c,l,a,d,u,h,p)=>{let m=0;return(f,_,v={credentials:"omit"})=>{const b=u.get(f);if(void 0!==b&&b.has(_))return Promise.resolve();const y=d.get(f);if(void 0!==y){const g=y.get(_);if(void 0!==g)return g}const T=s(f),M=void 0===T.audioWorklet?o(_).then(([g,S])=>{const[C,w]=pr(g,S);return e(`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}\n})})(window,'_AWGS')`)}).then(()=>{const g=p._AWGS.pop();if(void 0===g)throw new SyntaxError;n(T.currentTime,T.sampleRate,()=>g(class{},void 0,(S,C)=>{if(""===S.trim())throw r();const w=Mn.get(T);if(void 0!==w){if(w.has(S))throw r();mr(C),fr(C.parameterDescriptors),w.set(S,C)}else mr(C),fr(C.parameterDescriptors),Mn.set(T,new Map([[S,C]]))},T.sampleRate,void 0,void 0))}):Promise.all([o(_),Promise.resolve(t(h,h))]).then(([[g,S],C])=>{const w=m+1;m=w;const[I,A]=pr(g,S),V=new Blob([`${I};((AudioWorkletProcessor,registerProcessor)=>{${A}\n})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),F=URL.createObjectURL(V);return T.audioWorklet.addModule(F,v).then(()=>{if(l(T))return T;const Z=c(T);return Z.audioWorklet.addModule(F,v).then(()=>Z)}).then(Z=>{if(null===a)throw new SyntaxError;try{new a(Z,`__sac${w}`)}catch(j){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(F))});return void 0===y?d.set(f,new Map([[_,M]])):y.set(_,M),M.then(()=>{const g=u.get(f);void 0===g?u.set(f,new Set([_])):g.add(_)}).finally(()=>{const g=d.get(f);void 0!==g&&g.delete(_)}),M}})(Be,Ae,(t=>r=>new Promise((e,n)=>{if(null===t)return void n(new SyntaxError);const o=t.document.head;if(null===o)n(new SyntaxError);else{const s=t.document.createElement("script"),c=new Blob([r],{type:"application/javascript"}),l=URL.createObjectURL(c),a=t.onerror,d=()=>{t.onerror=a,URL.revokeObjectURL(l)};t.onerror=(u,h,p,m,f)=>h===l||h===t.location.href&&1===p&&1===m?(d(),n(f),!1):null!==a?a(u,h,p,m,f):void 0,s.onerror=()=>{d(),n(new SyntaxError)},s.onload=()=>{d(),e()},s.src=l,s.type="module",o.appendChild(s)}}))(je),jn,function(){var r=te(function*(e){try{const n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch(n){}throw new DOMException("","AbortError")});return function(e){return r.apply(this,arguments)}}(),ce,$l,ae,Rt,new WeakMap,new WeakMap,((t,r)=>te(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new r(1,128,44100),o=URL.createObjectURL(e);let s=!1,c=!1;try{yield n.audioWorklet.addModule(o);const l=new t(n,"a",{numberOfOutputs:0}),a=n.createOscillator();l.port.onmessage=()=>s=!0,l.onprocessorerror=()=>c=!0,a.connect(l),a.start(0),yield n.startRendering()}catch(l){}finally{URL.revokeObjectURL(o)}return s&&!c}))(Rt,Ne),je):void 0,Kl=((t,r)=>e=>t(e)||r(e))(Vn,ae),eu=((t,r,e,n,o,s,c,l,a,d,u)=>(h,p)=>{const m=c(h)?h:s(h);if(o.has(p)){const f=new DOMException("","DataCloneError");return Promise.reject(f)}try{o.add(p)}catch(f){}return r(a,()=>a(m))?m.decodeAudioData(p).then(f=>(Ar(p).catch(()=>{}),r(l,()=>l(f))||u(f),t.add(f),f)):new Promise((f,_)=>{const v=function(){var y=te(function*(){try{yield Ar(p)}catch(T){}});return function(){return y.apply(this,arguments)}}(),b=y=>{_(y),v()};try{m.decodeAudioData(p,y=>{"function"!=typeof y.copyFromChannel&&(d(y),kn(y)),t.add(y),v().then(()=>f(y))},y=>{b(null===y?new DOMException("","EncodingError"):y)})}catch(y){b(y)}})})(Zn,Be,0,0,new WeakSet,ce,Kl,tn,wt,Un,Gn),ro=((t,r,e,n,o,s,c,l,a,d,u,h,p,m,f,_,v,b,y,T)=>class extends f{constructor(g,S){super(g,S),this._nativeContext=g,this._audioWorklet=void 0===t?void 0:{addModule:(C,w)=>t(this,C,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new o(this)}createBuffer(g,S,C){return new e({length:S,numberOfChannels:g,sampleRate:C})}createBufferSource(){return new n(this)}createChannelMerger(g=6){return new s(this,{numberOfInputs:g})}createChannelSplitter(g=6){return new c(this,{numberOfOutputs:g})}createConstantSource(){return new l(this)}createConvolver(){return new a(this)}createDelay(g=1){return new u(this,{maxDelayTime:g})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(g,S){return new m(this,{feedback:S,feedforward:g})}createOscillator(){return new _(this)}createPanner(){return new v(this)}createPeriodicWave(g,S,C={disableNormalization:!1}){return new b(this,{...C,imag:S,real:g})}createStereoPanner(){return new y(this)}createWaveShaper(){return new T(this)}decodeAudioData(g,S,C){return d(this._nativeContext,g).then(w=>("function"==typeof S&&S(w),w),w=>{throw"function"==typeof C&&C(w),w})}})(Jl,ul,dl,pl,_l,vl,Cl,Nl,Ml,eu,Il,El,Dl,Fl,Yn,Vl,Gl,jl,Hl,Ql),tu=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),a=((t,r)=>t.createMediaElementSource(r.mediaElement))(l,c);if(n(l))throw TypeError();super(s,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(ge,0,ce,ae),nu=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s);if(n(l))throw new TypeError;const d=((t,r)=>{const e=t.createMediaStreamDestination();return ye(e,r),1===e.numberOfOutputs&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e})(l,{...pa,...c});super(s,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(ge,0,ce,ae),ru=((t,r,e,n)=>class extends t{constructor(s,c){const l=e(s),a=((t,{mediaStream:r})=>{const e=r.getAudioTracks();e.sort((s,c)=>s.id<c.id?-1:s.id>c.id?1:0);const n=e.slice(0,1),o=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(o,"mediaStream",{value:r}),o})(l,c);if(n(l))throw new TypeError;super(s,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(ge,0,ce,ae),ou=((t,r)=>(e,{mediaStreamTrack:n})=>{if("function"==typeof e.createMediaStreamTrackSource)return e.createMediaStreamTrackSource(n);const o=new MediaStream([n]),s=e.createMediaStreamSource(o);if("audio"!==n.kind)throw t();if(r(e))throw new TypeError;return s})(ve,ae),iu=((t,r,e)=>class extends t{constructor(o,s){const c=e(o);super(o,!0,r(c,s),null)}})(ge,ou,ce),oo=((t,r,e,n,o,s,c,l,a)=>class extends t{constructor(u={}){if(null===a)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new a(u)}catch(f){throw 12===f.code&&"sampleRate is not in range"===f.message?e():f}if(null===h)throw n();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==u.sampleRate&&h.sampleRate!==u.sampleRate)throw e();super(h,2);const{latencyHint:p}=u,{sampleRate:m}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===p?512/m:"interactive"===p||void 0===p?256/m:"playback"===p?1024/m:128*Math.max(2,Math.min(128,Math.round(p*m/128)))/m,this._nativeAudioContext=h,"webkitAudioContext"===a.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const f=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",f)};h.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw r()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),(t=>{En(t.destination,[])})(this)}))}createMediaElementSource(u){return new o(this,{mediaElement:u})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(u){return new c(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new l(this,{mediaStreamTrack:u})}resume(){return"suspended"===this._state?new Promise((u,h)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),"running"===this._nativeAudioContext.state?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(u=>{throw void 0===u||15===u.code?r():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw void 0===u?r():u})}})(ro,ve,Ae,Rr,tu,nu,ru,iu,it),zn=(t=>r=>{const e=t.get(r);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e})(Qr),io=((t=>{})(zn),(t=>(r,e,n=0,o=0)=>{const s=r[n];if(void 0===s)throw t();return cn(e)?s.connect(e,0,o):s.connect(e,0)})(Xe)),au=(t=>(r,e)=>{t(r).delete(e)})(zn),so=(t=>(r,e,n,o=0)=>void 0===e?r.forEach(s=>s.disconnect()):"number"==typeof e?dn(t,r,e).disconnect():cn(e)?void 0===n?r.forEach(s=>s.disconnect(e)):void 0===o?dn(t,r,n).disconnect(e,0):dn(t,r,n).disconnect(e,0,o):void 0===n?r.forEach(s=>s.disconnect(e)):dn(t,r,n).disconnect(e,0))(Xe),ao=new WeakMap,cu=((t,r)=>e=>r(t,e))(ao,Ye),lu=((t,r,e,n,o,s,c,l,a,d,u,h,p)=>(m,f,_,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw a();const b=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(b.some(x=>x<1))throw a();if(b.length!==v.numberOfOutputs)throw r();if("explicit"!==v.channelCountMode)throw a();const y=v.channelCount*v.numberOfInputs,T=b.reduce((x,z)=>x+z,0),M=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length;if(y+M>6||T>6)throw a();const g=new MessageChannel,S=[],C=[];for(let x=0;x<v.numberOfInputs;x+=1)S.push(c(m,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),C.push(o(m,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const w=[];if(void 0!==_.parameterDescriptors)for(const{defaultValue:x,maxValue:z,minValue:Se,name:pe}of _.parameterDescriptors){const ne=s(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[pe]?v.parameterData[pe]:void 0===x?0:x});Object.defineProperties(ne.offset,{defaultValue:{get:()=>void 0===x?0:x},maxValue:{get:()=>void 0===z?Ee:z},minValue:{get:()=>void 0===Se?Fe:Se}}),w.push(ne)}const I=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+M)}),A=Er(f,m.sampleRate),E=l(m,A,y+M,Math.max(1,T)),N=o(m,{channelCount:Math.max(1,T),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,T)}),P=[];for(let x=0;x<v.numberOfOutputs;x+=1)P.push(n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:b[x]}));for(let x=0;x<v.numberOfInputs;x+=1){S[x].connect(C[x]);for(let z=0;z<v.channelCount;z+=1)C[x].connect(I,z,x*v.channelCount+z)}const L=new Tr(void 0===_.parameterDescriptors?[]:_.parameterDescriptors.map(({name:x},z)=>{const Se=w[z];return Se.connect(I,0,y+z),Se.start(0),[x,Se.offset]}));I.connect(E);let V=v.channelInterpretation,F=null;const Z=0===v.numberOfOutputs?[E]:P,j={get bufferSize(){return A},get channelCount(){return v.channelCount},set channelCount(x){throw e()},get channelCountMode(){return v.channelCountMode},set channelCountMode(x){throw e()},get channelInterpretation(){return V},set channelInterpretation(x){for(const z of S)z.channelInterpretation=x;V=x},get context(){return E.context},get inputs(){return S},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return F},set onprocessorerror(x){"function"==typeof F&&j.removeEventListener("processorerror",F),F="function"==typeof x?x:null,"function"==typeof F&&j.addEventListener("processorerror",F)},get parameters(){return L},get port(){return g.port2},addEventListener:(...x)=>E.addEventListener(x[0],x[1],x[2]),connect:t.bind(null,Z),disconnect:d.bind(null,Z),dispatchEvent:(...x)=>E.dispatchEvent(x[0]),removeEventListener:(...x)=>E.removeEventListener(x[0],x[1],x[2])},Y=new Map;var x;g.port1.addEventListener=(x=g.port1.addEventListener,(...z)=>{if("message"===z[0]){const Se="function"==typeof z[1]?z[1]:"object"==typeof z[1]&&null!==z[1]&&"function"==typeof z[1].handleEvent?z[1].handleEvent:null;if(null!==Se){const pe=Y.get(z[1]);void 0!==pe?z[1]=pe:(z[1]=ne=>{u(m.currentTime,m.sampleRate,()=>Se(ne))},Y.set(Se,z[1]))}}return x.call(g.port1,z[0],z[1],z[2])}),g.port1.removeEventListener=(x=>(...z)=>{if("message"===z[0]){const Se=Y.get(z[1]);void 0!==Se&&(Y.delete(z[1]),z[1]=Se)}return x.call(g.port1,z[0],z[1],z[2])})(g.port1.removeEventListener);let $=null;Object.defineProperty(g.port1,"onmessage",{get:()=>$,set:x=>{"function"==typeof $&&g.port1.removeEventListener("message",$),$="function"==typeof x?x:null,"function"==typeof $&&(g.port1.addEventListener("message",$),g.port1.start())}}),_.prototype.port=g.port1;let Q=null;((t,r,e,n)=>{let o=An.get(t);void 0===o&&(o=new WeakMap,An.set(t,o));const s=xa(e,n);return o.set(r,s),s})(m,j,_,v).then(x=>Q=x);const Ce=un(v.numberOfInputs,v.channelCount),De=un(v.numberOfOutputs,b),ee=void 0===_.parameterDescriptors?[]:_.parameterDescriptors.reduce((x,{name:z})=>({...x,[z]:new Float32Array(128)}),{});let st=!0;const ht=()=>{v.numberOfOutputs>0&&E.disconnect(N);for(let x=0,z=0;x<v.numberOfOutputs;x+=1){const Se=P[x];for(let pe=0;pe<b[x];pe+=1)N.disconnect(Se,z+pe,pe);z+=b[x]}},D=new Map;E.onaudioprocess=({inputBuffer:x,outputBuffer:z})=>{if(null!==Q){const Se=h(j);for(let pe=0;pe<A;pe+=128){for(let ne=0;ne<v.numberOfInputs;ne+=1)for(let me=0;me<v.channelCount;me+=1)ln(x,Ce[ne],me,me,pe);void 0!==_.parameterDescriptors&&_.parameterDescriptors.forEach(({name:ne},me)=>{ln(x,ee,ne,y+me,pe)});for(let ne=0;ne<v.numberOfInputs;ne+=1)for(let me=0;me<b[ne];me+=1)0===De[ne][me].byteLength&&(De[ne][me]=new Float32Array(128));try{const ne=Ce.map((Ze,pt)=>{if(Se[pt].size>0)return D.set(pt,A/128),Ze;const qn=D.get(pt);return void 0===qn?[]:(Ze.every(ad=>ad.every(cd=>0===cd))&&(1===qn?D.delete(pt):D.set(pt,qn-1)),Ze)});st=u(m.currentTime+pe/m.sampleRate,m.sampleRate,()=>Q.process(ne,De,ee));for(let Ze=0,pt=0;Ze<v.numberOfOutputs;Ze+=1){for(let Ht=0;Ht<b[Ze];Ht+=1)Mr(z,De[Ze],Ht,pt+Ht,pe);pt+=b[Ze]}}catch(ne){st=!1,j.dispatchEvent(new ErrorEvent("processorerror",{colno:ne.colno,filename:ne.filename,lineno:ne.lineno,message:ne.message}))}if(!st){for(let ne=0;ne<v.numberOfInputs;ne+=1){S[ne].disconnect(C[ne]);for(let me=0;me<v.channelCount;me+=1)C[pe].disconnect(I,me,ne*v.channelCount+me)}if(void 0!==_.parameterDescriptors){const ne=_.parameterDescriptors.length;for(let me=0;me<ne;me+=1){const Ze=w[me];Ze.disconnect(I,0,y+me),Ze.stop()}}I.disconnect(E),E.onaudioprocess=null,we?ht():Bt();break}}}};let we=!1;const Je=c(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Lt=()=>E.connect(Je).connect(m.destination),Bt=()=>{E.disconnect(Je),Je.disconnect()};return Lt(),p(j,()=>{if(st){Bt(),v.numberOfOutputs>0&&E.connect(N);for(let x=0,z=0;x<v.numberOfOutputs;x+=1){const Se=P[x];for(let pe=0;pe<b[x];pe+=1)N.connect(Se,z+pe,pe);z+=b[x]}}we=!0},()=>{st&&(Lt(),ht()),we=!1})})(io,Xe,ve,dt,jt,Ft,Le,zt,Ae,so,jn,cu,ut),fu=(((t,r,e,n,o)=>{})(ve,lu,Le,Ae,ut),((t,r,e,n,o,s,c,l,a,d,u,h,p,m,f,_)=>{})(Qe,io,Pt,dt,jt,Ft,Le,au,so,jn,ue,Rt,Ne,$e,Te,fn),(t=>{})(no),(t=>{})(ao),((t,r)=>{})(Ae,Ne),((t,r,e,n,o,s,c,l)=>{})(Zn,Be,Bn,zn,fn,tn,Un,Gn),()=>da(Be,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch(o){return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const r=new t,e=void 0!==r.close;try{r.close()}catch(n){}return e})(it),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);return new Promise(e=>{let n=!0;const o=c=>{n&&(n=!1,r.startRendering(),e(c instanceof TypeError))};let s;try{s=r.decodeAudioData(null,()=>{},o)}catch(c){o(c)}void 0!==s&&s.catch(o)})})(Ne),(t=>()=>{if(null===t)return!1;let r;try{r=new t({latencyHint:"balanced"})}catch(e){return!1}return r.close(),!0})(it),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Ne),((t,r)=>te(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new MessageChannel,o=new r(1,128,44100),s=URL.createObjectURL(e);let c=!1;try{yield o.audioWorklet.addModule(s);const l=new t(o,"a",{numberOfOutputs:0}),a=o.createOscillator();yield new Promise(d=>{l.port.onmessage=()=>d(),l.port.postMessage(n.port2,[n.port2])}),l.port.onmessage=()=>c=!0,a.connect(l),a.start(0),yield o.startRendering(),c=yield new Promise(d=>{n.port1.onmessage=({data:u})=>d(1===u),n.port1.postMessage(0)})}catch(l){}finally{n.port1.close(),URL.revokeObjectURL(s)}return c}))(Rt,Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch(n){return!0}return!1})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100);return void 0===r.createConstantSource||r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100),e=r.createConvolver();e.buffer=r.createBuffer(1,1,r.sampleRate);try{e.buffer=r.createBuffer(1,1,r.sampleRate)}catch(n){return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch(n){return!1}return!0})(Ne),nl,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(je),(t=>()=>{if(null===t)return!1;const r=new t;try{return r.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}finally{r.close()}})(it),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);if(void 0===r.createStereoPanner||void 0===r.createConstantSource)return Promise.resolve(!0);const e=r.createConstantSource(),n=r.createStereoPanner();return e.channelCount=1,e.offset.value=1,n.channelCount=1,e.start(),e.connect(n).connect(r.destination),r.startRendering().then(o=>1!==o.getChannelData(0)[0])})(Ne),rl));var t;function mu(t){return new oo({latencyHint:t})}class uo extends oo{}function _u(){return fu}const ho=new i.OlP("LATENCY_HINT"),bu=new i.OlP("IS_SUPPORTED_PROMISE");let gu=(()=>{class t{static forChild(){return{ngModule:t}}static forRoot(e){return{ngModule:t,providers:[{deps:[ho],provide:uo,useFactory:mu},{provide:ho,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:bu,useFactory:_u}],imports:[[B.ez]]}),t})(),vu=(()=>{class t{constructor(e,n,o,s){this.lobbyStore=e,this.lobbyMusicHttpService=n,this.socket=o,this.audioContext=s,this.subscriptions=[]}ngOnInit(){var e=this;this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=.5,this.gainNode.connect(this.audioContext.destination),this.subscriptions=[this.lobbyStore.currentLobbyMusicId.subscribe(function(){var n=te(function*(o){var s;if(null!==o){yield e.audioContext.resume();const c=yield e.audioContext.decodeAudioData(o);e.source=e.audioContext.createBufferSource(),e.source.buffer=c,e.source.connect(e.gainNode),e.source.start()}else null===(s=e.source)||void 0===s||s.stop()});return function(o){return n.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(n=>{var o;n&&n.status!==rt.D.PlayingMusic&&(null===(o=this.source)||void 0===o||o.stop())})]}ngOnDestroy(){var e;null===(e=this.source)||void 0===e||e.stop(),this.audioContext.suspend(),this.subscriptions.forEach(n=>n.unsubscribe())}updateVolume(e){this.gainNode.gain.value=e.value}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ve),i.Y36(si),i.Y36(Ue.i),i.Y36(uo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-audio-player"]],decls:1,vars:5,consts:[["aria-label","unit(s)","color","primary",3,"value","vertical","min","max","step","input"]],template:function(e,n){1&e&&(i.TgZ(0,"mat-slider",0),i.NdJ("input",function(s){return n.updateVolume(s)}),i.qZA()),2&e&&i.Q6J("value",n.gainNode.gain.value)("vertical",!0)("min",0)("max",1)("step",.001)},directives:[Vt],encapsulation:2}),t})(),yu=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-countdown"]],decls:2,vars:3,template:function(e,n){1&e&&(i._uU(0),i.ALo(1,"async")),2&e&&i.hij("",i.lcZ(1,1,n.counter),"\n")},pipes:[B.Ov],encapsulation:2}),t})();var Cu=k(9646),wu=k(9094),Su=k(3900),po=k(3092);const Nu=["answerInput"],Tu=["trigger"];function Mu(t,r){if(1&t&&(i.TgZ(0,"mat-option",7),i._uU(1),i.qZA()),2&t){const e=r.$implicit;i.Q6J("value",e),i.xp6(1),i.hij(" ",e," ")}}let Au=(()=>{class t{constructor(e,n,o,s,c){this.lobbyHttpService=e,this.lobbyStore=n,this.gameHttpService=o,this.socket=s,this.cdf=c,this.myControl=new U.NI,this.me=null,this.lobbyStatuses=rt.D,this.subscriptions=[]}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,wu.x)(),(0,Su.w)(e=>e?this.gameHttpService.getNames(e):(0,Cu.of)(null)))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{var n;null!==e&&((null===(n=this.me)||void 0===n?void 0:n.role)===oe.Spectator?this.myControl.disable():e.status===rt.D.AnswerReveal?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.me=e,(this.me.role==oe.Spectator||!0===e.correctAnswer)&&this.myControl.disable())})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ie.Y),i.Y36(Ve),i.Y36(sr.q),i.Y36(Ue.i),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-answer"]],viewQuery:function(e,n){if(1&e&&(i.Gf(Nu,5),i.Gf(Tu,5)),2&e){let o;i.iGM(o=i.CRH())&&(n.answerInput=o.first),i.iGM(o=i.CRH())&&(n.matAutocompleteTrigger=o.first)}},decls:10,vars:9,consts:[[3,"ngSubmit"],[2,"width","100%"],["type","text","placeholder","Pick one","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,n){if(1&e&&(i.TgZ(0,"form",0),i.NdJ("ngSubmit",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||!n.myControl.value||n.submit()}),i.TgZ(1,"mat-form-field",1),i._UZ(2,"input",2,3),i.TgZ(5,"mat-autocomplete",4,5),i.NdJ("optionSelected",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||n.submit()}),i.YNc(7,Mu,2,2,"mat-option",6),i.ALo(8,"slice"),i.ALo(9,"async"),i.qZA()()()),2&e){const o=i.MAs(6);i.xp6(2),i.Q6J("formControl",n.myControl)("matAutocomplete",o),i.xp6(5),i.Q6J("ngForOf",i.Dn7(8,3,i.lcZ(9,7,n.gameNames),0,30))}},directives:[U._Y,U.JL,U.F,mt.KE,Ke.Nt,U.Fj,po.ZL,U.JJ,U.oH,po.XC,B.sg,be.ey],pipes:[B.OU,B.Ov],encapsulation:2}),t})(),Iu=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ve))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-center-container"]],decls:5,vars:0,consts:[[1,"bg-dark","p-4","h-100"],[1,"d-flex","flex-column","justify-content-between"],[1,"row","justify-content-end"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1),i._UZ(2,"app-lobby-audio-player",2)(3,"app-lobby-countdown")(4,"app-lobby-answer"),i.qZA()())},directives:[vu,yu,Au],encapsulation:2}),t})(),ku=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-playing"]],decls:10,vars:0,consts:[[1,"row"],[1,"col-md-3"],[1,"mt-2"],[1,"col-md-6"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div"),i._UZ(3,"app-lobby-information"),i.qZA(),i.TgZ(4,"div",2),i._UZ(5,"app-lobby-answer-reveal"),i.qZA()(),i.TgZ(6,"div",3),i._UZ(7,"app-lobby-center-container"),i.qZA(),i.TgZ(8,"div",1),i._UZ(9,"app-button-play"),i.qZA()())},directives:[ei,ri,Iu,ir],encapsulation:2}),t})();function Eu(t,r){1&t&&i._UZ(0,"i",7)}function Ou(t,r){1&t&&i._UZ(0,"i",8)}function Du(t,r){if(1&t&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&t){const e=i.oxw().$implicit;i.xp6(1),i.hij("-> ",e.answer,"")}}const xu=function(t){return{"text-muted":t}};function Ru(t,r){if(1&t&&(i.TgZ(0,"div",2)(1,"span",3),i.YNc(2,Eu,1,0,"i",4),i.YNc(3,Ou,1,0,"i",5),i._uU(4),i.YNc(5,Du,2,1,"span",6),i.qZA()()),2&t){const e=r.$implicit,n=i.oxw();i.xp6(1),i.Q6J("@userStatus",n.getStatusClass(e))("ngClass",i.VKq(6,xu,e.disconnected||e.role===n.lobbyUserRoles.Spectator)),i.xp6(1),i.Q6J("ngIf",e.role===n.lobbyUserRoles.Host),i.xp6(1),i.Q6J("ngIf",e.role===n.lobbyUserRoles.Spectator&&!e.disconnected),i.xp6(1),i.hij(" ",e.user.username," "),i.xp6(1),i.Q6J("ngIf",e.answer)}}let Pu=(()=>{class t{constructor(e){this.lobbyStore=e,this.showRank=!1,this.lobbyStatuses=rt.D,this.lobbyUserRoles=oe,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{this.users=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobbyStatus=e.status})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusClass(e){return!1===e.correctAnswer?"wrongAnswer":!0===e.correctAnswer?"correctAnswer":"default"}animationDone(e){console.log(e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ve))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],["class","user-card bg-dark mx-2 text-center p-1",4,"ngFor","ngForOf"],[1,"user-card","bg-dark","mx-2","text-center","p-1"],[3,"ngClass"],["class","fa fa-star mr-1",4,"ngIf"],["class","fa fa-ghost mr-1",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-star","mr-1"],[1,"fa","fa-ghost","mr-1"]],template:function(e,n){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Ru,6,8,"div",1),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngForOf",n.users))},directives:[B.sg,B.mk,B.O5],encapsulation:2,data:{animation:[(0,K.X$)("userStatus",[(0,K.SB)("wrongAnswer",(0,K.oB)({color:"white"})),(0,K.SB)("correctAnswer",(0,K.oB)({color:"green"})),(0,K.SB)("default",(0,K.oB)({color:"white"})),(0,K.eR)("* => wrongAnswer",[(0,K.jt)("1s",(0,K.F4)([(0,K.oB)({color:"red",offset:0}),(0,K.oB)({color:"white",offset:.75})]))])])]}}),t})();function Fu(t,r){1&t&&(i.ynx(0),i._UZ(1,"app-lobby-waiting"),i.BQk())}function Lu(t,r){1&t&&(i.ynx(0),i._uU(1," Loading musics "),i.BQk())}function Bu(t,r){1&t&&(i.ynx(0),i._UZ(1,"app-lobby-playing"),i.BQk())}function Vu(t,r){if(1&t&&(i.ynx(0),i.YNc(1,Fu,2,0,"ng-container",2),i.YNc(2,Lu,2,0,"ng-container",2),i.YNc(3,Bu,2,0,"ng-container",2),i._UZ(4,"app-lobby-users"),i.BQk()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Waiting),i.xp6(1),i.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Loading),i.xp6(1),i.Q6J("ngIf",e.lobbyService.isPLaying(e.lobby))}}function Wu(t,r){1&t&&i._uU(0,"loading")}let Zu=(()=>{class t{constructor(e,n,o,s,c,l,a,d,u){this.lobbyHttpService=e,this.lobbyService=n,this.router=o,this.route=s,this.dialog=c,this.socket=l,this.authService=a,this.lobbyStore=d,this.snackBar=u,this.lobbyStatuses=rt.D,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.lobbyStore.disconnect(),this.lobbyHttpService.leave().subscribe(()=>{})}ngOnInit(){this.subscriptions=[this.socket.fromEvent("UnauthorizedException").subscribe(()=>{this.socket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.socket.emitWithoutSaving("reconnect",this.lobbyCode),this.socket.emit(this.socket.lastTriedOutputEventName,...this.socket.lastTriedOutputArgs)})}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(Bo.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("lobbyJoined").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyUsers").subscribe(e=>{console.log(e),this.lobbyStore.setUsers(e)}),this.socket.fromEvent("lobby").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.socket.fromEvent("lobbyMusic").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicId(e)}),this.socket.fromEvent("lobbyAnswer").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicAnswer(e)}),this.socket.fromEvent("lobbyUserAnswer").subscribe(e=>{this.lobbyStore.handleLobbyUserAnswer(e)}),this.socket.fromEvent("lobbyClosed").subscribe(e=>{this.router.navigate(["/"])}),this.socket.fromEvent("lobbyReset").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyMusicId(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(e=>{this.snackBar.open(e,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.route.paramMap.subscribe(e=>{this.lobbyCode=e.get("code")})],this.lobbyService.join(this.lobbyCode)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(ie.Y),i.Y36(Vo.V),i.Y36(Re.F0),i.Y36(Re.gz),i.Y36(Wo.uw),i.Y36(Ue.i),i.Y36(ft.e),i.Y36(Ve),i.Y36(Xo))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-lobby"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"]],template:function(e,n){if(1&e&&(i.YNc(0,Vu,5,3,"ng-container",0),i.YNc(1,Wu,1,0,"ng-template",null,1,i.W1O)),2&e){const o=i.MAs(2);i.Q6J("ngIf",n.lobby)("ngIfElse",o)}},directives:[B.O5,Ko,ku,Pu],encapsulation:2}),t})(),td=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[be.si,be.BQ],be.BQ]}),t})();var nd=k(5245);const rd=[{path:"create",component:Fo},{path:":code",component:Zu},{path:"**",redirectTo:"create"}];let od=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[ie.Y],imports:[[B.ez,Re.Bz.forChild(rd),Lo.m,O,rr,td,xo,gu.forRoot("balanced"),nd.Ps]]}),t})()},8021:function(X,_e,k){!function(B,i,U,oe){"use strict";function he(J){return J&&"object"==typeof J&&"default"in J?J:{default:J}}var xe=he(i),ie=he(U),Re=he(oe),Ue=function(R,q,O){return{endTime:q,insertTime:O,type:"exponentialRampToValue",value:R}},at=function(R,q,O){return{endTime:q,insertTime:O,type:"linearRampToValue",value:R}},ft=function(R,q){return{startTime:q,type:"setValue",value:R}},Ve=function(R,q,O){return{duration:O,startTime:q,type:"setValueCurve",values:R}},mt=function(R,q,O){var W=O.target;return W+(q-W)*Math.exp((O.startTime-R)/O.timeConstant)},Ke=function(R){return"exponentialRampToValue"===R.type},be=function(R){return"linearRampToValue"===R.type},se=function(R){return Ke(R)||be(R)},Ie=function(R){return"setValue"===R.type},Pe=function(R){return"setValueCurve"===R.type},et=function J(R,q,O,H){var W=R[q];return void 0===W?H:se(W)||Ie(W)?W.value:Pe(W)?W.values[W.values.length-1]:mt(O,J(R,q-1,W.startTime,H),W)},Xt=function(R,q,O,H,W){return void 0===O?[H.insertTime,W]:se(O)?[O.endTime,O.value]:Ie(O)?[O.startTime,O.value]:Pe(O)?[O.startTime+O.duration,O.values[O.values.length-1]]:[O.startTime,et(R,q-1,O.startTime,W)]},Ge=function(R){return"cancelAndHold"===R.type},Nt=function(R){return"cancelScheduledValues"===R.type},qe=function(R){return Ge(R)||Nt(R)?R.cancelTime:Ke(R)||be(R)?R.endTime:R.startTime},ke=function(R,q,O,H){var re=H.value;return O===re?re:0<O&&0<re||O<0&&re<0?O*Math.pow(re/O,(R-q)/(H.endTime-q)):0},Qt=function(R,q,O,H){return O+(R-q)/(H.endTime-q)*(H.value-O)},bn=function(R,q){var W=q.values;return function(R,q){var O=Math.floor(q),H=Math.ceil(q);return O===H?R[O]:(1-(q-O))*R[O]+(1-(H-q))*R[H]}(W,(R-q.startTime)/q.duration*(W.length-1))},Tt=function(R){return"setTarget"===R.type},gn=function(J){function R(q){ie.default(this,R),this._automationEvents=[],this._currenTime=0,this._defaultValue=q}return Re.default(R,[{key:J,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(O){var H=qe(O);if(Ge(O)||Nt(O)){var W=this._automationEvents.findIndex(function(He){return Nt(O)&&Pe(He)?He.startTime+He.duration>=H:qe(He)>=H}),re=this._automationEvents[W];if(-1!==W&&(this._automationEvents=this._automationEvents.slice(0,W)),Ge(O)){var G=this._automationEvents[this._automationEvents.length-1];if(void 0!==re&&se(re)){if(Tt(G))throw new Error("The internal list is malformed.");var Mt=Pe(G)?G.startTime+G.duration:qe(G),bt=Pe(G)?G.values[G.values.length-1]:G.value,At=Ke(re)?ke(H,Mt,bt,re):Qt(H,Mt,bt,re),gt=Ke(re)?Ue(At,H,this._currenTime):at(At,H,this._currenTime);this._automationEvents.push(gt)}void 0!==G&&Tt(G)&&this._automationEvents.push(ft(this.getValue(H),H)),void 0!==G&&Pe(G)&&G.startTime+G.duration>H&&(this._automationEvents[this._automationEvents.length-1]=Ve(new Float32Array([6,7]),G.startTime,H-G.startTime))}}else{var tt=this._automationEvents.findIndex(function(He){return qe(He)>H}),nt=-1===tt?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[tt-1];if(void 0!==nt&&Pe(nt)&&qe(nt)+nt.duration>H)return!1;var vt=Ke(O)?Ue(O.value,O.endTime,this._currenTime):be(O)?at(O.value,H,this._currenTime):O;if(-1===tt)this._automationEvents.push(vt);else{if(Pe(O)&&H+O.duration>qe(this._automationEvents[tt]))return!1;this._automationEvents.splice(tt,0,vt)}}return!0}},{key:"flush",value:function(O){var H=this._automationEvents.findIndex(function(G){return qe(G)>O});if(H>1){var W=this._automationEvents.slice(H-1),re=W[0];Tt(re)&&W.unshift(ft(et(this._automationEvents,H-2,re.startTime,this._defaultValue),re.startTime)),this._automationEvents=W}}},{key:"getValue",value:function(O){if(0===this._automationEvents.length)return this._defaultValue;var H=this._automationEvents.findIndex(function(We){return qe(We)>O}),W=this._automationEvents[H],re=(-1===H?this._automationEvents.length:H)-1,G=this._automationEvents[re];if(void 0!==G&&Tt(G)&&(void 0===W||!se(W)||W.insertTime>O))return mt(O,et(this._automationEvents,re-1,G.startTime,this._defaultValue),G);if(void 0!==G&&Ie(G)&&(void 0===W||!se(W)))return G.value;if(void 0!==G&&Pe(G)&&(void 0===W||!se(W)||G.startTime+G.duration>O))return O<G.startTime+G.duration?bn(O,G):G.values[G.values.length-1];if(void 0!==G&&se(G)&&(void 0===W||!se(W)))return G.value;if(void 0!==W&&Ke(W)){var Mt=Xt(this._automationEvents,re,G,W,this._defaultValue),bt=xe.default(Mt,2);return ke(O,bt[0],bt[1],W)}if(void 0!==W&&be(W)){var tt=Xt(this._automationEvents,re,G,W,this._defaultValue),nt=xe.default(tt,2);return Qt(O,nt[0],nt[1],W)}return this._defaultValue}}]),R}(Symbol.iterator);B.AutomationEventList=gn,B.createCancelAndHoldAutomationEvent=function(R){return{cancelTime:R,type:"cancelAndHold"}},B.createCancelScheduledValuesAutomationEvent=function(R){return{cancelTime:R,type:"cancelScheduledValues"}},B.createExponentialRampToValueAutomationEvent=function(R,q){return{endTime:q,type:"exponentialRampToValue",value:R}},B.createLinearRampToValueAutomationEvent=function(R,q){return{endTime:q,type:"linearRampToValue",value:R}},B.createSetTargetAutomationEvent=function(R,q,O){return{startTime:q,target:R,timeConstant:O,type:"setTarget"}},B.createSetValueAutomationEvent=ft,B.createSetValueCurveAutomationEvent=Ve,Object.defineProperty(B,"__esModule",{value:!0})}(_e,k(1428),k(785),k(2919))},3915:X=>{X.exports=function _e(k,B){(null==B||B>k.length)&&(B=k.length);for(var i=0,U=new Array(B);i<B;i++)U[i]=k[i];return U},X.exports.__esModule=!0,X.exports.default=X.exports},7572:X=>{X.exports=function _e(k){if(Array.isArray(k))return k},X.exports.__esModule=!0,X.exports.default=X.exports},785:X=>{X.exports=function _e(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")},X.exports.__esModule=!0,X.exports.default=X.exports},2919:X=>{function _e(B,i){for(var U=0;U<i.length;U++){var oe=i[U];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(B,oe.key,oe)}}X.exports=function k(B,i,U){return i&&_e(B.prototype,i),U&&_e(B,U),Object.defineProperty(B,"prototype",{writable:!1}),B},X.exports.__esModule=!0,X.exports.default=X.exports},617:X=>{X.exports=function _e(k,B){var i=null==k?null:"undefined"!=typeof Symbol&&k[Symbol.iterator]||k["@@iterator"];if(null!=i){var xe,ie,U=[],oe=!0,he=!1;try{for(i=i.call(k);!(oe=(xe=i.next()).done)&&(U.push(xe.value),!B||U.length!==B);oe=!0);}catch(Re){he=!0,ie=Re}finally{try{!oe&&null!=i.return&&i.return()}finally{if(he)throw ie}}return U}},X.exports.__esModule=!0,X.exports.default=X.exports},3600:X=>{X.exports=function _e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},X.exports.__esModule=!0,X.exports.default=X.exports},1428:(X,_e,k)=>{var B=k(7572),i=k(617),U=k(2105),oe=k(3600);X.exports=function he(xe,ie){return B(xe)||i(xe,ie)||U(xe,ie)||oe()},X.exports.__esModule=!0,X.exports.default=X.exports},2105:(X,_e,k)=>{var B=k(3915);X.exports=function i(U,oe){if(U){if("string"==typeof U)return B(U,oe);var he=Object.prototype.toString.call(U).slice(8,-1);if("Object"===he&&U.constructor&&(he=U.constructor.name),"Map"===he||"Set"===he)return Array.from(U);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return B(U,oe)}},X.exports.__esModule=!0,X.exports.default=X.exports}}]);