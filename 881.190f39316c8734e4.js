(self.webpackChunkvgmq=self.webpackChunkvgmq||[]).push([[881],{9743:(J,be,E)=>{"use strict";E.d(be,{q:()=>xe});var D=E(2843),o=E(2340),F=E(262),W=E(5e3),ie=E(520);let xe=(()=>{class Ie{constructor(le){this.http=le,this.apiEndpoint=o.N.apiEndpoint}search(le,Me,ke){return this.http.get(`${this.apiEndpoint}/games`,{params:{query:le.query,...le.myGames&&{filterByUser:"true"},...Me&&{skip:Me},...ke&&{limit:ke}}})}importByUrl(le){return this.http.get(`${this.apiEndpoint}/games/import`,{params:{url:le}}).pipe((0,F.K)(Me=>(0,D._)(()=>Me.error)))}get(le){return this.http.get(`${this.apiEndpoint}/games/${le}`)}addToList(le){return this.http.get(`${this.apiEndpoint}/games/${le}/add`)}removeFromList(le){return this.http.get(`${this.apiEndpoint}/games/${le}/remove`)}getNames(le){return this.http.get(`${this.apiEndpoint}/games/names`,{params:{query:le}})}}return Ie.\u0275fac=function(le){return new(le||Ie)(W.LFG(ie.eN))},Ie.\u0275prov=W.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},881:(J,be,E)=>{"use strict";E.r(be),E.d(be,{LobbyModule:()=>Bd});var D=E(9808),o=E(5e3),F=E(3075),W=E(5594),ie=(()=>{return(t=ie||(ie={})).Host="host",t.Player="player",t.Spectator="spectator",ie;var t})(),xe=(()=>{return(t=xe||(xe={})).Buffering="buffering",t.ReadyToPlayMusic="ready_to_play_music",xe;var t})(),Ie=E(8746),Ge=E(8720),le=E(7771),Me=E(9998),ke=E(1135),ft=E(263),mt=E(7261);let fe=(()=>{class t{constructor(e,n,i){this.authService=e,this.router=n,this.snack=i,this.usersBehaviorSubject=new ke.X(null),this.meBehaviorSubject=new ke.X(null),this.lobbyBehaviorSubject=new ke.X(null),this.currentLobbyAudioBufferBehaviorSubject=new ke.X(null),this.currentLobbyMusicAnswerBehaviorSubject=new ke.X(null),this.currentLobbyMusicBehaviorSubject=new ke.X(null),this.canPlayMusicBehaviorSubject=new ke.X(!1),this.resumeMusicBehaviorSubject=new ke.X(void 0),this.messagesBehaviorSubject=new ke.X([]),this.hintModeGamesBehaviorSubject=new ke.X([]),this.lobby=this.lobbyBehaviorSubject.asObservable(),this.users=this.usersBehaviorSubject.asObservable(),this.me=this.meBehaviorSubject.asObservable(),this.currentLobbyAudioBuffer=this.currentLobbyAudioBufferBehaviorSubject.asObservable(),this.currentLobbyMusicAnswer=this.currentLobbyMusicAnswerBehaviorSubject.asObservable(),this.currentLobbyMusic=this.currentLobbyMusicBehaviorSubject.asObservable(),this.canPlayMusic=this.canPlayMusicBehaviorSubject.asObservable(),this.resumeMusic=this.resumeMusicBehaviorSubject.asObservable(),this.messages=this.messagesBehaviorSubject.asObservable(),this.hintModeGames=this.hintModeGamesBehaviorSubject.asObservable()}disconnect(){this.lobbyBehaviorSubject.next(null),this.usersBehaviorSubject.next(null),this.meBehaviorSubject.next(null),this.currentLobbyAudioBufferBehaviorSubject.next(null),this.currentLobbyMusicAnswerBehaviorSubject.next(null)}getLobby(){return this.lobbyBehaviorSubject.getValue()}setLobby(e){this.lobbyBehaviorSubject.next(e)}getUsers(){return this.usersBehaviorSubject.getValue()}setUsers(e){const n=e.find(i=>i.user.username===this.authService.decodeJwt().username);void 0===n?(this.snack.open("You have been kicked out from the lobby",void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3}),this.router.navigate(["/"])):(n.me=!0,this.usersBehaviorSubject.next(e),this.meBehaviorSubject.next(n))}getCurrentLobbyAudioBuffer(){return this.currentLobbyAudioBufferBehaviorSubject.getValue()}setCurrentLobbyAudioBuffer(e){this.currentLobbyAudioBufferBehaviorSubject.next(e)}getCurrentLobbyMusicAnswer(){return this.currentLobbyMusicAnswerBehaviorSubject.getValue()}setCurrentLobbyMusicAnswer(e){this.currentLobbyMusicAnswerBehaviorSubject.next(e)}getCurrentLobbyMusic(){return this.currentLobbyMusicBehaviorSubject.getValue()}setCurrentLobbyMusic(e){this.currentLobbyMusicBehaviorSubject.next(e)}updateLobbyUser(e){const n=this.getUsers(),i=n.findIndex(s=>s.user.username===e.user.username);-1!==i&&(n[i]=e),this.setUsers(n)}getCanPlayMusic(){return this.canPlayMusicBehaviorSubject.getValue()}setCanPlayMusic(e){this.canPlayMusicBehaviorSubject.next(e)}setResumeMusic(){this.resumeMusicBehaviorSubject.next()}getMessages(){return this.messagesBehaviorSubject.getValue()}addMessage(e){this.messagesBehaviorSubject.next([...this.getMessages(),e])}setHintModeGames(e){this.hintModeGamesBehaviorSubject.next(e)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(ft.e),o.LFG(le.F0),o.LFG(mt.ux))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var gt=E(7446),Le=E(7322),_t=E(7531),ce=E(508),Ae=E(3191),We=E(1159),xt=E(925),Ot=E(727),Ye=E(5664),qt=E(226);const jt=["sliderWrapper"],Be=(0,xt.i$)({passive:!1}),mn={provide:F.JU,useExisting:(0,o.Gpc)(()=>Dt),multi:!0};class gn{}const _n=(0,ce.sb)((0,ce.pj)((0,ce.Id)(class{constructor(t){this._elementRef=t}}),"accent"));let Dt=(()=>{class t extends _n{constructor(e,n,i,s,l,c,a,d){super(e),this._focusMonitor=n,this._changeDetectorRef=i,this._dir=s,this._ngZone=c,this._animationMode=d,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new o.vpe,this.input=new o.vpe,this.valueChange=new o.vpe,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Ot.w0.EMPTY,this._pointerDown=u=>{this.disabled||this._isSliding||!R(u)&&0!==u.button||this._ngZone.run(()=>{this._touchId=R(u)?function X(t,r){for(let e=0;e<t.touches.length;e++){const n=t.touches[e].target;if(r===n||r.contains(n))return t.touches[e].identifier}}(u,this._elementRef.nativeElement):void 0;const h=z(u,this._touchId);if(h){const p=this.value;this._isSliding="pointer",this._lastPointerEvent=u,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(u),this._focusHostElement(),this._updateValueFromPosition(h),this._valueOnSlideStart=p,u.cancelable&&u.preventDefault(),p!=this.value&&this._emitInputEvent()}})},this._pointerMove=u=>{if("pointer"===this._isSliding){const h=z(u,this._touchId);if(h){u.cancelable&&u.preventDefault();const p=this.value;this._lastPointerEvent=u,this._updateValueFromPosition(h),p!=this.value&&this._emitInputEvent()}}},this._pointerUp=u=>{"pointer"===this._isSliding&&(!R(u)||"number"!=typeof this._touchId||O(u.changedTouches,this._touchId))&&(u.cancelable&&u.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=a,this.tabIndex=parseInt(l)||0,c.runOutsideAngular(()=>{const u=e.nativeElement;u.addEventListener("mousedown",this._pointerDown,Be),u.addEventListener("touchstart",this._pointerDown,Be)})}get invert(){return this._invert}set invert(e){this._invert=(0,Ae.Ig)(e)}get max(){return this._max}set max(e){this._max=(0,Ae.su)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=(0,Ae.su)(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=(0,Ae.su)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=(0,Ae.Ig)(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?(0,Ae.su)(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let n=(0,Ae.su)(e,0);this._roundToDecimal&&n!==this.min&&n!==this.max&&(n=parseFloat(n.toFixed(this._roundToDecimal))),this._value=n,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=(0,Ae.Ig)(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const n=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${n})`}}_getTrackFillStyles(){const e=this.percent,i=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${i})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,c={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const a=this._shouldInvertAxis();let d;d=this.vertical?a?"Bottom":"Top":a?"Right":"Left",c[`padding${d}`]=`${this._getThumbGap()}px`}return c}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,Be),e.removeEventListener("touchstart",this._pointerDown,Be),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||(0,We.Vb)(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const n=this.value;switch(e.keyCode){case We.Ku:this._increment(10);break;case We.VM:this._increment(-10);break;case We.uR:this.value=this.max;break;case We.Sd:this.value=this.min;break;case We.oh:this._increment("rtl"==this._getDirection()?1:-1);break;case We.LH:this._increment(1);break;case We.SV:this._increment("rtl"==this._getDirection()?-1:1);break;case We.JH:this._increment(-1);break;default:return}n!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const n=this._document,i=R(e),l=i?"touchend":"mouseup";n.addEventListener(i?"touchmove":"mousemove",this._pointerMove,Be),n.addEventListener(l,this._pointerUp,Be),i&&n.addEventListener("touchcancel",this._pointerUp,Be);const c=this._getWindow();void 0!==c&&c&&c.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Be),e.removeEventListener("mouseup",this._pointerUp,Be),e.removeEventListener("touchmove",this._pointerMove,Be),e.removeEventListener("touchend",this._pointerUp,Be),e.removeEventListener("touchcancel",this._pointerUp,Be);const n=this._getWindow();void 0!==n&&n&&n.removeEventListener("blur",this._windowBlur)}_increment(e){const n=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(n+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let l=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(l=1-l),0===l)this.value=this.min;else if(1===l)this.value=this.max;else{const c=this._calculateValue(l),a=Math.round((c-this.min)/this.step)*this.step+this.min;this.value=this._clamp(a,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let n=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(n*this.step/(this.max-this.min)))*this.step/n}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=ne(e)?e:0}_createChangeEvent(e=this.value){let n=new gn;return n.source=this,n.value=e,n}_calculatePercentage(e){const n=((e||0)-this.min)/(this.max-this.min);return ne(n)?n:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,n=0,i=1){return Math.max(n,Math.min(e,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.SBq),o.Y36(Ye.tE),o.Y36(o.sBO),o.Y36(qt.Is,8),o.$8M("tabindex"),o.Y36(o.R0b),o.Y36(D.K0),o.Y36(o.QbO,8))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-slider"]],viewQuery:function(e,n){if(1&e&&o.Gf(jt,5),2&e){let i;o.iGM(i=o.CRH())&&(n._sliderWrapper=i.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,n){1&e&&o.NdJ("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()})("keydown",function(s){return n._onKeydown(s)})("keyup",function(){return n._onKeyup()})("mouseenter",function(){return n._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&e&&(o.Ikx("tabIndex",n.tabIndex),o.uIk("aria-disabled",n.disabled)("aria-valuemax",n.max)("aria-valuemin",n.min)("aria-valuenow",n.value)("aria-valuetext",null==n.valueText?n.displayValue:n.valueText)("aria-orientation",n.vertical?"vertical":"horizontal"),o.ekj("mat-slider-disabled",n.disabled)("mat-slider-has-ticks",n.tickInterval)("mat-slider-horizontal",!n.vertical)("mat-slider-axis-inverted",n._shouldInvertAxis())("mat-slider-invert-mouse-coords",n._shouldInvertMouseCoords())("mat-slider-sliding",n._isSliding)("mat-slider-thumb-label-showing",n.thumbLabel)("mat-slider-vertical",n.vertical)("mat-slider-min-value",n._isMinValue())("mat-slider-hide-last-tick",n.disabled||n._isMinValue()&&n._getThumbGap()&&n._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===n._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[o._Bn([mn]),o.qOj],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0,1)(2,"div",2),o._UZ(3,"div",3)(4,"div",4),o.qZA(),o.TgZ(5,"div",5),o._UZ(6,"div",6),o.qZA(),o.TgZ(7,"div",7),o._UZ(8,"div",8)(9,"div",9),o.TgZ(10,"div",10)(11,"span",11),o._uU(12),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("ngStyle",n._getTrackBackgroundStyles()),o.xp6(1),o.Q6J("ngStyle",n._getTrackFillStyles()),o.xp6(1),o.Q6J("ngStyle",n._getTicksContainerStyles()),o.xp6(1),o.Q6J("ngStyle",n._getTicksStyles()),o.xp6(1),o.Q6J("ngStyle",n._getThumbContainerStyles()),o.xp6(5),o.Oqu(n.displayValue))},dependencies:[D.PC],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),t})();function ne(t){return!isNaN(t)&&isFinite(t)}function R(t){return"t"===t.type[0]}function z(t,r){let e;return e=R(t)?"number"==typeof r?O(t.touches,r)||O(t.changedTouches,r):t.touches[0]||t.changedTouches[0]:t,e?{x:e.clientX,y:e.clientY}:void 0}function O(t,r){for(let e=0;e<t.length;e++)if(t[e].identifier===r)return t[e]}let G=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[D.ez,ce.BQ,ce.BQ]}),t})(),et=(()=>{class t{constructor(){this._listeners=[]}notify(e,n){for(let i of this._listeners)i(e,n)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(n=>e!==n)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const ze=["input"],bn=function(t){return{enterDuration:t}},br=["*"],vr=new o.OlP("mat-radio-default-options",{providedIn:"root",factory:function yr(){return{color:"accent"}}});let qn=0;const Cr={provide:F.JU,useExisting:(0,o.Gpc)(()=>zn),multi:!0};class jn{constructor(r,e){this.source=r,this.value=e}}const Qn=new o.OlP("MatRadioGroup");let wr=(()=>{class t{constructor(e){this._changeDetector=e,this._value=null,this._name="mat-radio-group-"+qn++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new o.vpe}get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,Ae.Ig)(e),this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=(0,Ae.Ig)(e),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(n=>{n.checked=this.value===n.value,n.checked&&(this._selected=n)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new jn(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275dir=o.lG2({type:t,inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required"},outputs:{change:"change"}}),t})(),zn=(()=>{class t extends wr{}return t.\u0275fac=function(){let r;return function(n){return(r||(r=o.n5z(t)))(n||t)}}(),t.\u0275dir=o.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,n,i){if(1&e&&o.Suo(i,Xn,5),2&e){let s;o.iGM(s=o.CRH())&&(n._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[o._Bn([Cr,{provide:Qn,useExisting:t}]),o.qOj]}),t})();class Sr{constructor(r){this._elementRef=r}}const Tr=(0,ce.Kr)((0,ce.sb)(Sr));let Mr=(()=>{class t extends Tr{constructor(e,n,i,s,l,c,a,d){super(n),this._changeDetector=i,this._focusMonitor=s,this._radioDispatcher=l,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++qn,this.id=this._uniqueId,this.change=new o.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=e,this._noopAnimations="NoopAnimations"===c,d&&(this.tabIndex=(0,Ae.su)(d,0)),this._removeUniqueSelectionListener=l.listen((u,h)=>{u!==this.id&&h===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(e){const n=(0,Ae.Ig)(e);this._checked!==n&&(this._checked=n,n&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!n&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),n&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(e){this._setDisabled((0,Ae.Ig)(e))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){this._required=(0,Ae.Ig)(e)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(e){this._color=e}get inputId(){return`${this.id||this._uniqueId}-input`}focus(e,n){n?this._focusMonitor.focusVia(this._inputElement,n,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new jn(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(e){e.stopPropagation()}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){const n=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),n&&this.radioGroup._emitChangeEvent())}}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_updateTabIndex(){var e;const n=this.radioGroup;let i;if(i=n&&n.selected&&!this.disabled?n.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const s=null===(e=this._inputElement)||void 0===e?void 0:e.nativeElement;s&&(s.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}}return t.\u0275fac=function(e){o.$Z()},t.\u0275dir=o.lG2({type:t,viewQuery:function(e,n){if(1&e&&o.Gf(ze,5),2&e){let i;o.iGM(i=o.CRH())&&(n._inputElement=i.first)}},inputs:{id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"},features:[o.qOj]}),t})(),Xn=(()=>{class t extends Mr{constructor(e,n,i,s,l,c,a,d){super(e,n,i,s,l,c,a,d)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Qn,8),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ye.tE),o.Y36(et),o.Y36(o.QbO,8),o.Y36(vr,8),o.$8M("tabindex"))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,n){1&e&&o.NdJ("focus",function(){return n._inputElement.nativeElement.focus()}),2&e&&(o.uIk("tabindex",null)("id",n.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),o.ekj("mat-radio-checked",n.checked)("mat-radio-disabled",n.disabled)("_mat-animation-noopable",n._noopAnimations)("mat-primary","primary"===n.color)("mat-accent","accent"===n.color)("mat-warn","warn"===n.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[o.qOj],ngContentSelectors:br,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input",3,"id","checked","disabled","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,n){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2),o._UZ(3,"span",3)(4,"span",4),o.TgZ(5,"input",5,6),o.NdJ("change",function(s){return n._onInputInteraction(s)})("click",function(s){return n._onInputClick(s)}),o.qZA(),o.TgZ(7,"span",7),o._UZ(8,"span",8),o.qZA()(),o.TgZ(9,"span",9)(10,"span",10),o._uU(11,"\xa0"),o.qZA(),o.Hsn(12),o.qZA()()),2&e){const i=o.MAs(1);o.uIk("for",n.inputId),o.xp6(5),o.Q6J("id",n.inputId)("checked",n.checked)("disabled",n.disabled)("required",n.required),o.uIk("name",n.name)("value",n.value)("aria-label",n.ariaLabel)("aria-labelledby",n.ariaLabelledby)("aria-describedby",n.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",i)("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.VKq(17,bn,n._noopAnimations?0:150)),o.xp6(2),o.ekj("mat-radio-label-before","before"==n.labelPosition)}},dependencies:[ce.wG],styles:['.mat-radio-button{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-radio-label{-webkit-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{opacity:0;position:absolute;top:0;left:0;margin:0;width:100%;height:100%;cursor:inherit;z-index:-1}.mat-radio-input:focus~.mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}'],encapsulation:2,changeDetection:0}),t})(),Ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[ce.si,ce.BQ,ce.BQ]}),t})();var yt=E(1314),Nr=E(7429),q=E(1777),Jn=E(7579),vn=E(4968),yn=E(2722),Ir=E(590);function kr(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("@fade.done",function(i){o.CHM(e);const s=o.oxw();return o.KtG(s.onAnimationEnd(i))}),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@fade",e.animationState)("@.disabled",!e.animation)("innerHTML",e.title,o.oJD)}}function Er(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@fade.done",function(i){o.CHM(e);const s=o.oxw();return o.KtG(s.onAnimationEnd(i))}),o._uU(1),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("@fade",e.animationState)("@.disabled",!e.animation),o.xp6(1),o.hij(" ",e.title,"\n")}}let xr=(()=>{class t{constructor(e){this._cdRef=e,this._hidden=new Jn.x,this.animationState="hidden"}markForCheck(){this._cdRef.markForCheck()}onAnimationEnd(e){"hidden"===e.toState&&this._hidden.next()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["mdb-tooltip"]],inputs:{title:"title",html:"html",animation:"animation"},decls:2,vars:2,consts:[["class","tooltip-inner",3,"innerHTML",4,"ngIf"],["class","tooltip-inner",4,"ngIf"],[1,"tooltip-inner",3,"innerHTML"],[1,"tooltip-inner"]],template:function(e,n){1&e&&(o.YNc(0,kr,1,3,"div",0),o.YNc(1,Er,2,3,"div",1)),2&e&&(o.Q6J("ngIf",n.html),o.xp6(1),o.Q6J("ngIf",!n.html))},dependencies:[D.O5],encapsulation:2,data:{animation:[(0,q.X$)("fade",[(0,q.SB)("visible",(0,q.oB)({opacity:1})),(0,q.SB)("hidden",(0,q.oB)({opacity:0})),(0,q.eR)("visible => hidden",(0,q.jt)("150ms linear")),(0,q.eR)(":enter",(0,q.jt)("150ms linear"))])]},changeDetection:0}),t})(),$n=(()=>{class t{constructor(e,n,i){this._overlay=e,this._overlayPositionBuilder=n,this._elementRef=i,this.mdbTooltip="",this.tooltipDisabled=!1,this.placement="top",this.html=!1,this.animation=!0,this.trigger="hover focus",this.delayShow=0,this.delayHide=0,this.offset=4,this.tooltipShow=new o.vpe,this.tooltipShown=new o.vpe,this.tooltipHide=new o.vpe,this.tooltipHidden=new o.vpe,this._open=!1,this._showTimeout=0,this._hideTimeout=0,this._destroy$=new Jn.x}ngOnInit(){this.tooltipDisabled||""===this.mdbTooltip||this._bindTriggerEvents()}ngOnDestroy(){(this._open||this._showTimeout)&&this.hide(),this._destroy$.next(),this._destroy$.complete()}_bindTriggerEvents(){this.trigger.split(" ").forEach(n=>{if("click"===n)(0,vn.R)(this._elementRef.nativeElement,n).pipe((0,yn.R)(this._destroy$)).subscribe(()=>this.toggle());else if("manual"!==n){const s="hover"===n?"mouseleave":"focusout";(0,vn.R)(this._elementRef.nativeElement,"hover"===n?"mouseenter":"focusin").pipe((0,yn.R)(this._destroy$)).subscribe(()=>this.show()),(0,vn.R)(this._elementRef.nativeElement,s).pipe((0,yn.R)(this._destroy$)).subscribe(()=>this.hide())}})}_createOverlayConfig(){const e=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(this._getPosition());return new yt.X_({hasBackdrop:!1,scrollStrategy:this._overlay.scrollStrategies.reposition(),positionStrategy:e})}_createOverlay(){this._overlayRef=this._overlay.create(this._createOverlayConfig())}_getPosition(){let e;const n={originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-this.offset},i={originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:this.offset},s={originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:this.offset},l={originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:-this.offset};switch(this.placement){case"top":e=[n,i];break;case"bottom":e=[i,n];break;case"left":e=[l,s];break;case"right":e=[s,l]}return e}show(){(this._hideTimeout||this._open)&&(this._overlayRef.detach(),clearTimeout(this._hideTimeout),this._hideTimeout=null),this._createOverlay(),this._showTimeout=setTimeout(()=>{const e=new Nr.C5(xr);this.tooltipShow.emit(this),this._open=!0,this._tooltipRef=this._overlayRef.attach(e),this._tooltipRef.instance.title=this.mdbTooltip,this._tooltipRef.instance.html=this.html,this._tooltipRef.instance.animation=this.animation,this._tooltipRef.instance.animationState="visible",this._tooltipRef.instance.markForCheck(),this.tooltipShown.emit(this)},this.delayShow)}hide(){this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null,this._hideTimeout=setTimeout(()=>{this.tooltipHide.emit(this),this._tooltipRef?(this._tooltipRef.instance._hidden.pipe((0,Ir.P)()).subscribe(()=>{this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this)}),this._tooltipRef.instance.animationState="hidden",this._tooltipRef.instance.markForCheck()):(this._overlayRef.detach(),this._open=!1,this.tooltipHidden.emit(this))},this.delayHide))}toggle(){this._open?this.hide():this.show()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(yt.aV),o.Y36(yt.wJ),o.Y36(o.SBq))},t.\u0275dir=o.lG2({type:t,selectors:[["","mdbTooltip",""]],inputs:{mdbTooltip:"mdbTooltip",tooltipDisabled:"tooltipDisabled",placement:"placement",html:"html",animation:"animation",trigger:"trigger",delayShow:"delayShow",delayHide:"delayHide",offset:"offset"},outputs:{tooltipShow:"tooltipShow",tooltipShown:"tooltipShown",tooltipHide:"tooltipHide",tooltipHidden:"tooltipHidden"},exportAs:["mdbTooltip"]}),t})(),Or=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[D.ez,yt.U8]]}),t})();function Dr(t,r){if(1&t&&(o.TgZ(0,"mat-checkbox",35),o._uU(1," Contribute to improving the database "),o._UZ(2,"i",36),o.qZA()),2&t){const e=o.oxw();o.xp6(2),o.Q6J("mdbTooltip",e.accuracyText())("html",!0)}}function Rr(t,r){1&t&&o._UZ(0,"span",39)}function Pr(t,r){if(1&t&&(o.TgZ(0,"button",37),o._uU(1),o.YNc(2,Rr,1,0,"span",38),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.lobby?"Save":"Create"," "),o.xp6(1),o.Q6J("ngIf",e.loading)}}let Kn=(()=>{class t{constructor(e,n,i,s,l,c,a){this.fb=e,this.lobbyHttpService=n,this.router=i,this.route=s,this.socket=l,this.lobbyStore=c,this.authService=a,this.loading=!1,this.userCanEdit=!0,this.subscriptions=[],this.lobbyGameModes=W.in,this.lobbyHintModes=W.BF}ngOnInit(){var e;this.lobby=this.lobbyStore.getLobby(),this.lobbyHttpService.info().subscribe(n=>{this.musicAccuracyRatio=n}),this.lobbyForm=this.fb.group({name:[this.lobby?this.lobby.name:`${this.authService.decodeJwt().username}'s lobby`,F.kI.required.bind(this)],password:[null===(e=this.lobby)||void 0===e?void 0:e.password],musicNumber:[this.lobby?this.lobby.musicNumber:20,[F.kI.max(100),F.kI.min(5)]],guessTime:[this.lobby?this.lobby.guessTime:20,[F.kI.max(60),F.kI.min(5)]],allowDuplicates:[!!this.lobby&&this.lobby.allowDuplicates],customDifficulty:[!!this.lobby&&this.lobby.customDifficulty],easyDifficulty:[!this.lobby||this.lobby.difficulty.includes(W.PT.Easy)],mediumDifficulty:[!this.lobby||this.lobby.difficulty.includes(W.PT.Medium)],hardDifficulty:[!this.lobby||this.lobby.difficulty.includes(W.PT.Hard)],allowContributeToMissingData:[!this.lobby||this.lobby.allowContributeToMissingData],gameMode:[this.lobby?this.lobby.gameMode:W.in.Standard],playMusicOnAnswerReveal:[!this.lobby||this.lobby.playMusicOnAnswerReveal],hintMode:[this.lobby?this.lobby.hintMode:W.BF.Allowed,[F.kI.required.bind(this)]]}),this.lobby&&(this.subscriptions=[this.lobbyStore.lobby.subscribe(n=>{var i,s;this.lobby=n,this.lobbyForm.patchValue({name:this.lobby.name,...(null===(i=this.lobby)||void 0===i?void 0:i.password)&&{password:null===(s=this.lobby)||void 0===s?void 0:s.password},musicNumber:this.lobby.musicNumber,guessTime:this.lobby.guessTime,allowDuplicates:this.lobby.allowDuplicates,easyDifficulty:this.lobby.difficulty.includes(W.PT.Easy),mediumDifficulty:this.lobby.difficulty.includes(W.PT.Medium),hardDifficulty:this.lobby.difficulty.includes(W.PT.Hard)})}),this.lobbyStore.me.subscribe(n=>{null!==n&&(this.userCanEdit=n.role===ie.Host,this.userCanEdit?this.lobbyForm.enable():this.lobbyForm.disable())})]),this.lobbyForm.get("musicNumber").valueChanges.subscribe({next:n=>{this.lobbyForm.get("musicNumber").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}}),this.lobbyForm.get("guessTime").valueChanges.subscribe({next:n=>{this.lobbyForm.get("guessTime").setValue(n,{onlySelf:!0,emitEvent:!1,emitModelToViewChange:!0})}})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.loading=!0;let e=[];this.lobbyForm.get("easyDifficulty").value&&(e=[...e,W.PT.Easy]),this.lobbyForm.get("mediumDifficulty").value&&(e=[...e,W.PT.Medium]),this.lobbyForm.get("hardDifficulty").value&&(e=[...e,W.PT.Hard]),null===this.lobby?this.lobbyHttpService.create({name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:e,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,Ie.x)(()=>this.loading=!1)).subscribe(n=>{this.router.navigate([`/lobby/${n.code}`])}):this.lobbyHttpService.update(this.lobby.code,{name:this.lobbyForm.get("name").value,password:this.lobbyForm.get("password").value,musicNumber:this.lobbyForm.get("musicNumber").value,guessTime:this.lobbyForm.get("guessTime").value,allowDuplicates:this.lobbyForm.get("allowDuplicates").value,difficulty:e,allowContributeToMissingData:this.lobbyForm.get("allowContributeToMissingData").value,gameMode:this.lobbyForm.get("gameMode").value,playMusicOnAnswerReveal:this.lobbyForm.get("playMusicOnAnswerReveal").value,hintMode:this.lobbyForm.get("hintMode").value}).pipe((0,Ie.x)(()=>this.loading=!1)).subscribe(n=>{})}hideContribution(){return this.lobbyForm.get("easyDifficulty").value&&this.lobbyForm.get("mediumDifficulty").value&&this.lobbyForm.get("hardDifficulty").value}accuracyText(){return`By checking this, each music has <strong class="text-primary">${Math.round(1e4*(this.musicAccuracyRatio+Number.EPSILON))/100}% chance</strong> to not reflect the difficulty chosen in order to improve our database.<br>The more you play, the lower the chance!`}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(F.qu),o.Y36(Ge.Y),o.Y36(le.F0),o.Y36(le.gz),o.Y36(Me.i),o.Y36(fe),o.Y36(ft.e))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-config"]],decls:81,vars:18,consts:[[1,"bg-dark","p-4","h-100"],[1,"h-100",3,"formGroup","ngSubmit"],[1,"form-container"],["appearance","outline",1,"me-2"],["matInput","","formControlName","name","required","required"],["appearance","outline"],["matInput","","type","text","formControlName","password"],[1,"row"],[1,"col-xxl-4","col-xl-5"],[1,"mt-3"],["color","primary","formControlName","musicNumber",2,"width","80%",3,"thumbLabel","min","max","step"],[1,"d-inline",2,"width","15%"],["type","number","max","100","min","5","formControlName","musicNumber"],["color","primary","formControlName","guessTime",2,"width","80%",3,"thumbLabel","min","max","step"],["type","number","max","100","min","5","formControlName","guessTime"],[1,"col-md-4"],[1,"mb-3"],["formControlName","easyDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","mediumDifficulty","color","primary",1,"mx-3","checkbox-center"],["formControlName","hardDifficulty","color","primary",1,"mx-3","checkbox-center"],["class","mx-3","color","primary","formControlName","allowContributeToMissingData",4,"ngIf"],["mdbTooltip","Allow players to choose between 4 answers, but they win half the usual points","placement","bottom",1,"fa-solid","fa-question-circle",3,"html"],["aria-label","Select an option","formControlName","hintMode","color","primary",1,"d-flex"],[3,"value"],[1,"col-md-4","mt-2","mt-md-0"],["aria-label","Select an option","formControlName","gameMode","color","primary",1,"d-flex"],["value","2","disabled",""],["value","3","disabled",""],["mdbTooltip","One of you plays the music, the other can turn off their phone. <br>Don't worry about neither your score nor your accuracy, it's gone","placement","bottom",3,"value","html"],[1,"row","mt-3"],["formControlName","allowDuplicates","color","primary",1,"me-2","checkbox-center"],["formControlName","playMusicOnAnswerReveal","color","primary",1,"me-2","checkbox-center"],[1,"row","bg-dark","justify-content-end","mt-2"],[1,"col-md-2"],["class","btn btn-primary w-100","type","submit",4,"ngIf"],["color","primary","formControlName","allowContributeToMissingData",1,"mx-3"],["placement","bottom",1,"fa-solid","fa-question-circle",3,"mdbTooltip","html"],["type","submit",1,"btn","btn-primary","w-100"],["class","spinner-border spinner-border-sm","type","button","role","status","aria-hidden","true",4,"ngIf"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return!n.userCanEdit||n.submit()}),o.TgZ(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),o._uU(5,"Lobby name"),o.qZA(),o._UZ(6,"input",4),o.qZA(),o.TgZ(7,"mat-form-field",5)(8,"mat-label"),o._uU(9,"Password "),o.qZA(),o._UZ(10,"input",6),o.TgZ(11,"mat-hint"),o._uU(12,"keep it empty if this is public lobby"),o.qZA()(),o.TgZ(13,"h1"),o._uU(14,"Settings"),o.qZA(),o.TgZ(15,"div",7)(16,"div",8)(17,"h3"),o._uU(18,"Lobby"),o.qZA(),o.TgZ(19,"div",7)(20,"div",9)(21,"div")(22,"label"),o._uU(23,"Number of musics "),o.qZA()(),o._UZ(24,"mat-slider",10),o.TgZ(25,"div",11),o._UZ(26,"input",12),o.qZA()(),o.TgZ(27,"div",9)(28,"div")(29,"label"),o._uU(30,"Guess time "),o.qZA()(),o.TgZ(31,"div"),o._UZ(32,"mat-slider",13),o.TgZ(33,"div",11),o._UZ(34,"input",14),o._uU(35,"s "),o.qZA()()()()(),o.TgZ(36,"div",15)(37,"h3"),o._uU(38,"Difficulty"),o.qZA(),o.TgZ(39,"section",16)(40,"mat-checkbox",17),o._uU(41," Easy "),o.qZA(),o.TgZ(42,"mat-checkbox",18),o._uU(43,"Medium"),o.qZA(),o.TgZ(44,"mat-checkbox",19),o._uU(45,"Hard"),o.qZA()(),o.YNc(46,Dr,3,2,"mat-checkbox",20),o.TgZ(47,"div")(48,"h3"),o._uU(49," Hint Mode "),o._UZ(50,"i",21),o.qZA(),o.TgZ(51,"mat-radio-group",22)(52,"mat-radio-button",23),o._uU(53,"Disabled"),o.qZA(),o.TgZ(54,"mat-radio-button",23),o._uU(55,"Allowed"),o.qZA(),o.TgZ(56,"mat-radio-button",23),o._uU(57,"Always"),o.qZA()()()(),o.TgZ(58,"div",24)(59,"h3"),o._uU(60,"Game mode"),o.qZA(),o.TgZ(61,"mat-radio-group",25)(62,"mat-radio-button",23),o._uU(63,"Standard"),o.qZA(),o.TgZ(64,"mat-radio-button",26),o._uU(65,"Quick-draw"),o.qZA(),o.TgZ(66,"mat-radio-button",27),o._uU(67,"Battle royale"),o.qZA(),o.TgZ(68,"mat-radio-button",28),o._uU(69," Local Couch "),o.qZA()()()(),o.TgZ(70,"div",29)(71,"div",15)(72,"h3"),o._uU(73,"Modifiers"),o.qZA(),o.TgZ(74,"mat-checkbox",30),o._uU(75," Duplicate games "),o.qZA(),o.TgZ(76,"mat-checkbox",31),o._uU(77," Keep Playing Music On Answer Reveal "),o.qZA()()()(),o.TgZ(78,"div",32)(79,"div",33),o.YNc(80,Pr,3,2,"button",34),o.qZA()()()()),2&e&&(o.xp6(1),o.Q6J("formGroup",n.lobbyForm),o.xp6(23),o.Q6J("thumbLabel",!0)("min",5)("max",100)("step",1),o.xp6(8),o.Q6J("thumbLabel",!0)("min",5)("max",60)("step",1),o.xp6(14),o.Q6J("ngIf",!n.hideContribution()),o.xp6(4),o.Q6J("html",!0),o.xp6(2),o.Q6J("value",n.lobbyHintModes.Disabled),o.xp6(2),o.Q6J("value",n.lobbyHintModes.Allowed),o.xp6(2),o.Q6J("value",n.lobbyHintModes.Always),o.xp6(6),o.Q6J("value",n.lobbyGameModes.Standard),o.xp6(6),o.Q6J("value",n.lobbyGameModes.LocalCouch)("html",!0),o.xp6(12),o.Q6J("ngIf",n.userCanEdit))},dependencies:[D.O5,gt.oG,Le.KE,Le.bx,Le.hX,_t.Nt,F._Y,F.Fj,F.wV,F.JJ,F.JL,F.Q7,F.qQ,F.Fd,F.sg,F.u,Dt,zn,Xn,$n],encapsulation:2}),t})(),Fr=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-create"]],decls:2,vars:0,consts:[[1,"row"],[1,"col-md-9"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-lobby-config",1),o.qZA())},dependencies:[Kn],encapsulation:2}),t})();var Lr=E(3149),Br=E(9150),Vr=E(6217),Zr=E(2349),Ur=E(1985);function Wr(t,r){if(1&t){const e=o.EpF();o.ynx(0),o.TgZ(1,"button",3),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.play())}),o._uU(2,"Play"),o.qZA(),o.BQk()}}const Hr=function(t){return{row:t}},Gr=function(t,r){return{"col-md-6":t,"col-md-12":r}};let eo=(()=>{class t{constructor(e,n,i,s){this.lobbyHttpService=e,this.lobbyStore=n,this.socket=i,this.router=s,this.lobbyUsersRoles=ie,this.lobbyStatus=W.D,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.role=e.role)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.socket.emit("play",this.lobby.code)}leave(){this.socket.emit("leave",this.lobby.code),this.router.navigate(["/"])}showPlayButton(){return this.role===this.lobbyUsersRoles.Host&&[W.D.Waiting.toString(),W.D.Loading.toString()].includes(this.lobby.status)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ge.Y),o.Y36(fe),o.Y36(Me.i),o.Y36(le.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-button-play"]],decls:4,vars:8,consts:[[3,"ngClass"],[4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"ngClass","click"],["type","button",1,"btn","btn-primary","col-md-6",3,"click"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Wr,3,0,"ng-container",1),o.TgZ(2,"button",2),o.NdJ("click",function(){return n.leave()}),o._uU(3," Leave "),o.qZA()()),2&e&&(o.Q6J("ngClass",o.VKq(3,Hr,n.showPlayButton())),o.xp6(1),o.Q6J("ngIf",n.showPlayButton()),o.xp6(1),o.Q6J("ngClass",o.WLB(5,Gr,n.showPlayButton(),!n.showPlayButton())))},dependencies:[D.mk,D.O5],encapsulation:2}),t})();const Yr=["chat"],qr=["messageElement"];function jr(t,r){if(1&t&&(o.TgZ(0,"div",null,8)(2,"span",9),o._uU(3),o.qZA(),o._uU(4),o.qZA()),2&t){const e=r.$implicit;o.xp6(3),o.hij("",e.username,": "),o.xp6(1),o.hij(" ",e.message," ")}}const Qr=function(t){return{disabled:t}};let to=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.subscriptions=[],this.messages=[],this.message=new F.NI(null,[F.kI.required.bind(this)]),this.scrollToBottom=()=>{this.chat.nativeElement.scrollTop=this.chat.nativeElement.scrollHeight}}ngOnInit(){this.subscriptions=[this.lobbyStore.messages.subscribe(e=>{this.messages=e})]}ngAfterViewInit(){this.scrollToBottom(),this.messageElements.changes.subscribe(this.scrollToBottom)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}submit(){this.socket.emit("chat",this.message.value),this.message.setValue(null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(Me.i))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-chat"]],viewQuery:function(e,n){if(1&e&&(o.Gf(Yr,5),o.Gf(qr,5)),2&e){let i;o.iGM(i=o.CRH())&&(n.chat=i.first),o.iGM(i=o.CRH())&&(n.messageElements=i)}},decls:10,vars:5,consts:[[1,"bg-dark","p-4","chat-container","d-none","d-md-block"],[1,"chat"],["chat",""],[4,"ngFor","ngForOf"],[1,"input-group","align-self-center","w-100","mt-2",3,"ngSubmit"],["type","text","placeholder","Your message","aria-label","Your message","aria-describedby","button-addon2",1,"form-control",3,"formControl"],["type","submit","id","button-addon2",1,"btn","btn-outline-primary",3,"ngClass"],[1,"far","fa-paper-plane"],["messageElement",""],[1,"text-primary"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1,2),o.YNc(3,jr,5,2,"div",3),o.qZA(),o.TgZ(4,"div")(5,"form",4),o.NdJ("ngSubmit",function(){return n.message.invalid||n.submit()}),o._UZ(6,"input",5),o.TgZ(7,"button",6),o._uU(8," Send "),o._UZ(9,"i",7),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",n.messages),o.xp6(3),o.Q6J("formControl",n.message),o.xp6(1),o.Q6J("ngClass",o.VKq(3,Qr,n.message.invalid)))},dependencies:[D.mk,D.sg,F._Y,F.Fj,F.JJ,F.JL,F.F,F.oH],encapsulation:2}),t})(),zr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-waiting"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-md-9","lobby-col"],[1,"d-md-none"],[1,"col-md-9"],[1,"col-md-3","lobby-col"],[1,"d-none","d-md-block","mb-md-2"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._UZ(2,"app-button-play",2)(3,"app-lobby-config",3),o.qZA(),o.TgZ(4,"div",4),o._UZ(5,"app-button-play",5)(6,"app-lobby-chat"),o.qZA()())},dependencies:[Kn,eo,to],encapsulation:2}),t})();function Xr(t,r){1&t&&o._UZ(0,"i",9)}function Jr(t,r){1&t&&o._UZ(0,"i",10)}function $r(t,r){1&t&&o._UZ(0,"i",11)}function Kr(t,r){1&t&&o._UZ(0,"i",12)}function ei(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"i",16),o.NdJ("click",function(){o.CHM(e);const i=o.oxw().$implicit,s=o.oxw();return o.KtG(s.kick(i))}),o.qZA()()()()}}const ti=function(t,r){return{"mx-2":t,"mx-3":r}},ni=function(t){return{"text-muted":t}};function oi(t,r){if(1&t&&(o.ynx(0),o.TgZ(1,"div",2)(2,"div",3)(3,"div"),o.YNc(4,Xr,1,0,"i",4),o.YNc(5,Jr,1,0,"i",5),o.TgZ(6,"span"),o._uU(7),o.qZA()(),o.TgZ(8,"div"),o.YNc(9,$r,1,0,"i",6),o.YNc(10,Kr,1,0,"i",7),o.qZA(),o._UZ(11,"div"),o.qZA(),o.YNc(12,ei,4,0,"div",8),o.qZA(),o.BQk()),2&t){const e=r.$implicit,n=o.oxw();o.xp6(1),o.Q6J("ngClass",o.WLB(9,ti,n.me.role!==n.lobbyUserRoles.Host,n.me.role===n.lobbyUserRoles.Host)),o.xp6(1),o.Q6J("@userStatus",n.getStatusClass(e))("ngClass",o.VKq(12,ni,e.disconnected||e.role===n.lobbyUserRoles.Spectator)),o.xp6(2),o.Q6J("ngIf",e.role===n.lobbyUserRoles.Host),o.xp6(1),o.Q6J("ngIf",e.role===n.lobbyUserRoles.Spectator&&!e.disconnected),o.xp6(2),o.Oqu(e.user.username),o.xp6(2),o.Q6J("ngIf",e.playedTheGame),o.xp6(1),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.hintMode)!==n.lobbyHintModes.Always&&e.hintMode),o.xp6(2),o.Q6J("ngIf",n.me.role===n.lobbyUserRoles.Host&&e.role===n.lobbyUserRoles.Player)}}let ri=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.showRank=!1,this.lobbyHintModes=W.BF,this.lobbyUserRoles=ie,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{this.users=e}),this.lobbyStore.me.subscribe(e=>{this.me=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobby=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusClass(e){return!1===e.correctAnswer?"wrongAnswer":!0===e.correctAnswer?"correctAnswer":"default"}kick(e){this.socket.emit("kick",e.user.username)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(Me.i))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-users"]],inputs:{showRank:"showRank"},decls:2,vars:1,consts:[[1,"row","justify-content-center","mt-2","users-container"],[4,"ngFor","ngForOf"],[1,"user-card","bg-dark","text-center","p-1","position-relative",3,"ngClass"],[1,"row","justify-content-between",3,"ngClass"],["class","fa fa-star",4,"ngIf"],["class","fa fa-ghost",4,"ngIf"],["class","text-info fa fa-gamepad mx-1",4,"ngIf"],["class","text-white far fa-eye mx-1",4,"ngIf"],["class","users-actions d-flex flex-column position-absolute","style","top: 0; right: -15px",4,"ngIf"],[1,"fa","fa-star"],[1,"fa","fa-ghost"],[1,"text-info","fa","fa-gamepad","mx-1"],[1,"text-white","far","fa-eye","mx-1"],[1,"users-actions","d-flex","flex-column","position-absolute",2,"top","0","right","-15px"],[1,"bg-dark","pt-1"],[1,"col"],[1,"icon-action","text-danger","fa","fa-times",3,"click"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.YNc(1,oi,13,14,"ng-container",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",n.users))},dependencies:[D.mk,D.sg,D.O5],encapsulation:2,data:{animation:[(0,q.X$)("userStatus",[(0,q.SB)("wrongAnswer",(0,q.oB)({color:"white"})),(0,q.SB)("correctAnswer",(0,q.oB)({color:"green"})),(0,q.SB)("default",(0,q.oB)({color:"white"})),(0,q.eR)("* => wrongAnswer",[(0,q.jt)("1s",(0,q.F4)([(0,q.oB)({color:"red",offset:0}),(0,q.oB)({color:"white",offset:.75})]))])])]}}),t})();function no(t,r,e,n,i,s,l){try{var c=t[s](l),a=c.value}catch(d){return void e(d)}c.done?r(a):Promise.resolve(a).then(n,i)}function te(t){return function(){var r=this,e=arguments;return new Promise(function(n,i){var s=t.apply(r,e);function l(a){no(s,n,i,l,c,"next",a)}function c(a){no(s,n,i,l,c,"throw",a)}l(void 0)})}}var ii=E(2340),si=E(520);let ai=(()=>{class t{constructor(e){this.http=e,this.apiEndpoint=ii.N.apiEndpoint}get(e){return this.http.get(`${this.apiEndpoint}/lobby-music/${e}`,{responseType:"blob"})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(si.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var it=E(8021);const Ct=new WeakSet,oo=new WeakMap,Cn=new WeakMap,ro=new WeakMap,wn=new WeakMap,zt=new WeakMap,io=new WeakMap,Sn=new WeakMap,Tn=new WeakMap,Mn=new WeakMap,so={construct:()=>so},ao=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,lo=(t,r)=>{const e=[];let n=t.replace(/^[\s]+/,""),i=n.match(ao);for(;null!==i;){const s=i[1].slice(1,-1),l=i[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,r).toString());e.push(l),n=n.slice(i[0].length).replace(/^[\s]+/,""),i=n.match(ao)}return[e.join(";"),n]},co=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},uo=t=>{if(!(t=>{try{new new Proxy(t,so)}catch(r){return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},qe=(t,r)=>{const e=t.get(r);if(void 0===e)throw new Error("A value with the given key could not be found.");return e},Xt=(t,r)=>{const e=Array.from(t).filter(r);if(e.length>1)throw Error("More than one element was found.");if(0===e.length)throw Error("No element was found.");const[n]=e;return t.delete(n),n},ho=(t,r,e,n)=>{const i=qe(t,r),s=Xt(i,l=>l[0]===e&&l[1]===n);return 0===i.size&&t.delete(r),s},Lt=t=>qe(io,t),wt=t=>{if(Ct.has(t))throw new Error("The AudioNode is already stored.");Ct.add(t),Lt(t).forEach(r=>r(!0))},po=t=>"port"in t,Bt=t=>{if(!Ct.has(t))throw new Error("The AudioNode is not stored.");Ct.delete(t),Lt(t).forEach(r=>r(!1))},An=(t,r)=>{!po(t)&&r.every(e=>0===e.size)&&Bt(t)},bi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Oe=(t,r)=>t.context===r,Jt=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch(r){return!1}return!0},Xe=()=>new DOMException("","IndexSizeError"),Nn=t=>{var r;t.getChannelData=(r=t.getChannelData,e=>{try{return r.call(t,e)}catch(n){throw 12===n.code?Xe():n}})},Ci={numberOfChannels:1},Ve=-34028234663852886e22,Re=-Ve,tt=t=>Ct.has(t),Si={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Pe=t=>qe(oo,t),Vt=t=>qe(ro,t),In=(t,r)=>{const{activeInputs:e}=Pe(t);e.forEach(i=>i.forEach(([s])=>{r.includes(t)||In(s,[...r,t])}));const n=(t=>"playbackRate"in t)(t)?[t.playbackRate]:po(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const i of n){const s=Vt(i);void 0!==s&&s.activeInputs.forEach(([l])=>In(l,r))}tt(t)&&Bt(t)},Kt=t=>"context"in t,Zt=t=>Kt(t[0]),ut=(t,r,e,n)=>{for(const i of t)if(e(i)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(r),!0},mo=(t,r,[e,n],i)=>{ut(t,[r,e,n],s=>s[0]===r&&s[1]===e,i)},go=(t,[r,e,n],i)=>{const s=t.get(r);void 0===s?t.set(r,new Set([[e,n]])):ut(s,[e,n],l=>l[0]===e,i)},St=t=>"inputs"in t,en=(t,r,e,n)=>{if(St(r)){const i=r.inputs[n];return t.connect(i,e,0),[i,e,0]}return t.connect(r,e,n),[r,e,n]},_o=(t,r,e)=>{for(const n of t)if(n[0]===r&&n[1]===e)return t.delete(n),n;return null},bo=(t,r)=>{if(!Lt(t).delete(r))throw new Error("Missing the expected event listener.")},vo=(t,r,e)=>{const n=qe(t,r),i=Xt(n,s=>s[0]===e);return 0===n.size&&t.delete(r),i},tn=(t,r,e,n)=>{St(r)?t.disconnect(r.inputs[n],e,0):t.disconnect(r,e,n)},he=t=>qe(Cn,t),Ut=t=>qe(wn,t),dt=t=>Sn.has(t),nn=t=>!Ct.has(t),yo=(t,r)=>new Promise(e=>{if(null!==r)e(!0);else{const n=t.createScriptProcessor(256,1,1),i=t.createGain(),s=t.createBuffer(1,2,44100),l=s.getChannelData(0);l[0]=1,l[1]=1;const c=t.createBufferSource();c.buffer=s,c.loop=!0,c.connect(n).connect(t.destination),c.connect(i),c.disconnect(i),n.onaudioprocess=a=>{const d=a.inputBuffer.getChannelData(0);Array.prototype.some.call(d,u=>1===u)?e(!0):e(!1),c.stop(),n.onaudioprocess=null,c.disconnect(n),n.disconnect(t.destination)},c.start()}}),kn=(t,r)=>{const e=new Map;for(const n of t)for(const i of n){const s=e.get(i);e.set(i,void 0===s?1:s+1)}e.forEach((n,i)=>r(i,n))},on=t=>"context"in t,En=(t,r,e,n,i)=>{const[s,l]=((t,r,e,n)=>{const{activeInputs:i,passiveInputs:s}=Pe(r),l=_o(i[n],t,e);return null===l?[ho(s,t,e,n)[2],!1]:[l[2],!0]})(t,e,n,i);if(null!==s&&(bo(t,s),l&&!r&&!dt(t)&&tn(he(t),he(e),n,i)),tt(e)){const{activeInputs:c}=Pe(e);An(e,c)}},xn=(t,r,e,n)=>{const[i,s]=((t,r,e)=>{const{activeInputs:n,passiveInputs:i}=Vt(r),s=_o(n,t,e);return null===s?[vo(i,t,e)[1],!1]:[s[2],!0]})(t,e,n);null!==i&&(bo(t,i),s&&!r&&!dt(t)&&he(t).disconnect(Ut(e),n))};class Co{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,e=null){return this._map.forEach((n,i)=>r.call(e,n,i,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}function rn(t,r,e,n,i){if("function"==typeof t.copyFromChannel)0===r[e].byteLength&&(r[e]=new Float32Array(128)),t.copyFromChannel(r[e],n,i);else{const s=t.getChannelData(n);if(0===r[e].byteLength)r[e]=s.slice(i,i+128);else{const l=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);r[e].set(l)}}}const wo=(t,r,e,n,i)=>{"function"==typeof t.copyToChannel?0!==r[e].byteLength&&t.copyToChannel(r[e],n,i):0!==r[e].byteLength&&t.getChannelData(n).set(r[e],i)},sn=(t,r)=>{const e=[];for(let n=0;n<t;n+=1){const i=[],s="number"==typeof r?r:r[n];for(let l=0;l<s;l+=1)i.push(new Float32Array(128));e.push(i)}return e},Xi=function(){var t=te(function*(r,e,n,i,s,l,c){const a=null===e?128*Math.ceil(r.context.length/128):e.length,d=i.channelCount*i.numberOfInputs,u=s.reduce((_,y)=>_+y,0),h=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===l)throw new Error("Missing the processor constructor.");const p=Pe(r),g=yield((t,r)=>{const e=qe(Mn,t),n=he(r);return qe(e,n)})(n,r),f=sn(i.numberOfInputs,i.channelCount),m=sn(i.numberOfOutputs,s),v=Array.from(r.parameters.keys()).reduce((_,y)=>({..._,[y]:new Float32Array(128)}),{});for(let _=0;_<a;_+=128){if(i.numberOfInputs>0&&null!==e)for(let y=0;y<i.numberOfInputs;y+=1)for(let M=0;M<i.channelCount;M+=1)rn(e,f[y],M,M,_);void 0!==l.parameterDescriptors&&null!==e&&l.parameterDescriptors.forEach(({name:y},M)=>{rn(e,v,y,d+M,_)});for(let y=0;y<i.numberOfInputs;y+=1)for(let M=0;M<s[y];M+=1)0===m[y][M].byteLength&&(m[y][M]=new Float32Array(128));try{const y=f.map((N,b)=>0===p.activeInputs[b].size?[]:N),M=c(_/n.sampleRate,n.sampleRate,()=>g.process(y,m,v));if(null!==h)for(let N=0,b=0;N<i.numberOfOutputs;N+=1){for(let S=0;S<s[N];S+=1)wo(h,m[N],S,b+S,_);b+=s[N]}if(!M)break}catch(y){r.dispatchEvent(new ErrorEvent("processorerror",{colno:y.colno,filename:y.filename,lineno:y.lineno,message:y.message}));break}}return h});return function(e,n,i,s,l,c,a){return t.apply(this,arguments)}}(),Ki={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},os={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ss={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},hs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},gs={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},So=t=>{const{port1:r,port2:e}=new MessageChannel;return new Promise(n=>{const i=()=>{e.onmessage=null,r.close(),e.close(),n()};e.onmessage=()=>i();try{r.postMessage(t,[t])}finally{i()}})},Ss={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},an=(t,r,e)=>{const n=r[e];if(void 0===n)throw t();return n},xs={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Vs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ye=()=>new DOMException("","InvalidStateError"),ln=()=>new DOMException("","InvalidAccessError"),Js={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},To=(t,r,e,n,i,s,l,c,a,d,u)=>{const h=d.length;let p=c;for(let g=0;g<h;g+=1){let f=e[0]*d[g];for(let m=1;m<i;m+=1){const v=p-m&a-1;f+=e[m]*s[v],f-=t[m]*l[v]}for(let m=i;m<n;m+=1)f+=e[m]*s[p-m&a-1];for(let m=i;m<r;m+=1)f-=t[m]*l[p-m&a-1];s[p]=d[g],l[p]=f,p=p+1&a-1,u[g]=f}return p},ha=function(){var t=te(function*(r,e,n,i,s,l,c,a,d,u,h,p,g,f,m,v){return!!(r(e,e)&&r(n,n)&&r(s,s)&&r(l,l)&&r(a,a)&&r(d,d)&&r(u,u)&&r(h,h)&&r(p,p)&&r(g,g)&&r(f,f))&&(yield Promise.all([r(i,i),r(c,c),r(m,m),r(v,v)])).every(y=>y)});return function(e,n,i,s,l,c,a,d,u,h,p,g,f,m,v,_){return t.apply(this,arguments)}}(),fa={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ht=t=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=t.decodeAudioData(r.buffer,()=>{});return void 0!==e&&(e.catch(()=>{}),!0)}catch(e){}return!1},pe=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e]&&(t[e]=n)},Ce=(t,r)=>{pe(t,r,"channelCount"),pe(t,r,"channelCountMode"),pe(t,r,"channelInterpretation")},Mo=t=>"function"==typeof t.getFloatTimeDomainData,ge=(t,r,e)=>{const n=r[e];void 0!==n&&n!==t[e].value&&(t[e].value=n)},On=t=>{var r;t.start=(r=t.start,(e=0,n=0,i)=>{if("number"==typeof i&&i<0||n<0||e<0)throw new RangeError("The parameters can't be negative.");r.call(t,e,n,i)})},Dn=t=>{var r;t.stop=(r=t.stop,(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");r.call(t,e)})},Ao=(t,r)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*r))))),Ra=function(){var t=te(function*(r,e){const n=yield(t=>new Promise((r,e)=>{const{port1:n,port2:i}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),i.close(),r(s)},n.onmessageerror=({data:s})=>{n.close(),i.close(),e(s)},i.postMessage(t)}))(e);return new r(n)});return function(e,n){return t.apply(this,arguments)}}(),No=(t,r)=>{const e=t.createBiquadFilter();return Ce(e,r),ge(e,r,"Q"),ge(e,r,"detune"),ge(e,r,"frequency"),ge(e,r,"gain"),pe(e,r,"type"),e},Wt=(t,r)=>{const e=t.createChannelSplitter(r.numberOfOutputs);return Ce(e,r),(t=>{const r=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>r,set:e=>{if(e!==r)throw ye()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw ye()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw ye()}})})(e),e},Tt=(t,r)=>(t.connect=r.connect.bind(r),t.disconnect=r.disconnect.bind(r),t),Io=(t,r)=>{const e=t.createDelay(r.maxDelayTime);return Ce(e,r),ge(e,r,"delayTime"),e},Ze=(t,r)=>{const e=t.createGain();return Ce(e,r),ge(e,r,"gain"),e};function Ga(t,r){const e=r[0]*r[0]+r[1]*r[1];return[(t[0]*r[0]+t[1]*r[1])/e,(t[1]*r[0]-t[0]*r[1])/e]}function Ya(t,r){return[t[0]*r[0]-t[1]*r[1],t[0]*r[1]+t[1]*r[0]]}function ko(t,r){let e=[0,0];for(let n=t.length-1;n>=0;n-=1)e=Ya(e,r),e[0]+=t[n];return e}const Ht=(t,r,e,n)=>t.createScriptProcessor(r,e,n),De=()=>new DOMException("","NotSupportedError"),ll={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},dl={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},fl={disableNormalization:!1},Sl={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Eo=()=>new DOMException("","UnknownError"),Wl={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},xo=(t,r,e)=>void 0===t.copyFromChannel?t.getChannelData(e)[0]:(t.copyFromChannel(r,e),r[0]),Oo=t=>{if(null===t)return!1;const r=t.length;return r%2!=0?0!==t[Math.floor(r/2)]:t[r/2-1]+t[r/2]!==0},Gt=(t,r,e,n)=>{let i=t;for(;!i.hasOwnProperty(r);)i=Object.getPrototypeOf(i);const{get:s,set:l}=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,{get:e(s),set:n(l)})},Do=(t,r,e)=>{try{t.setValueAtTime(r,e)}catch(n){if(9!==n.code)throw n;Do(t,r,e+1e-7)}},Rn=t=>{const r=t.createOscillator();try{r.start(-1)}catch(e){return e instanceof RangeError}return!1},Ro=t=>{const r=t.createBuffer(1,1,44100),e=t.createBufferSource();e.buffer=r,e.start(),e.stop();try{return e.stop(),!0}catch(n){return!1}},Pn=t=>{const r=t.createOscillator();try{r.stop(-1)}catch(e){return e instanceof RangeError}return!1},oc=()=>{try{new DOMException}catch(t){return!1}return!0},rc=()=>new Promise(t=>{const r=new ArrayBuffer(0),{port1:e,port2:n}=new MessageChannel;e.onmessage=({data:i})=>t(null!==i),n.postMessage(r,[r])}),Po=(t,r)=>{const e=r.createGain();t.connect(e);const n=(i=t.disconnect,()=>{i.call(t,e),t.removeEventListener("ended",n)});var i;t.addEventListener("ended",n),Tt(t,e),t.stop=(i=>{let s=!1;return(l=0)=>{if(s)try{i.call(t,l)}catch(c){e.gain.setValueAtTime(0,l)}else i.call(t,l),s=!0}})(t.stop)},Mt=(t,r)=>e=>{const n={value:t};return Object.defineProperties(e,{currentTarget:n,target:n}),"function"==typeof r?r.call(t,e):r.handleEvent.call(t,e)},sc=(t=ut,(r,e,[n,i,s],l)=>{t(r[i],[e,n,s],c=>c[0]===e&&c[1]===n,l)}),ac=(t=>(r,e,[n,i,s],l)=>{const c=r.get(n);void 0===c?r.set(n,new Set([[i,e,s]])):t(c,[i,e,s],a=>a[0]===i&&a[1]===e,l)})(ut),lc=(t=>(r,e,n,i)=>t(r[i],s=>s[0]===e&&s[1]===n))(Xt),Fo=new WeakMap,cc=(t=>r=>{var e;return null!==(e=t.get(r))&&void 0!==e?e:0})(Fo),Ue=((t,r)=>(e,n)=>{const i=r.get(e);if(void 0!==i)return i;const s=t.get(e);if(void 0!==s)return s;try{const l=n();return l instanceof Promise?(t.set(e,l),l.catch(()=>!1).then(c=>(t.delete(e),r.set(e,c),c))):(r.set(e,l),l)}catch(l){return r.set(e,!1),!1}})(new Map,new WeakMap),je="undefined"==typeof window?null:window,Lo=((t,r)=>(e,n)=>{const i=e.createAnalyser();if(Ce(i,n),!(n.maxDecibels>n.minDecibels))throw r();return pe(i,n,"fftSize"),pe(i,n,"maxDecibels"),pe(i,n,"minDecibels"),pe(i,n,"smoothingTimeConstant"),t(Mo,()=>Mo(i))||(t=>{t.getFloatTimeDomainData=r=>{const e=new Uint8Array(r.length);t.getByteTimeDomainData(e);const n=Math.max(e.length,t.fftSize);for(let i=0;i<n;i+=1)r[i]=.0078125*(e[i]-128);return r}})(i),i})(Ue,Xe),Fn=(t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer})(Pe),Ee=((t,r,e)=>function(){var n=te(function*(i,s,l){const c=t(i);yield Promise.all(c.activeInputs.map((a,d)=>Array.from(a).map(function(){var u=te(function*([h,p]){const f=yield r(h).render(h,s),m=i.context.destination;!e(h)&&(i!==m||!e(i))&&f.connect(l,p,d)});return function(h){return u.apply(this,arguments)}}())).reduce((a,d)=>[...a,...d],[]))});return function(i,s,l){return n.apply(this,arguments)}}())(Pe,Fn,dt),uc=((t,r,e)=>()=>{const n=new WeakMap,i=function(){var s=te(function*(l,c){let a=r(l);return Oe(a,c)||(a=t(c,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant})),n.set(c,a),yield e(l,c,a),a});return function(c,a){return s.apply(this,arguments)}}();return{render(s,l){const c=n.get(l);return void 0!==c?Promise.resolve(c):i(s,l)}}})(Lo,he,Ee),ue=(t=>r=>{const e=t.get(r);if(void 0===e)throw ye();return e})(zt),Ne=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(je),ae=(t=>r=>null!==t&&r instanceof t)(Ne),Bo=new WeakMap,Vo=(t=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,n,i){if(null!==n){let s=this._listeners.get(n);void 0===s&&(s=t(this,n),"function"==typeof n&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(e,s,i)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,n,i){const s=null===n?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,i)}})(Mt),nt=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(je),Ln=(t=>r=>null!==t&&r instanceof t)(nt),Bn=(t=>r=>null!==t&&"function"==typeof t.AudioNode&&r instanceof t.AudioNode)(je),Zo=(t=>r=>null!==t&&"function"==typeof t.AudioParam&&r instanceof t.AudioParam)(je),At=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(je),ve=((t,r,e,n,i,s,l,c,a,d,u,h,p,g,f,m)=>class extends d{constructor(_,y,M,N){super(M),this._context=_,this._nativeAudioNode=M;const b=u(_);h(b)&&!0!==e(yo,()=>yo(b,m))&&(t=>{const r=new Map;var e;t.connect=(e=t.connect.bind(t),(n,i=0,s=0)=>{const l=on(n)?e(n,i,s):e(n,i),c=r.get(n);return void 0===c?r.set(n,[{input:s,output:i}]):c.every(a=>a.input!==s||a.output!==i)&&c.push({input:s,output:i}),l}),t.disconnect=(e=>(n,i,s)=>{if(e.apply(t),void 0===n)r.clear();else if("number"==typeof n)for(const[l,c]of r){const a=c.filter(d=>d.output!==n);0===a.length?r.delete(l):r.set(l,a)}else if(r.has(n))if(void 0===i)r.delete(n);else{const l=r.get(n);if(void 0!==l){const c=l.filter(a=>a.output!==i&&(a.input!==s||void 0===s));0===c.length?r.delete(n):r.set(n,c)}}for(const[l,c]of r)c.forEach(a=>{on(l)?t.connect(l,a.output,a.input):t.connect(l,a.output)})})(t.disconnect)})(M),Cn.set(this,M),io.set(this,new Set),"closed"!==_.state&&y&&wt(this),t(this,N,M)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,y=0,M=0){if(y<0||y>=this._nativeAudioNode.numberOfOutputs)throw i();const N=u(this._context),b=f(N);if(p(_)||g(_))throw s();if(Kt(_)){const w=he(_);try{const I=en(this._nativeAudioNode,w,y,M),x=nn(this);(b||x)&&this._nativeAudioNode.disconnect(...I),"closed"!==this.context.state&&!x&&nn(_)&&wt(_)}catch(I){throw 12===I.code?s():I}if(r(this,_,y,M,b)){const I=a([this],_);kn(I,n(b))}return _}const S=Ut(_);if("playbackRate"===S.name&&1024===S.maxValue)throw l();try{this._nativeAudioNode.connect(S,y),(b||nn(this))&&this._nativeAudioNode.disconnect(S,y)}catch(w){throw 12===w.code?s():w}if(((t,r,e,n)=>{const{activeInputs:i,passiveInputs:s}=Vt(r),{outputs:l}=Pe(t),c=Lt(t),a=d=>{const u=he(t),h=Ut(r);if(d){const p=vo(s,t,e);mo(i,t,p,!1),!n&&!dt(t)&&u.connect(h,e)}else{const p=((t,r,e)=>Xt(t,n=>n[0]===r&&n[1]===e))(i,t,e);go(s,p,!1),!n&&!dt(t)&&u.disconnect(h,e)}};return!!ut(l,[r,e],d=>d[0]===r&&d[1]===e,!0)&&(c.add(a),tt(t)?mo(i,t,[e,a],!0):go(s,[t,e,a],!0),!0)})(this,_,y,b)){const w=a([this],_);kn(w,n(b))}}disconnect(_,y,M){let N;const b=u(this._context),S=f(b);if(void 0===_)N=((t,r)=>{const e=Pe(t),n=[];for(const i of e.outputs)Zt(i)?En(t,r,...i):xn(t,r,...i),n.push(i[0]);return e.outputs.clear(),n})(this,S);else if("number"==typeof _){if(_<0||_>=this.numberOfOutputs)throw i();N=((t,r,e)=>{const n=Pe(t),i=[];for(const s of n.outputs)s[1]===e&&(Zt(s)?En(t,r,...s):xn(t,r,...s),i.push(s[0]),n.outputs.delete(s));return i})(this,S,_)}else{if(void 0!==y&&(y<0||y>=this.numberOfOutputs)||Kt(_)&&void 0!==M&&(M<0||M>=_.numberOfInputs))throw i();if(N=((t,r,e,n,i)=>{const s=Pe(t);return Array.from(s.outputs).filter(l=>!(l[0]!==e||void 0!==n&&l[1]!==n||void 0!==i&&l[2]!==i)).map(l=>(Zt(l)?En(t,r,...l):xn(t,r,...l),s.outputs.delete(l),l[0]))})(this,S,_,y,M),0===N.length)throw s()}for(const C of N){const w=a([this],C);kn(w,c)}}})((t=>(r,e,n)=>{const i=[];for(let s=0;s<n.numberOfInputs;s+=1)i.push(new Set);t.set(r,{activeInputs:i,outputs:new Set,passiveInputs:new WeakMap,renderer:e})})(oo),((t,r,e,n,i,s,l,c,a,d,u,h,p)=>{const g=new WeakMap;return(f,m,v,_,y)=>{const{activeInputs:M,passiveInputs:N}=s(m),{outputs:b}=s(f),S=c(f),C=w=>{const k=a(m),I=a(f);if(w){const x=ho(N,f,v,_);t(M,f,x,!1),!y&&!h(f)&&e(I,k,v,_),p(m)&&wt(m)}else{const x=n(M,f,v,_);r(N,_,x,!1),!y&&!h(f)&&i(I,k,v,_);const T=l(m);if(0===T)u(m)&&An(m,M);else{const B=g.get(m);void 0!==B&&clearTimeout(B),g.set(m,setTimeout(()=>{u(m)&&An(m,M)},1e3*T))}}};return!!d(b,[m,v,_],w=>w[0]===m&&w[1]===v&&w[2]===_,!0)&&(S.add(C),u(f)?t(M,f,[v,_,C],!0):r(N,_,[f,v,C],!0),!0)}})(sc,ac,en,lc,tn,Pe,cc,Lt,he,ut,tt,dt,nn),Ue,((t,r,e,n,i,s)=>l=>(c,a)=>{const d=t.get(c);if(void 0===d){if(!l&&s(c)){const u=n(c),{outputs:h}=e(c);for(const p of h)if(Zt(p)){const g=n(p[0]);r(u,g,p[1],p[2])}else{const g=i(p[0]);u.disconnect(g,p[1])}}t.set(c,a)}else t.set(c,d+a)})(Sn,tn,Pe,he,Ut,tt),Xe,ln,De,((t,r,e,n,i,s,l,c)=>(a,d)=>{const u=r.get(a);if(void 0===u)throw new Error("Missing the expected cycle count.");const h=s(a.context),p=c(h);if(u===d){if(r.delete(a),!p&&l(a)){const g=n(a),{outputs:f}=e(a);for(const m of f)if(Zt(m)){const v=n(m[0]);t(g,v,m[1],m[2])}else{const v=i(m[0]);g.connect(v,m[1])}}}else r.set(a,u-d)})(en,Sn,Pe,he,Ut,ue,tt,ae),((t,r,e)=>function n(i,s){const l=Kt(s)?s:e(t,s);if((t=>"delayTime"in t)(l))return[];if(i[0]===l)return[i];if(i.includes(l))return[];const{outputs:c}=r(l);return Array.from(c).map(a=>n([...i,l],a[0])).reduce((a,d)=>a.concat(d),[])})(Bo,Pe,qe),Vo,ue,Ln,Bn,Zo,ae,At),dc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=i(c),u={...bi,...a},h=n(d,u);super(c,!1,h,s(d)?r():null),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=a,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}})(ve,uc,Xe,Lo,ue,ae),Vn=new WeakSet,Uo=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(je),Wo=(t=>r=>(t[0]=r,t[0]))(new Uint32Array(1)),Zn=((t,r)=>e=>{e.copyFromChannel=(n,i,s=0)=>{const l=t(s),c=t(i);if(c>=e.numberOfChannels)throw r();const a=e.length,d=e.getChannelData(c),u=n.length;for(let h=l<0?-l:0;h+l<a&&h<u;h+=1)n[h]=d[h+l]},e.copyToChannel=(n,i,s=0)=>{const l=t(s),c=t(i);if(c>=e.numberOfChannels)throw r();const a=e.length,d=e.getChannelData(c),u=n.length;for(let h=l<0?-l:0;h+l<a&&h<u;h+=1)d[h+l]=n[h]}})(Wo,Xe),Un=(t=>r=>{var e;r.copyFromChannel=(e=r.copyFromChannel,(n,i,s=0)=>{const l=t(s),c=t(i);if(l<r.length)return e.call(r,n,c,l)}),r.copyToChannel=(e=>(n,i,s=0)=>{const l=t(s),c=t(i);if(l<r.length)return e.call(r,n,c,l)})(r.copyToChannel)})(Wo),hc=((t,r,e,n,i,s,l,c)=>{let a=null;return class gr{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:p,sampleRate:g}={...Ci,...u};null===a&&(a=new i(1,1,44100));const f=null!==n&&r(s,s)?new n({length:h,numberOfChannels:p,sampleRate:g}):a.createBuffer(p,h,g);if(0===f.numberOfChannels)throw e();return"function"!=typeof f.copyFromChannel?(l(f),Nn(f)):r(Jt,()=>Jt(f))||c(f),t.add(f),f}static[Symbol.hasInstance](u){return null!==u&&"object"==typeof u&&Object.getPrototypeOf(u)===gr.prototype||t.has(u)}}})(Vn,Ue,De,Uo,Ne,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch(r){return!1}return!0})(Uo),Zn,Un),cn=(t=>(r,e)=>{const n=t(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(n).connect(r.destination);const i=()=>{e.removeEventListener("ended",i),e.disconnect(n),n.disconnect()};e.addEventListener("ended",i)})(Ze),Ho=((t,r,e)=>function(){var n=te(function*(i,s,l){const c=r(i);yield Promise.all(Array.from(c.activeInputs).map(function(){var a=te(function*([d,u]){const p=yield t(d).render(d,s);e(d)||p.connect(l,u)});return function(d){return a.apply(this,arguments)}}()))});return function(i,s,l){return n.apply(this,arguments)}}())(Fn,Vt,dt),Je=(t=>(r,e,n)=>t(e,r,n))(Ho),Nt=((t,r,e,n,i,s,l,c,a,d,u)=>(h,p)=>{const g=h.createBufferSource();return Ce(g,p),ge(g,p,"playbackRate"),pe(g,p,"buffer"),pe(g,p,"loop"),pe(g,p,"loopEnd"),pe(g,p,"loopStart"),r(e,()=>e(h))||(t=>{t.start=(r=>{let e=!1;return(n=0,i=0,s)=>{if(e)throw ye();r.call(t,n,i,s),e=!0}})(t.start)})(g),r(n,()=>n(h))||(t=>{var r;t.start=(r=t.start,(e=0,n=0,i)=>{const s=t.buffer,l=null===s?n:Math.min(s.duration,n);null!==s&&l>s.duration-.5/t.context.sampleRate?r.call(t,e,0,0):r.call(t,e,l,i)})})(g),r(i,()=>i(h))||d(g,h),r(s,()=>s(h))||On(g),r(l,()=>l(h))||u(g,h),r(c,()=>c(h))||Dn(g),t(h,g),g})(cn,Ue,t=>{const r=t.createBufferSource();r.start();try{r.start()}catch(e){return!0}return!1},t=>{const r=t.createBufferSource(),e=t.createBuffer(1,1,44100);r.buffer=e;try{r.start(0,1)}catch(n){return!1}return!0},t=>{const r=t.createBufferSource();r.start();try{r.stop()}catch(e){return!1}return!0},Rn,Ro,Pn,0,(t=>(r,e)=>{const n=e.createBuffer(1,1,44100);null===r.buffer&&(r.buffer=n),t(r,"buffer",i=>()=>{const s=i.call(r);return s===n?null:s},i=>s=>i.call(r,null===s?n:s))})(Gt),Po),$e=((t,r)=>(e,n,i)=>(t(n).replay(i),r(n,e,i)))((t=>r=>{const e=t(r);if(null===e.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer})(Vt),Ho),pc=((t,r,e,n,i)=>()=>{const s=new WeakMap;let l=null,c=null;const a=function(){var d=te(function*(u,h){let p=e(u);const g=Oe(p,h);return g||(p=r(h,{buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value}),null!==l&&p.start(...l),null!==c&&p.stop(c)),s.set(h,p),g?yield t(h,u.playbackRate,p.playbackRate):yield n(h,u.playbackRate,p.playbackRate),yield i(u,h,p),p});return function(h,p){return d.apply(this,arguments)}}();return{set start(d){l=d},set stop(d){c=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):a(d,u)}}})(Je,Nt,he,$e,Ee),Qe=((t,r,e,n,i,s,l,c,a,d,u,h,p)=>(g,f,m,v=null,_=null)=>{const y=new it.AutomationEventList(m.defaultValue),M=f?(t=>({replay(r){for(const e of t)if("exponentialRampToValue"===e.type){const{endTime:n,value:i}=e;r.exponentialRampToValueAtTime(i,n)}else if("linearRampToValue"===e.type){const{endTime:n,value:i}=e;r.linearRampToValueAtTime(i,n)}else if("setTarget"===e.type){const{startTime:n,target:i,timeConstant:s}=e;r.setTargetAtTime(i,n,s)}else if("setValue"===e.type){const{startTime:n,value:i}=e;r.setValueAtTime(i,n)}else{if("setValueCurve"!==e.type)throw new Error("Can't apply an unknown automation.");{const{duration:n,startTime:i,values:s}=e;r.setValueCurveAtTime(s,i,n)}}}}))(y):null,N={get defaultValue(){return m.defaultValue},get maxValue(){return null===v?m.maxValue:v},get minValue(){return null===_?m.minValue:_},get value(){return m.value},set value(b){m.value=b,N.setValueAtTime(b,g.context.currentTime)},cancelAndHoldAtTime(b){if("function"==typeof m.cancelAndHoldAtTime)null===M&&y.flush(g.context.currentTime),y.add(i(b)),m.cancelAndHoldAtTime(b);else{const S=Array.from(y).pop();null===M&&y.flush(g.context.currentTime),y.add(i(b));const C=Array.from(y).pop();m.cancelScheduledValues(b),S!==C&&void 0!==C&&("exponentialRampToValue"===C.type?m.exponentialRampToValueAtTime(C.value,C.endTime):"linearRampToValue"===C.type?m.linearRampToValueAtTime(C.value,C.endTime):"setValue"===C.type?m.setValueAtTime(C.value,C.startTime):"setValueCurve"===C.type&&m.setValueCurveAtTime(C.values,C.startTime,C.duration))}return N},cancelScheduledValues:b=>(null===M&&y.flush(g.context.currentTime),y.add(s(b)),m.cancelScheduledValues(b),N),exponentialRampToValueAtTime(b,S){if(0===b)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;return null===M&&y.flush(g.context.currentTime),y.add(l(b,S)),m.exponentialRampToValueAtTime(b,S),N},linearRampToValueAtTime:(b,S)=>(null===M&&y.flush(g.context.currentTime),y.add(c(b,S)),m.linearRampToValueAtTime(b,S),N),setTargetAtTime:(b,S,C)=>(null===M&&y.flush(g.context.currentTime),y.add(a(b,S,C)),m.setTargetAtTime(b,S,C),N),setValueAtTime:(b,S)=>(null===M&&y.flush(g.context.currentTime),y.add(d(b,S)),m.setValueAtTime(b,S),N),setValueCurveAtTime(b,S,C){const w=b instanceof Float32Array?b:new Float32Array(b);if(null!==h&&"webkitAudioContext"===h.name){const k=S+C,I=g.context.sampleRate,x=Math.ceil(S*I),T=Math.floor(k*I),B=T-x,Z=new Float32Array(B);for(let V=0;V<B;V+=1){const H=(w.length-1)/C*((x+V)/I-S),j=Math.floor(H),Y=Math.ceil(H);Z[V]=j===Y?w[j]:(1-(H-j))*w[j]+(1-(Y-H))*w[Y]}null===M&&y.flush(g.context.currentTime),y.add(u(Z,S,C)),m.setValueCurveAtTime(Z,S,C);const U=T/I;U<k&&p(N,Z[Z.length-1],U),p(N,w[w.length-1],k)}else null===M&&y.flush(g.context.currentTime),y.add(u(w,S,C)),m.setValueCurveAtTime(w,S,C);return N}};return e.set(N,m),r.set(N,g),t(N,M),N})((t=>(r,e)=>{t.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})})(ro),Bo,wn,0,it.createCancelAndHoldAutomationEvent,it.createCancelScheduledValuesAutomationEvent,it.createExponentialRampToValueAutomationEvent,it.createLinearRampToValueAutomationEvent,it.createSetTargetAutomationEvent,it.createSetValueAutomationEvent,it.createSetValueCurveAutomationEvent,nt,Do),fc=((t,r,e,n,i,s,l,c)=>class extends t{constructor(d,u){const h=s(d),p={...Si,...u},g=i(h,p),f=l(h),m=f?r():null;super(d,!1,g,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=null!==p.buffer,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=e(this,f,g.playbackRate,Re,Ve)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,null!==d){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const u="function"==typeof d?c(this,d):null;this._nativeAudioBufferSourceNode.onended=u;const h=this._nativeAudioBufferSourceNode.onended;this._onended=null!==h&&h===u?d:h}get playbackRate(){return this._playbackRate}start(d=0,u=0,h){if(this._nativeAudioBufferSourceNode.start(d,u,h),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===h?[d,u]:[d,u,h]),"closed"!==this.context.state){wt(this);const p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),tt(this)&&Bt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=d)}})(ve,pc,Qe,ye,Nt,ue,ae,Mt),mc=((t,r,e,n,i,s,l,c)=>class extends t{constructor(d,u){const h=s(d),p=l(h),g=i(h,u,p);super(d,!1,g,p?r(c):null),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(ve,t=>{const r=new WeakMap,e=function(){var n=te(function*(i,s){const l=s.destination;return r.set(s,l),yield t(i,s,l),l});return function(s,l){return n.apply(this,arguments)}}();return{render(n,i){const s=r.get(i);return void 0!==s?Promise.resolve(s):e(n,i)}}},Xe,ye,((t,r)=>(e,n,i)=>{const s=e.destination;if(s.channelCount!==n)try{s.channelCount=n}catch(c){}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:n});const l=t(e,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return r(l,"channelCount",c=>()=>c.call(l),c=>a=>{c.call(l,a);try{s.channelCount=a}catch(d){if(a>s.maxChannelCount)throw d}}),r(l,"channelCountMode",c=>()=>c.call(l),c=>a=>{c.call(l,a),s.channelCountMode=a}),r(l,"channelInterpretation",c=>()=>c.call(l),c=>a=>{c.call(l,a),s.channelInterpretation=a}),Object.defineProperty(l,"maxChannelCount",{get:()=>s.maxChannelCount}),l.connect(s),l})(Ze,Gt),ue,ae,Ee),gc=((t,r,e,n,i)=>()=>{const s=new WeakMap,l=function(){var c=te(function*(a,d){let u=e(a);const h=Oe(u,d);return h||(u=r(d,{Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type})),s.set(d,u),h?(yield t(d,a.Q,u.Q),yield t(d,a.detune,u.detune),yield t(d,a.frequency,u.frequency),yield t(d,a.gain,u.gain)):(yield n(d,a.Q,u.Q),yield n(d,a.detune,u.detune),yield n(d,a.frequency,u.frequency),yield n(d,a.gain,u.gain)),yield i(a,d,u),u});return function(d,u){return c.apply(this,arguments)}}();return{render(c,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):l(c,a)}}})(Je,No,he,$e,Ee),pt=(t=>(r,e)=>t.set(r,e))(Fo),_c=((t,r,e,n,i,s,l,c)=>class extends t{constructor(d,u){const h=s(d),p={...Ki,...u},g=i(h,p),f=l(h);super(d,!1,g,f?e():null),this._Q=r(this,f,g.Q,Re,Ve),this._detune=r(this,f,g.detune,1200*Math.log2(Re),-1200*Math.log2(Re)),this._frequency=r(this,f,g.frequency,d.sampleRate/2,0),this._gain=r(this,f,g.gain,40*Math.log10(Re),Ve),this._nativeBiquadFilterNode=g,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,u,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,u,h)}catch(p){throw 11===p.code?n():p}if(d.length!==u.length||u.length!==h.length)throw n()}})(ve,Qe,gc,ln,No,ue,ae,pt),st=((t,r)=>(e,n,i)=>{const s=new Set;return e.connect=(l=e.connect,(c,a=0,d=0)=>{const u=0===s.size;if(r(c))return l.call(e,c,a,d),t(s,[c,a,d],h=>h[0]===c&&h[1]===a&&h[2]===d,!0),u&&n(),c;l.call(e,c,a),t(s,[c,a],h=>h[0]===c&&h[1]===a,!0),u&&n()}),e.disconnect=(l=>(c,a,d)=>{const u=s.size>0;if(void 0===c)l.apply(e),s.clear();else if("number"==typeof c){l.call(e,c);for(const p of s)p[1]===c&&s.delete(p)}else{r(c)?l.call(e,c,a,d):l.call(e,c,a);for(const p of s)p[0]===c&&(void 0===a||p[1]===a)&&(void 0===d||p[2]===d)&&s.delete(p)}u&&0===s.size&&i()})(e.disconnect),e;var l})(ut,Bn),bc=((t,r)=>(e,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=e.createBufferSource();r(n,()=>{const c=n.numberOfInputs;for(let a=0;a<c;a+=1)i.connect(n,0,a)},()=>i.disconnect(n))})(ye,st),at=((t,r)=>(e,n)=>{const i=e.createChannelMerger(n.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&r(e,i),Ce(i,n),i})(nt,bc),vc=((t,r,e)=>()=>{const n=new WeakMap,i=function(){var s=te(function*(l,c){let a=r(l);return Oe(a,c)||(a=t(c,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs})),n.set(c,a),yield e(l,c,a),a});return function(c,a){return s.apply(this,arguments)}}();return{render(s,l){const c=n.get(l);return void 0!==c?Promise.resolve(c):i(s,l)}}})(at,he,Ee),yc=((t,r,e,n,i)=>class extends t{constructor(l,c){const a=n(l),d={...os,...c};super(l,!1,e(a,d),i(a)?r():null)}})(ve,vc,at,ue,ae),Cc=((t,r,e)=>()=>{const n=new WeakMap,i=function(){var s=te(function*(l,c){let a=r(l);return Oe(a,c)||(a=t(c,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs})),n.set(c,a),yield e(l,c,a),a});return function(c,a){return s.apply(this,arguments)}}();return{render(s,l){const c=n.get(l);return void 0!==c?Promise.resolve(c):i(s,l)}}})(Wt,he,Ee),wc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=n(c),u=(t=>({...t,channelCount:t.numberOfOutputs}))({...ss,...a});super(c,!1,e(d,u),i(d)?r():null)}})(ve,Cc,Wt,ue,ae),Sc=((t,r,e,n)=>(i,{offset:s,...l})=>{const c=i.createBuffer(1,2,44100),a=r(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=e(i,{...l,gain:s}),u=c.getChannelData(0);u[0]=1,u[1]=1,a.buffer=c,a.loop=!0;const h={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(f){d.channelCount=f},get channelCountMode(){return d.channelCountMode},set channelCountMode(f){d.channelCountMode=f},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(f){d.channelInterpretation=f},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return a.onended},set onended(f){a.onended=f},addEventListener:(...f)=>a.addEventListener(f[0],f[1],f[2]),dispatchEvent:(...f)=>a.dispatchEvent(f[0]),removeEventListener:(...f)=>a.removeEventListener(f[0],f[1],f[2]),start(f=0){a.start.call(a,f)},stop(f=0){a.stop.call(a,f)}};return t(i,a),n(Tt(h,d),()=>a.connect(d),()=>a.disconnect(d))})(cn,Nt,Ze,st),It=((t,r,e,n,i)=>(s,l)=>{if(void 0===s.createConstantSource)return e(s,l);const c=s.createConstantSource();return Ce(c,l),ge(c,l,"offset"),r(n,()=>n(s))||On(c),r(i,()=>i(s))||Dn(c),t(s,c),c})(cn,Ue,Sc,Rn,Pn),Tc=((t,r,e,n,i)=>()=>{const s=new WeakMap;let l=null,c=null;const a=function(){var d=te(function*(u,h){let p=e(u);const g=Oe(p,h);return g||(p=r(h,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value}),null!==l&&p.start(l),null!==c&&p.stop(c)),s.set(h,p),g?yield t(h,u.offset,p.offset):yield n(h,u.offset,p.offset),yield i(u,h,p),p});return function(h,p){return d.apply(this,arguments)}}();return{set start(d){l=d},set stop(d){c=d},render(d,u){const h=s.get(u);return void 0!==h?Promise.resolve(h):a(d,u)}}})(Je,It,he,$e,Ee),Mc=((t,r,e,n,i,s,l)=>class extends t{constructor(a,d){const u=i(a),h={...hs,...d},p=n(u,h),g=s(u),f=g?e():null;super(a,!1,p,f),this._constantSourceNodeRenderer=f,this._nativeConstantSourceNode=p,this._offset=r(this,g,p.offset,Re,Ve),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const d="function"==typeof a?l(this,a):null;this._nativeConstantSourceNode.onended=d;const u=this._nativeConstantSourceNode.onended;this._onended=null!==u&&u===d?a:u}start(a=0){if(this._nativeConstantSourceNode.start(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=a),"closed"!==this.context.state){wt(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),tt(this)&&Bt(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(a=0){this._nativeConstantSourceNode.stop(a),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=a)}})(ve,Qe,Tc,It,ue,ae,Mt),Go=((t,r)=>(e,n)=>{const i=e.createConvolver();if(Ce(i,n),n.disableNormalization===i.normalize&&(i.normalize=!n.disableNormalization),pe(i,n,"buffer"),n.channelCount>2||(r(i,"channelCount",s=>()=>s.call(i),s=>l=>{if(l>2)throw t();return s.call(i,l)}),"max"===n.channelCountMode))throw t();return r(i,"channelCountMode",s=>()=>s.call(i),s=>l=>{if("max"===l)throw t();return s.call(i,l)}),i})(De,Gt),Ac=((t,r,e)=>()=>{const n=new WeakMap,i=function(){var s=te(function*(l,c){let a=r(l);return Oe(a,c)||(a=t(c,{buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize})),n.set(c,a),St(a)?yield e(l,c,a.inputs[0]):yield e(l,c,a),a});return function(c,a){return s.apply(this,arguments)}}();return{render(s,l){const c=n.get(l);return void 0!==c?Promise.resolve(c):i(s,l)}}})(Go,he,Ee),Nc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=n(c),u={...gs,...a},h=e(d,u);super(c,!1,h,i(d)?r():null),this._isBufferNullified=!1,this._nativeConvolverNode=h,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,null===c&&null!==this._nativeConvolverNode.buffer){const a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}})(ve,Ac,Go,ue,ae,pt),Ic=((t,r,e,n,i)=>s=>{const l=new WeakMap,c=function(){var a=te(function*(d,u){let h=e(d);const p=Oe(h,u);return p||(h=r(u,{channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s})),l.set(u,h),p?yield t(u,d.delayTime,h.delayTime):yield n(u,d.delayTime,h.delayTime),yield i(d,u,h),h});return function(u,h){return a.apply(this,arguments)}}();return{render(a,d){const u=l.get(d);return void 0!==u?Promise.resolve(u):c(a,d)}}})(Je,Io,he,$e,Ee),kc=((t,r,e,n,i,s,l)=>class extends t{constructor(a,d){const u=i(a),h={...Ss,...d},p=n(u,h),g=s(u);super(a,!1,p,g?e(h.maxDelayTime):null),this._delayTime=r(this,g,p.delayTime),l(this,h.maxDelayTime)}get delayTime(){return this._delayTime}})(ve,Qe,Ic,Io,ue,ae,pt),Yo=(t=>(r,e)=>{const n=r.createDynamicsCompressor();if(Ce(n,e),e.channelCount>2||"max"===e.channelCountMode)throw t();return ge(n,e,"attack"),ge(n,e,"knee"),ge(n,e,"ratio"),ge(n,e,"release"),ge(n,e,"threshold"),n})(De),Ec=((t,r,e,n,i)=>()=>{const s=new WeakMap,l=function(){var c=te(function*(a,d){let u=e(a);const h=Oe(u,d);return h||(u=r(d,{attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value})),s.set(d,u),h?(yield t(d,a.attack,u.attack),yield t(d,a.knee,u.knee),yield t(d,a.ratio,u.ratio),yield t(d,a.release,u.release),yield t(d,a.threshold,u.threshold)):(yield n(d,a.attack,u.attack),yield n(d,a.knee,u.knee),yield n(d,a.ratio,u.ratio),yield n(d,a.release,u.release),yield n(d,a.threshold,u.threshold)),yield i(a,d,u),u});return function(d,u){return c.apply(this,arguments)}}();return{render(c,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):l(c,a)}}})(Je,Yo,he,$e,Ee),xc=((t,r,e,n,i,s,l,c)=>class extends t{constructor(d,u){const h=s(d),p={...xs,...u},g=n(h,p),f=l(h);super(d,!1,g,f?e():null),this._attack=r(this,f,g.attack),this._knee=r(this,f,g.knee),this._nativeDynamicsCompressorNode=g,this._ratio=r(this,f,g.ratio),this._release=r(this,f,g.release),this._threshold=r(this,f,g.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=u,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,"max"===d)throw this._nativeDynamicsCompressorNode.channelCountMode=u,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(ve,Qe,Ec,Yo,De,ue,ae,pt),Oc=((t,r,e,n,i)=>()=>{const s=new WeakMap,l=function(){var c=te(function*(a,d){let u=e(a);const h=Oe(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value})),s.set(d,u),h?yield t(d,a.gain,u.gain):yield n(d,a.gain,u.gain),yield i(a,d,u),u});return function(d,u){return c.apply(this,arguments)}}();return{render(c,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):l(c,a)}}})(Je,Ze,he,$e,Ee),Dc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=i(c),u={...Vs,...a},h=n(d,u),p=s(d);super(c,!1,h,p?e():null),this._gain=r(this,p,h.gain,Re,Ve)}get gain(){return this._gain}})(ve,Qe,Oc,Ze,ue,ae),Rc=((t,r,e,n)=>(i,s,{channelCount:l,channelCountMode:c,channelInterpretation:a,feedback:d,feedforward:u})=>{const h=Ao(s,i.sampleRate),p=d instanceof Float64Array?d:new Float64Array(d),g=u instanceof Float64Array?u:new Float64Array(u),f=p.length,m=g.length,v=Math.min(f,m);if(0===f||f>20)throw n();if(0===p[0])throw r();if(0===m||m>20)throw n();if(0===g[0])throw r();if(1!==p[0]){for(let w=0;w<m;w+=1)g[w]/=p[0];for(let w=1;w<f;w+=1)p[w]/=p[0]}const _=e(i,h,l,l);_.channelCount=l,_.channelCountMode=c,_.channelInterpretation=a;const M=[],N=[],b=[];for(let w=0;w<l;w+=1){M.push(0);const k=new Float32Array(32),I=new Float32Array(32);k.fill(0),I.fill(0),N.push(k),b.push(I)}_.onaudioprocess=w=>{const k=w.inputBuffer,I=w.outputBuffer,x=k.numberOfChannels;for(let T=0;T<x;T+=1){const B=k.getChannelData(T),Z=I.getChannelData(T);M[T]=To(p,f,g,m,v,N[T],b[T],M[T],32,B,Z)}};const S=i.sampleRate/2;return Tt({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(w){_.channelCount=w},get channelCountMode(){return _.channelCountMode},set channelCountMode(w){_.channelCountMode=w},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(w){_.channelInterpretation=w},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...w)=>_.addEventListener(w[0],w[1],w[2]),dispatchEvent:(...w)=>_.dispatchEvent(w[0]),getFrequencyResponse(w,k,I){if(w.length!==k.length||k.length!==I.length)throw t();const x=w.length;for(let T=0;T<x;T+=1){const B=-Math.PI*(w[T]/S),Z=[Math.cos(B),Math.sin(B)],H=Ga(ko(g,Z),ko(p,Z));k[T]=Math.sqrt(H[0]*H[0]+H[1]*H[1]),I[T]=Math.atan2(H[1],H[0])}},removeEventListener:(...w)=>_.removeEventListener(w[0],w[1],w[2])},_)})(ln,ye,Ht,De),un=((t,r,e,n)=>i=>t(ht,()=>ht(i))?Promise.resolve(t(n,n)).then(s=>{if(!s){const l=e(i,512,0,1);i.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>i.currentTime,l.connect(i.destination)}return i.startRendering()}):new Promise(s=>{const l=r(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=c=>{l.disconnect(),s(c.renderedBuffer)},l.connect(i.destination),i.startRendering()}))(Ue,Ze,Ht,((t,r)=>()=>{if(null===r)return Promise.resolve(!1);const e=new r(1,1,44100),n=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(i=>{e.oncomplete=()=>{n.disconnect(),i(0!==e.currentTime)},e.startRendering()})})(Ze,Ne)),Pc=((t,r,e,n,i)=>(s,l)=>{const c=new WeakMap;let a=null;const d=function(){var u=te(function*(h,p){let g=null,f=r(h);const m=Oe(f,p);if(void 0===p.createIIRFilter?g=t(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(f=p.createIIRFilter(l,s)),c.set(p,null===g?f:g),null!==g){if(null===a){if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");const _=new e(h.context.destination.channelCount,h.context.length,p.sampleRate);a=te(function*(){return yield n(h,_,_.destination),((t,r,e,n)=>{const i=e instanceof Float64Array?e:new Float64Array(e),s=n instanceof Float64Array?n:new Float64Array(n),l=i.length,c=s.length,a=Math.min(l,c);if(1!==i[0]){for(let f=0;f<l;f+=1)s[f]/=i[0];for(let f=1;f<c;f+=1)i[f]/=i[0]}const u=new Float32Array(32),h=new Float32Array(32),p=r.createBuffer(t.numberOfChannels,t.length,t.sampleRate),g=t.numberOfChannels;for(let f=0;f<g;f+=1){const m=t.getChannelData(f),v=p.getChannelData(f);u.fill(0),h.fill(0),To(i,l,s,c,a,u,h,0,32,m,v)}return p})(yield i(_),p,s,l)})()}const v=yield a;return g.buffer=v,g.start(0),g}return yield n(h,p,f),f});return function(p,g){return u.apply(this,arguments)}}();return{render(u,h){const p=c.get(h);return void 0!==p?Promise.resolve(p):d(u,h)}}})(Nt,he,Ne,Ee,un),Fc=(t=>(r,e,n)=>{if(void 0===r.createIIRFilter)return t(r,e,n);const i=r.createIIRFilter(n.feedforward,n.feedback);return Ce(i,n),i})(Rc),Lc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=n(c),u=i(d),h={...Js,...a},p=r(d,u?null:c.baseLatency,h);super(c,!1,p,u?e(h.feedback,h.feedforward):null),(t=>{var r;t.getFrequencyResponse=(r=t.getFrequencyResponse,(e,n,i)=>{if(e.length!==n.length||n.length!==i.length)throw ln();return r.call(t,e,n,i)})})(p),this._nativeIIRFilterNode=p,s(this,1)}getFrequencyResponse(c,a,d){return this._nativeIIRFilterNode.getFrequencyResponse(c,a,d)}})(ve,Fc,Pc,ue,ae,pt),Bc=((t,r,e,n,i,s,l,c)=>(a,d)=>{const u=d.listener,{forwardX:p,forwardY:g,forwardZ:f,positionX:m,positionY:v,positionZ:_,upX:y,upY:M,upZ:N}=void 0===u.forwardX?(()=>{const b=new Float32Array(1),S=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=l(d);let w=!1,k=[0,0,-1,0,1,0],I=[0,0,0];const x=()=>{if(w)return;w=!0;const U=n(d,256,9,0);U.onaudioprocess=({inputBuffer:V})=>{const H=[s(V,b,0),s(V,b,1),s(V,b,2),s(V,b,3),s(V,b,4),s(V,b,5)];H.some((Y,ee)=>Y!==k[ee])&&(u.setOrientation(...H),k=H);const j=[s(V,b,6),s(V,b,7),s(V,b,8)];j.some((Y,ee)=>Y!==I[ee])&&(u.setPosition(...j),I=j)},S.connect(U)},T=U=>V=>{V!==k[U]&&(k[U]=V,u.setOrientation(...k))},B=U=>V=>{V!==I[U]&&(I[U]=V,u.setPosition(...I))},Z=(U,V,H)=>{const j=e(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});j.connect(S,0,U),j.start(),Object.defineProperty(j.offset,"defaultValue",{get:()=>V});const Y=t({context:a},C,j.offset,Re,Ve);return c(Y,"value",ee=>()=>ee.call(Y),ee=>K=>{try{ee.call(Y,K)}catch(de){if(9!==de.code)throw de}x(),C&&H(K)}),Y.cancelAndHoldAtTime=(ee=Y.cancelAndHoldAtTime,C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de}),Y.cancelScheduledValues=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.cancelScheduledValues),Y.exponentialRampToValueAtTime=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.exponentialRampToValueAtTime),Y.linearRampToValueAtTime=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.linearRampToValueAtTime),Y.setTargetAtTime=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.setTargetAtTime),Y.setValueAtTime=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.setValueAtTime),Y.setValueCurveAtTime=(ee=>C?()=>{throw i()}:(...K)=>{const de=ee.apply(Y,K);return x(),de})(Y.setValueCurveAtTime),Y;var ee};return{forwardX:Z(0,0,T(0)),forwardY:Z(1,0,T(1)),forwardZ:Z(2,-1,T(2)),positionX:Z(6,0,B(0)),positionY:Z(7,0,B(1)),positionZ:Z(8,0,B(2)),upX:Z(3,0,T(3)),upY:Z(4,1,T(4)),upZ:Z(5,0,T(5))}})():u;return{get forwardX(){return p},get forwardY(){return g},get forwardZ(){return f},get positionX(){return m},get positionY(){return v},get positionZ(){return _},get upX(){return y},get upY(){return M},get upZ(){return N}}})(Qe,at,It,Ht,De,xo,ae,Gt),qo=new WeakMap,Wn=((t,r,e,n,i,s)=>class extends e{constructor(c,a){super(c),this._nativeContext=c,zt.set(this,c),n(c)&&i.set(c,new Set),this._destination=new t(this,a),this._listener=r(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const a="function"==typeof c?s(this,c):null;this._nativeContext.onstatechange=a;const d=this._nativeContext.onstatechange;this._onstatechange=null!==d&&d===a?c:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(mc,Bc,Vo,ae,qo,Mt),jo=((t,r,e,n,i,s)=>(l,c)=>{const a=l.createOscillator();return Ce(a,c),ge(a,c,"detune"),ge(a,c,"frequency"),void 0!==c.periodicWave?a.setPeriodicWave(c.periodicWave):pe(a,c,"type"),r(e,()=>e(l))||On(a),r(n,()=>n(l))||s(a,l),r(i,()=>i(l))||Dn(a),t(l,a),a})(cn,Ue,Rn,Ro,Pn,Po),Vc=((t,r,e,n,i)=>()=>{const s=new WeakMap;let l=null,c=null,a=null;const d=function(){var u=te(function*(h,p){let g=e(h);const f=Oe(g,p);return f||(g=r(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,detune:g.detune.value,frequency:g.frequency.value,periodicWave:null===l?void 0:l,type:g.type}),null!==c&&g.start(c),null!==a&&g.stop(a)),s.set(p,g),f?(yield t(p,h.detune,g.detune),yield t(p,h.frequency,g.frequency)):(yield n(p,h.detune,g.detune),yield n(p,h.frequency,g.frequency)),yield i(h,p,g),g});return function(p,g){return u.apply(this,arguments)}}();return{set periodicWave(u){l=u},set start(u){c=u},set stop(u){a=u},render(u,h){const p=s.get(h);return void 0!==p?Promise.resolve(p):d(u,h)}}})(Je,jo,he,$e,Ee),Zc=((t,r,e,n,i,s,l)=>class extends t{constructor(a,d){const u=i(a),h={...ll,...d},p=e(u,h),g=s(u),f=g?n():null,m=a.sampleRate/2;super(a,!1,p,f),this._detune=r(this,g,p.detune,153600,-153600),this._frequency=r(this,g,p.frequency,m,-m),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=f,null!==this._oscillatorNodeRenderer&&void 0!==h.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const d="function"==typeof a?l(this,a):null;this._nativeOscillatorNode.onended=d;const u=this._nativeOscillatorNode.onended;this._onended=null!==u&&u===d?a:u}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=a),"closed"!==this.context.state){wt(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),tt(this)&&Bt(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(a=0){this._nativeOscillatorNode.stop(a),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=a)}})(ve,Qe,jo,Vc,ue,ae,Mt),Qo=(t=>(r,e)=>{const n=t(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=r.createBuffer(1,2,44100);return n.buffer=i,n.loop=!0,n.connect(e),n.start(),()=>{n.stop(),n.disconnect(e)}})(Nt),Uc=((t,r,e,n,i)=>(s,{curve:l,oversample:c,...a})=>{const d=s.createWaveShaper(),u=s.createWaveShaper();Ce(d,a),Ce(u,a);const h=e(s,{...a,gain:1}),p=e(s,{...a,gain:-1}),g=e(s,{...a,gain:1}),f=e(s,{...a,gain:-1});let m=null,v=!1,_=null;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(b){h.channelCount=b,p.channelCount=b,d.channelCount=b,g.channelCount=b,u.channelCount=b,f.channelCount=b},get channelCountMode(){return d.channelCountMode},set channelCountMode(b){h.channelCountMode=b,p.channelCountMode=b,d.channelCountMode=b,g.channelCountMode=b,u.channelCountMode=b,f.channelCountMode=b},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(b){h.channelInterpretation=b,p.channelInterpretation=b,d.channelInterpretation=b,g.channelInterpretation=b,u.channelInterpretation=b,f.channelInterpretation=b},get context(){return d.context},get curve(){return _},set curve(b){if(null!==b&&b.length<2)throw r();if(null===b)d.curve=b,u.curve=b;else{const S=b.length,C=new Float32Array(S+2-S%2),w=new Float32Array(S+2-S%2);C[0]=b[0],w[0]=-b[S-1];const k=Math.ceil((S+1)/2),I=(S+1)/2-1;for(let x=1;x<k;x+=1){const T=x/k*I,B=Math.floor(T),Z=Math.ceil(T);C[x]=B===Z?b[B]:(1-(T-B))*b[B]+(1-(Z-T))*b[Z],w[x]=B===Z?-b[S-1-B]:-(1-(T-B))*b[S-1-B]-(1-(Z-T))*b[S-1-Z]}C[k]=S%2==1?b[k-1]:(b[k-2]+b[k-1])/2,d.curve=C,u.curve=w}_=b,v&&(n(_)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(b){d.oversample=b,u.oversample=b},addEventListener:(...b)=>h.addEventListener(b[0],b[1],b[2]),dispatchEvent:(...b)=>h.dispatchEvent(b[0]),removeEventListener:(...b)=>h.removeEventListener(b[0],b[1],b[2])};return null!==l&&(y.curve=l instanceof Float32Array?l:new Float32Array(l)),c!==y.oversample&&(y.oversample=c),i(Tt(y,g),()=>{h.connect(d).connect(g),h.connect(p).connect(u).connect(f).connect(g),v=!0,n(_)&&(m=t(s,h))},()=>{h.disconnect(d),d.disconnect(g),h.disconnect(p),p.disconnect(u),u.disconnect(f),f.disconnect(g),v=!1,null!==m&&(m(),m=null)})})(Qo,ye,Ze,Oo,st),dn=((t,r,e,n,i,s,l)=>(c,a)=>{const d=c.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===c.createGain().gain.automationRate)return e(c,a);Ce(d,a);const u=null===a.curve||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(null!==u&&u.length<2)throw r();pe(d,{curve:u},"curve"),pe(d,a,"oversample");let h=null,p=!1;return l(d,"curve",m=>()=>m.call(d),m=>v=>(m.call(d,v),p&&(n(v)&&null===h?h=t(c,d):!n(v)&&null!==h&&(h(),h=null)),v)),i(d,()=>{p=!0,n(d.curve)&&(h=t(c,d))},()=>{p=!1,null!==h&&(h(),h=null)})})(Qo,ye,Uc,Oo,st,nt,Gt),Wc=((t,r,e,n,i,s,l,c,a,d)=>(u,{coneInnerAngle:h,coneOuterAngle:p,coneOuterGain:g,distanceModel:f,maxDistance:m,orientationX:v,orientationY:_,orientationZ:y,panningModel:M,positionX:N,positionY:b,positionZ:S,refDistance:C,rolloffFactor:w,...k})=>{const I=u.createPanner();if(k.channelCount>2||"max"===k.channelCountMode)throw l();Ce(I,k);const x={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},T=e(u,{...x,channelInterpretation:"speakers",numberOfInputs:6}),B=n(u,{...k,gain:1}),Z=n(u,{...x,gain:1}),U=n(u,{...x,gain:0}),V=n(u,{...x,gain:0}),H=n(u,{...x,gain:0}),j=n(u,{...x,gain:0}),Y=n(u,{...x,gain:0}),ee=i(u,256,6,1),K=s(u,{...x,curve:new Float32Array([1,1]),oversample:"none"});let de=[v,_,y],we=[N,b,S];const Fe=new Float32Array(1);ee.onaudioprocess=({inputBuffer:P})=>{const Se=[a(P,Fe,0),a(P,Fe,1),a(P,Fe,2)];Se.some((kt,Et)=>kt!==de[Et])&&(I.setOrientation(...Se),de=Se);const Ke=[a(P,Fe,3),a(P,Fe,4),a(P,Fe,5)];Ke.some((kt,Et)=>kt!==we[Et])&&(I.setPosition(...Ke),we=Ke)},Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0});const oe={get bufferSize(){},get channelCount(){return I.channelCount},set channelCount(P){if(P>2)throw l();B.channelCount=P,I.channelCount=P},get channelCountMode(){return I.channelCountMode},set channelCountMode(P){if("max"===P)throw l();B.channelCountMode=P,I.channelCountMode=P},get channelInterpretation(){return I.channelInterpretation},set channelInterpretation(P){B.channelInterpretation=P,I.channelInterpretation=P},get coneInnerAngle(){return I.coneInnerAngle},set coneInnerAngle(P){I.coneInnerAngle=P},get coneOuterAngle(){return I.coneOuterAngle},set coneOuterAngle(P){I.coneOuterAngle=P},get coneOuterGain(){return I.coneOuterGain},set coneOuterGain(P){if(P<0||P>1)throw r();I.coneOuterGain=P},get context(){return I.context},get distanceModel(){return I.distanceModel},set distanceModel(P){I.distanceModel=P},get inputs(){return[B]},get maxDistance(){return I.maxDistance},set maxDistance(P){if(P<0)throw new RangeError;I.maxDistance=P},get numberOfInputs(){return I.numberOfInputs},get numberOfOutputs(){return I.numberOfOutputs},get orientationX(){return Z.gain},get orientationY(){return U.gain},get orientationZ(){return V.gain},get panningModel(){return I.panningModel},set panningModel(P){I.panningModel=P},get positionX(){return H.gain},get positionY(){return j.gain},get positionZ(){return Y.gain},get refDistance(){return I.refDistance},set refDistance(P){if(P<0)throw new RangeError;I.refDistance=P},get rolloffFactor(){return I.rolloffFactor},set rolloffFactor(P){if(P<0)throw new RangeError;I.rolloffFactor=P},addEventListener:(...P)=>B.addEventListener(P[0],P[1],P[2]),dispatchEvent:(...P)=>B.dispatchEvent(P[0]),removeEventListener:(...P)=>B.removeEventListener(P[0],P[1],P[2])};return h!==oe.coneInnerAngle&&(oe.coneInnerAngle=h),p!==oe.coneOuterAngle&&(oe.coneOuterAngle=p),g!==oe.coneOuterGain&&(oe.coneOuterGain=g),f!==oe.distanceModel&&(oe.distanceModel=f),m!==oe.maxDistance&&(oe.maxDistance=m),v!==oe.orientationX.value&&(oe.orientationX.value=v),_!==oe.orientationY.value&&(oe.orientationY.value=_),y!==oe.orientationZ.value&&(oe.orientationZ.value=y),M!==oe.panningModel&&(oe.panningModel=M),N!==oe.positionX.value&&(oe.positionX.value=N),b!==oe.positionY.value&&(oe.positionY.value=b),S!==oe.positionZ.value&&(oe.positionZ.value=S),C!==oe.refDistance&&(oe.refDistance=C),w!==oe.rolloffFactor&&(oe.rolloffFactor=w),(1!==de[0]||0!==de[1]||0!==de[2])&&I.setOrientation(...de),(0!==we[0]||0!==we[1]||0!==we[2])&&I.setPosition(...we),d(Tt(oe,I),()=>{B.connect(I),t(B,K,0,0),K.connect(Z).connect(T,0,0),K.connect(U).connect(T,0,1),K.connect(V).connect(T,0,2),K.connect(H).connect(T,0,3),K.connect(j).connect(T,0,4),K.connect(Y).connect(T,0,5),T.connect(ee).connect(u.destination)},()=>{B.disconnect(I),c(B,K,0,0),K.disconnect(Z),Z.disconnect(T),K.disconnect(U),U.disconnect(T),K.disconnect(V),V.disconnect(T),K.disconnect(H),H.disconnect(T),K.disconnect(j),j.disconnect(T),K.disconnect(Y),Y.disconnect(T),T.disconnect(ee),ee.disconnect(u.destination)})})(en,ye,at,Ze,Ht,dn,De,tn,xo,st),zo=(t=>(r,e)=>{const n=r.createPanner();return void 0===n.orientationX?t(r,e):(Ce(n,e),ge(n,e,"orientationX"),ge(n,e,"orientationY"),ge(n,e,"orientationZ"),ge(n,e,"positionX"),ge(n,e,"positionY"),ge(n,e,"positionZ"),pe(n,e,"coneInnerAngle"),pe(n,e,"coneOuterAngle"),pe(n,e,"coneOuterGain"),pe(n,e,"distanceModel"),pe(n,e,"maxDistance"),pe(n,e,"panningModel"),pe(n,e,"refDistance"),pe(n,e,"rolloffFactor"),n)})(Wc),Hc=((t,r,e,n,i,s,l,c,a,d)=>()=>{const u=new WeakMap;let h=null;const p=function(){var g=te(function*(f,m){let v=null,_=s(f);const y={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation},M={...y,coneInnerAngle:_.coneInnerAngle,coneOuterAngle:_.coneOuterAngle,coneOuterGain:_.coneOuterGain,distanceModel:_.distanceModel,maxDistance:_.maxDistance,panningModel:_.panningModel,refDistance:_.refDistance,rolloffFactor:_.rolloffFactor},N=Oe(_,m);if("bufferSize"in _)v=n(m,{...y,gain:1});else if(!N){const b={...M,orientationX:_.orientationX.value,orientationY:_.orientationY.value,orientationZ:_.orientationZ.value,positionX:_.positionX.value,positionY:_.positionY.value,positionZ:_.positionZ.value};_=i(m,b)}if(u.set(m,null===v?_:v),null!==v){if(null===h){if(null===l)throw new Error("Missing the native OfflineAudioContext constructor.");const T=new l(6,f.context.length,m.sampleRate),B=r(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(T.destination),h=te(function*(){const Z=yield Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(function(){var U=te(function*(V,H){const j=e(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===H?1:0});return yield c(T,V,j.offset),j});return function(V,H){return U.apply(this,arguments)}}()));for(let U=0;U<6;U+=1)Z[U].connect(B,0,U),Z[U].start(0);return d(T)})()}const b=yield h,S=n(m,{...y,gain:1});yield a(f,m,S);const C=[];for(let T=0;T<b.numberOfChannels;T+=1)C.push(b.getChannelData(T));let w=[C[0][0],C[1][0],C[2][0]],k=[C[3][0],C[4][0],C[5][0]],I=n(m,{...y,gain:1}),x=i(m,{...M,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:k[0],positionY:k[1],positionZ:k[2]});S.connect(I).connect(x.inputs[0]),x.connect(v);for(let T=128;T<b.length;T+=128){const B=[C[0][T],C[1][T],C[2][T]],Z=[C[3][T],C[4][T],C[5][T]];if(B.some((U,V)=>U!==w[V])||Z.some((U,V)=>U!==k[V])){w=B,k=Z;const U=T/m.sampleRate;I.gain.setValueAtTime(0,U),I=n(m,{...y,gain:0}),x=i(m,{...M,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:k[0],positionY:k[1],positionZ:k[2]}),I.gain.setValueAtTime(1,U),S.connect(I).connect(x.inputs[0]),x.connect(v)}}return v}return N?(yield t(m,f.orientationX,_.orientationX),yield t(m,f.orientationY,_.orientationY),yield t(m,f.orientationZ,_.orientationZ),yield t(m,f.positionX,_.positionX),yield t(m,f.positionY,_.positionY),yield t(m,f.positionZ,_.positionZ)):(yield c(m,f.orientationX,_.orientationX),yield c(m,f.orientationY,_.orientationY),yield c(m,f.orientationZ,_.orientationZ),yield c(m,f.positionX,_.positionX),yield c(m,f.positionY,_.positionY),yield c(m,f.positionZ,_.positionZ)),St(_)?yield a(f,m,_.inputs[0]):yield a(f,m,_),_});return function(m,v){return g.apply(this,arguments)}}();return{render(g,f){const m=u.get(f);return void 0!==m?Promise.resolve(m):p(g,f)}}})(Je,at,It,Ze,zo,he,Ne,$e,Ee,un),Gc=((t,r,e,n,i,s,l)=>class extends t{constructor(a,d){const u=i(a),h={...dl,...d},p=e(u,h),g=s(u);super(a,!1,p,g?n():null),this._nativePannerNode=p,this._orientationX=r(this,g,p.orientationX,Re,Ve),this._orientationY=r(this,g,p.orientationY,Re,Ve),this._orientationZ=r(this,g,p.orientationZ,Re,Ve),this._positionX=r(this,g,p.positionX,Re,Ve),this._positionY=r(this,g,p.positionY,Re,Ve),this._positionZ=r(this,g,p.positionZ,Re,Ve),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}})(ve,Qe,zo,Hc,ue,ae,pt),Yc=(t=>(r,{disableNormalization:e,imag:n,real:i})=>{const s=n instanceof Float32Array?n:new Float32Array(n),l=i instanceof Float32Array?i:new Float32Array(i),c=r.createPeriodicWave(l,s,{disableNormalization:e});if(Array.from(n).length<2)throw t();return c})(Xe),qc=((t,r,e,n)=>class _r{constructor(s,l){const c=r(s),a=(t=>{const{imag:r,real:e}=t;return void 0===r?void 0===e?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(e,()=>0),real:e}:void 0===e?{...t,imag:r,real:Array.from(r,()=>0)}:{...t,imag:r,real:e}})({...fl,...l}),d=t(c,a);return e.add(d),d}static[Symbol.hasInstance](s){return null!==s&&"object"==typeof s&&Object.getPrototypeOf(s)===_r.prototype||e.has(s)}})(Yc,ue,new WeakSet),jc=((t,r,e,n,i,s)=>{const c=new Float32Array([1,1]),a=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u={...d,oversample:"none"},g=(f,m,v,_,y)=>{if(1===m)return((f,m,v,_)=>{const y=new Float32Array(16385),M=new Float32Array(16385);for(let k=0;k<16385;k+=1){const I=k/16384*a;y[k]=Math.cos(I),M[k]=Math.sin(I)}const N=e(f,{...d,gain:0}),b=n(f,{...u,curve:y}),S=n(f,{...u,curve:c}),C=e(f,{...d,gain:0}),w=n(f,{...u,curve:M});return{connectGraph(){m.connect(N),m.connect(void 0===S.inputs?S:S.inputs[0]),m.connect(C),S.connect(v),v.connect(void 0===b.inputs?b:b.inputs[0]),v.connect(void 0===w.inputs?w:w.inputs[0]),b.connect(N.gain),w.connect(C.gain),N.connect(_,0,0),C.connect(_,0,1)},disconnectGraph(){m.disconnect(N),m.disconnect(void 0===S.inputs?S:S.inputs[0]),m.disconnect(C),S.disconnect(v),v.disconnect(void 0===b.inputs?b:b.inputs[0]),v.disconnect(void 0===w.inputs?w:w.inputs[0]),b.disconnect(N.gain),w.disconnect(C.gain),N.disconnect(_,0,0),C.disconnect(_,0,1)}}})(f,v,_,y);if(2===m)return((f,m,v,_)=>{const y=new Float32Array(16385),M=new Float32Array(16385),N=new Float32Array(16385),b=new Float32Array(16385),S=Math.floor(8192.5);for(let H=0;H<16385;H+=1)if(H>S){const j=(H-S)/(16384-S)*a;y[H]=Math.cos(j),M[H]=Math.sin(j),N[H]=0,b[H]=1}else{const j=H/(16384-S)*a;y[H]=1,M[H]=0,N[H]=Math.cos(j),b[H]=Math.sin(j)}const C=r(f,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=e(f,{...d,gain:0}),k=n(f,{...u,curve:y}),I=e(f,{...d,gain:0}),x=n(f,{...u,curve:M}),T=n(f,{...u,curve:c}),B=e(f,{...d,gain:0}),Z=n(f,{...u,curve:N}),U=e(f,{...d,gain:0}),V=n(f,{...u,curve:b});return{connectGraph(){m.connect(C),m.connect(void 0===T.inputs?T:T.inputs[0]),C.connect(w,0),C.connect(I,0),C.connect(B,1),C.connect(U,1),T.connect(v),v.connect(void 0===k.inputs?k:k.inputs[0]),v.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(void 0===Z.inputs?Z:Z.inputs[0]),v.connect(void 0===V.inputs?V:V.inputs[0]),k.connect(w.gain),x.connect(I.gain),Z.connect(B.gain),V.connect(U.gain),w.connect(_,0,0),B.connect(_,0,0),I.connect(_,0,1),U.connect(_,0,1)},disconnectGraph(){m.disconnect(C),m.disconnect(void 0===T.inputs?T:T.inputs[0]),C.disconnect(w,0),C.disconnect(I,0),C.disconnect(B,1),C.disconnect(U,1),T.disconnect(v),v.disconnect(void 0===k.inputs?k:k.inputs[0]),v.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(void 0===Z.inputs?Z:Z.inputs[0]),v.disconnect(void 0===V.inputs?V:V.inputs[0]),k.disconnect(w.gain),x.disconnect(I.gain),Z.disconnect(B.gain),V.disconnect(U.gain),w.disconnect(_,0,0),B.disconnect(_,0,0),I.disconnect(_,0,1),U.disconnect(_,0,1)}}})(f,v,_,y);throw i()};return(f,{channelCount:m,channelCountMode:v,pan:_,...y})=>{if("max"===v)throw i();const M=t(f,{...y,channelCount:1,channelCountMode:v,numberOfInputs:2}),N=e(f,{...y,channelCount:m,channelCountMode:v,gain:1}),b=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_});let{connectGraph:S,disconnectGraph:C}=g(f,m,N,b,M);Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"maxValue",{get:()=>1}),Object.defineProperty(b.gain,"minValue",{get:()=>-1});const w={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(T){N.channelCount!==T&&(k&&C(),({connectGraph:S,disconnectGraph:C}=g(f,T,N,b,M)),k&&S()),N.channelCount=T},get channelCountMode(){return N.channelCountMode},set channelCountMode(T){if("clamped-max"===T||"max"===T)throw i();N.channelCountMode=T},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(T){N.channelInterpretation=T},get context(){return N.context},get inputs(){return[N]},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get pan(){return b.gain},addEventListener:(...T)=>N.addEventListener(T[0],T[1],T[2]),dispatchEvent:(...T)=>N.dispatchEvent(T[0]),removeEventListener:(...T)=>N.removeEventListener(T[0],T[1],T[2])};let k=!1;return s(Tt(w,M),()=>{S(),k=!0},()=>{C(),k=!1})}})(at,Wt,Ze,dn,De,st),Xo=((t,r)=>(e,n)=>{const i=n.channelCountMode;if("clamped-max"===i)throw r();if(void 0===e.createStereoPanner)return t(e,n);const s=e.createStereoPanner();return Ce(s,n),ge(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:l=>{if(l!==i)throw r()}}),s})(jc,De),Qc=((t,r,e,n,i)=>()=>{const s=new WeakMap,l=function(){var c=te(function*(a,d){let u=e(a);const h=Oe(u,d);return h||(u=r(d,{channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value})),s.set(d,u),h?yield t(d,a.pan,u.pan):yield n(d,a.pan,u.pan),St(u)?yield i(a,d,u.inputs[0]):yield i(a,d,u),u});return function(d,u){return c.apply(this,arguments)}}();return{render(c,a){const d=s.get(a);return void 0!==d?Promise.resolve(d):l(c,a)}}})(Je,Xo,he,$e,Ee),zc=((t,r,e,n,i,s)=>class extends t{constructor(c,a){const d=i(c),u={...Sl,...a},h=e(d,u),p=s(d);super(c,!1,h,p?n():null),this._pan=r(this,p,h.pan)}get pan(){return this._pan}})(ve,Qe,Xo,Qc,ue,ae),Xc=((t,r,e)=>()=>{const n=new WeakMap,i=function(){var s=te(function*(l,c){let a=r(l);return Oe(a,c)||(a=t(c,{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample})),n.set(c,a),St(a)?yield e(l,c,a.inputs[0]):yield e(l,c,a),a});return function(c,a){return s.apply(this,arguments)}}();return{render(s,l){const c=n.get(l);return void 0!==c?Promise.resolve(c):i(s,l)}}})(dn,he,Ee),Jc=((t,r,e,n,i,s,l)=>class extends t{constructor(a,d){const u=i(a),h={...Wl,...d},p=e(u,h);super(a,!0,p,s(u)?n():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(null===a)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}})(ve,ye,dn,Xc,ue,ae,pt),Jo=(t=>null!==t&&t.isSecureContext)(je),Hn=(t=>(r,e,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(r*e)},currentTime:{configurable:!0,get:()=>r}});try{return n()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(je),$o=new WeakMap,$c=((t,r)=>e=>{let n=t.get(e);if(void 0!==n)return n;if(null===r)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new r(1,1,44100),t.set(e,n),n})($o,Ne),Kc=Jo?((t,r,e,n,i,s,l,c,a,d,u,h,p)=>{let g=0;return(f,m,v={credentials:"omit"})=>{const _=u.get(f);if(void 0!==_&&_.has(m))return Promise.resolve();const y=d.get(f);if(void 0!==y){const b=y.get(m);if(void 0!==b)return b}const M=s(f),N=void 0===M.audioWorklet?i(m).then(([b,S])=>{const[C,w]=lo(b,S);return e(`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}\n})})(window,'_AWGS')`)}).then(()=>{const b=p._AWGS.pop();if(void 0===b)throw new SyntaxError;n(M.currentTime,M.sampleRate,()=>b(class{},void 0,(S,C)=>{if(""===S.trim())throw r();const w=Tn.get(M);if(void 0!==w){if(w.has(S))throw r();uo(C),co(C.parameterDescriptors),w.set(S,C)}else uo(C),co(C.parameterDescriptors),Tn.set(M,new Map([[S,C]]))},M.sampleRate,void 0,void 0))}):Promise.all([i(m),Promise.resolve(t(h,h))]).then(([[b,S],C])=>{const w=g+1;g=w;const[k,I]=lo(b,S),U=new Blob([`${k};((AudioWorkletProcessor,registerProcessor)=>{${I}\n})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(U);return M.audioWorklet.addModule(V,v).then(()=>{if(c(M))return M;const H=l(M);return H.audioWorklet.addModule(V,v).then(()=>H)}).then(H=>{if(null===a)throw new SyntaxError;try{new a(H,`__sac${w}`)}catch(j){throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return void 0===y?d.set(f,new Map([[m,N]])):y.set(m,N),N.then(()=>{const b=u.get(f);void 0===b?u.set(f,new Set([m])):b.add(m)}).finally(()=>{const b=d.get(f);void 0!==b&&b.delete(m)}),N}})(Ue,De,(t=>r=>new Promise((e,n)=>{if(null===t)return void n(new SyntaxError);const i=t.document.head;if(null===i)n(new SyntaxError);else{const s=t.document.createElement("script"),l=new Blob([r],{type:"application/javascript"}),c=URL.createObjectURL(l),a=t.onerror,d=()=>{t.onerror=a,URL.revokeObjectURL(c)};t.onerror=(u,h,p,g,f)=>h===c||h===t.location.href&&1===p&&1===g?(d(),n(f),!1):null!==a?a(u,h,p,g,f):void 0,s.onerror=()=>{d(),n(new SyntaxError)},s.onload=()=>{d(),e()},s.src=c,s.type="module",i.appendChild(s)}}))(je),Hn,function(){var r=te(function*(e){try{const n=yield fetch(e);if(n.ok)return[yield n.text(),n.url]}catch(n){}throw new DOMException("","AbortError")});return function(e){return r.apply(this,arguments)}}(),ue,$c,ae,At,new WeakMap,new WeakMap,((t,r)=>te(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new r(1,128,44100),i=URL.createObjectURL(e);let s=!1,l=!1;try{yield n.audioWorklet.addModule(i);const c=new t(n,"a",{numberOfOutputs:0}),a=n.createOscillator();c.port.onmessage=()=>s=!0,c.onprocessorerror=()=>l=!0,a.connect(c),a.start(0),yield n.startRendering()}catch(c){}finally{URL.revokeObjectURL(i)}return s&&!l}))(At,Ne),je):void 0,eu=((t,r)=>e=>t(e)||r(e))(Ln,ae),tu=((t,r,e,n,i,s,l,c,a,d,u)=>(h,p)=>{const g=l(h)?h:s(h);if(i.has(p)){const f=new DOMException("","DataCloneError");return Promise.reject(f)}try{i.add(p)}catch(f){}return r(a,()=>a(g))?g.decodeAudioData(p).then(f=>(So(p).catch(()=>{}),r(c,()=>c(f))||u(f),t.add(f),f)):new Promise((f,m)=>{const v=function(){var y=te(function*(){try{yield So(p)}catch(M){}});return function(){return y.apply(this,arguments)}}(),_=y=>{m(y),v()};try{g.decodeAudioData(p,y=>{"function"!=typeof y.copyFromChannel&&(d(y),Nn(y)),t.add(y),v().then(()=>f(y))},y=>{_(null===y?new DOMException("","EncodingError"):y)})}catch(y){_(y)}})})(Vn,Ue,0,0,new WeakSet,ue,eu,Jt,ht,Zn,Un),Ko=((t,r,e,n,i,s,l,c,a,d,u,h,p,g,f,m,v,_,y,M)=>class extends f{constructor(b,S){super(b,S),this._nativeContext=b,this._audioWorklet=void 0===t?void 0:{addModule:(C,w)=>t(this,C,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new i(this)}createBuffer(b,S,C){return new e({length:S,numberOfChannels:b,sampleRate:C})}createBufferSource(){return new n(this)}createChannelMerger(b=6){return new s(this,{numberOfInputs:b})}createChannelSplitter(b=6){return new l(this,{numberOfOutputs:b})}createConstantSource(){return new c(this)}createConvolver(){return new a(this)}createDelay(b=1){return new u(this,{maxDelayTime:b})}createDynamicsCompressor(){return new h(this)}createGain(){return new p(this)}createIIRFilter(b,S){return new g(this,{feedback:S,feedforward:b})}createOscillator(){return new m(this)}createPanner(){return new v(this)}createPeriodicWave(b,S,C={disableNormalization:!1}){return new _(this,{...C,imag:S,real:b})}createStereoPanner(){return new y(this)}createWaveShaper(){return new M(this)}decodeAudioData(b,S,C){return d(this._nativeContext,b).then(w=>("function"==typeof S&&S(w),w),w=>{throw"function"==typeof C&&C(w),w})}})(Kc,dc,hc,fc,_c,yc,wc,Mc,Nc,tu,kc,xc,Dc,Lc,Wn,Zc,Gc,qc,zc,Jc),nu=((t,r,e,n)=>class extends t{constructor(s,l){const c=e(s),a=((t,r)=>t.createMediaElementSource(r.mediaElement))(c,l);if(n(c))throw TypeError();super(s,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(ve,0,ue,ae),ou=((t,r,e,n)=>class extends t{constructor(s,l){const c=e(s);if(n(c))throw new TypeError;const d=((t,r)=>{const e=t.createMediaStreamDestination();return Ce(e,r),1===e.numberOfOutputs&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e})(c,{...fa,...l});super(s,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(ve,0,ue,ae),ru=((t,r,e,n)=>class extends t{constructor(s,l){const c=e(s),a=((t,{mediaStream:r})=>{const e=r.getAudioTracks();e.sort((s,l)=>s.id<l.id?-1:s.id>l.id?1:0);const n=e.slice(0,1),i=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(i,"mediaStream",{value:r}),i})(c,l);if(n(c))throw new TypeError;super(s,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(ve,0,ue,ae),iu=((t,r)=>(e,{mediaStreamTrack:n})=>{if("function"==typeof e.createMediaStreamTrackSource)return e.createMediaStreamTrackSource(n);const i=new MediaStream([n]),s=e.createMediaStreamSource(i);if("audio"!==n.kind)throw t();if(r(e))throw new TypeError;return s})(ye,ae),su=((t,r,e)=>class extends t{constructor(i,s){const l=e(i);super(i,!0,r(l,s),null)}})(ve,iu,ue),er=((t,r,e,n,i,s,l,c,a)=>class extends t{constructor(u={}){if(null===a)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new a(u)}catch(f){throw 12===f.code&&"sampleRate is not in range"===f.message?e():f}if(null===h)throw n();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==u.sampleRate&&h.sampleRate!==u.sampleRate)throw e();super(h,2);const{latencyHint:p}=u,{sampleRate:g}=h;if(this._baseLatency="number"==typeof h.baseLatency?h.baseLatency:"balanced"===p?512/g:"interactive"===p||void 0===p?256/g:"playback"===p?1024/g:128*Math.max(2,Math.min(128,Math.round(p*g/128)))/g,this._nativeAudioContext=h,"webkitAudioContext"===a.name?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===h.state){this._state="suspended";const f=()=>{"suspended"===this._state&&(this._state=null),h.removeEventListener("statechange",f)};h.addEventListener("statechange",f)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then(()=>{throw r()}):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then(()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),(t=>{In(t.destination,[])})(this)}))}createMediaElementSource(u){return new i(this,{mediaElement:u})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(u){return new l(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new c(this,{mediaStreamTrack:u})}resume(){return"suspended"===this._state?new Promise((u,h)=>{const p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),"running"===this._nativeAudioContext.state?u():this.resume().then(u,h)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(u=>{throw void 0===u||15===u.code?r():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw void 0===u?r():u})}})(Ko,ye,De,Eo,nu,ou,ru,su,nt),Gn=(t=>r=>{const e=t.get(r);if(void 0===e)throw new Error("The context has no set of AudioWorkletNodes.");return e})(qo),tr=((t=>{})(Gn),(t=>(r,e,n=0,i=0)=>{const s=r[n];if(void 0===s)throw t();return on(e)?s.connect(e,0,i):s.connect(e,0)})(Xe)),lu=(t=>(r,e)=>{t(r).delete(e)})(Gn),nr=(t=>(r,e,n,i=0)=>void 0===e?r.forEach(s=>s.disconnect()):"number"==typeof e?an(t,r,e).disconnect():on(e)?void 0===n?r.forEach(s=>s.disconnect(e)):void 0===i?an(t,r,n).disconnect(e,0):an(t,r,n).disconnect(e,0,i):void 0===n?r.forEach(s=>s.disconnect(e)):an(t,r,n).disconnect(e,0))(Xe),or=new WeakMap,cu=((t,r)=>e=>r(t,e))(or,qe),uu=((t,r,e,n,i,s,l,c,a,d,u,h,p)=>(g,f,m,v)=>{if(0===v.numberOfInputs&&0===v.numberOfOutputs)throw a();const _=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(_.some(L=>L<1))throw a();if(_.length!==v.numberOfOutputs)throw r();if("explicit"!==v.channelCountMode)throw a();const y=v.channelCount*v.numberOfInputs,M=_.reduce((L,Q)=>L+Q,0),N=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(y+N>6||M>6)throw a();const b=new MessageChannel,S=[],C=[];for(let L=0;L<v.numberOfInputs;L+=1)S.push(l(g,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),C.push(i(g,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const w=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:L,maxValue:Q,minValue:Te,name:me}of m.parameterDescriptors){const re=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==v.parameterData[me]?v.parameterData[me]:void 0===L?0:L});Object.defineProperties(re.offset,{defaultValue:{get:()=>void 0===L?0:L},maxValue:{get:()=>void 0===Q?Re:Q},minValue:{get:()=>void 0===Te?Ve:Te}}),w.push(re)}const k=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+N)}),I=Ao(f,g.sampleRate),x=c(g,I,y+N,Math.max(1,M)),T=i(g,{channelCount:Math.max(1,M),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,M)}),B=[];for(let L=0;L<v.numberOfOutputs;L+=1)B.push(n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[L]}));for(let L=0;L<v.numberOfInputs;L+=1){S[L].connect(C[L]);for(let Q=0;Q<v.channelCount;Q+=1)C[L].connect(k,Q,L*v.channelCount+Q)}const Z=new Co(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(({name:L},Q)=>{const Te=w[Q];return Te.connect(k,0,y+Q),Te.start(0),[L,Te.offset]}));k.connect(x);let U=v.channelInterpretation,V=null;const H=0===v.numberOfOutputs?[x]:B,j={get bufferSize(){return I},get channelCount(){return v.channelCount},set channelCount(L){throw e()},get channelCountMode(){return v.channelCountMode},set channelCountMode(L){throw e()},get channelInterpretation(){return U},set channelInterpretation(L){for(const Q of S)Q.channelInterpretation=L;U=L},get context(){return x.context},get inputs(){return S},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(L){"function"==typeof V&&j.removeEventListener("processorerror",V),V="function"==typeof L?L:null,"function"==typeof V&&j.addEventListener("processorerror",V)},get parameters(){return Z},get port(){return b.port2},addEventListener:(...L)=>x.addEventListener(L[0],L[1],L[2]),connect:t.bind(null,H),disconnect:d.bind(null,H),dispatchEvent:(...L)=>x.dispatchEvent(L[0]),removeEventListener:(...L)=>x.removeEventListener(L[0],L[1],L[2])},Y=new Map;var L;b.port1.addEventListener=(L=b.port1.addEventListener,(...Q)=>{if("message"===Q[0]){const Te="function"==typeof Q[1]?Q[1]:"object"==typeof Q[1]&&null!==Q[1]&&"function"==typeof Q[1].handleEvent?Q[1].handleEvent:null;if(null!==Te){const me=Y.get(Q[1]);void 0!==me?Q[1]=me:(Q[1]=re=>{u(g.currentTime,g.sampleRate,()=>Te(re))},Y.set(Te,Q[1]))}}return L.call(b.port1,Q[0],Q[1],Q[2])}),b.port1.removeEventListener=(L=>(...Q)=>{if("message"===Q[0]){const Te=Y.get(Q[1]);void 0!==Te&&(Y.delete(Q[1]),Q[1]=Te)}return L.call(b.port1,Q[0],Q[1],Q[2])})(b.port1.removeEventListener);let ee=null;Object.defineProperty(b.port1,"onmessage",{get:()=>ee,set:L=>{"function"==typeof ee&&b.port1.removeEventListener("message",ee),ee="function"==typeof L?L:null,"function"==typeof ee&&(b.port1.addEventListener("message",ee),b.port1.start())}}),m.prototype.port=b.port1;let K=null;((t,r,e,n)=>{let i=Mn.get(t);void 0===i&&(i=new WeakMap,Mn.set(t,i));const s=Ra(e,n);return i.set(r,s),s})(g,j,m,v).then(L=>K=L);const we=sn(v.numberOfInputs,v.channelCount),Fe=sn(v.numberOfOutputs,_),oe=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce((L,{name:Q})=>({...L,[Q]:new Float32Array(128)}),{});let ot=!0;const lt=()=>{v.numberOfOutputs>0&&x.disconnect(T);for(let L=0,Q=0;L<v.numberOfOutputs;L+=1){const Te=B[L];for(let me=0;me<_[L];me+=1)T.disconnect(Te,Q+me,me);Q+=_[L]}},P=new Map;x.onaudioprocess=({inputBuffer:L,outputBuffer:Q})=>{if(null!==K){const Te=h(j);for(let me=0;me<I;me+=128){for(let re=0;re<v.numberOfInputs;re+=1)for(let _e=0;_e<v.channelCount;_e+=1)rn(L,we[re],_e,_e,me);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(({name:re},_e)=>{rn(L,oe,re,y+_e,me)});for(let re=0;re<v.numberOfInputs;re+=1)for(let _e=0;_e<_[re];_e+=1)0===Fe[re][_e].byteLength&&(Fe[re][_e]=new Float32Array(128));try{const re=we.map((He,ct)=>{if(Te[ct].size>0)return P.set(ct,I/128),He;const Yn=P.get(ct);return void 0===Yn?[]:(He.every(Ud=>Ud.every(Wd=>0===Wd))&&(1===Yn?P.delete(ct):P.set(ct,Yn-1)),He)});ot=u(g.currentTime+me/g.sampleRate,g.sampleRate,()=>K.process(re,Fe,oe));for(let He=0,ct=0;He<v.numberOfOutputs;He+=1){for(let Yt=0;Yt<_[He];Yt+=1)wo(Q,Fe[He],Yt,ct+Yt,me);ct+=_[He]}}catch(re){ot=!1,j.dispatchEvent(new ErrorEvent("processorerror",{colno:re.colno,filename:re.filename,lineno:re.lineno,message:re.message}))}if(!ot){for(let re=0;re<v.numberOfInputs;re+=1){S[re].disconnect(C[re]);for(let _e=0;_e<v.channelCount;_e+=1)C[me].disconnect(k,_e,re*v.channelCount+_e)}if(void 0!==m.parameterDescriptors){const re=m.parameterDescriptors.length;for(let _e=0;_e<re;_e+=1){const He=w[_e];He.disconnect(k,0,y+_e),He.stop()}}k.disconnect(x),x.onaudioprocess=null,Se?lt():Et();break}}}};let Se=!1;const Ke=l(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),kt=()=>x.connect(Ke).connect(g.destination),Et=()=>{x.disconnect(Ke),Ke.disconnect()};return kt(),p(j,()=>{if(ot){Et(),v.numberOfOutputs>0&&x.connect(T);for(let L=0,Q=0;L<v.numberOfOutputs;L+=1){const Te=B[L];for(let me=0;me<_[L];me+=1)T.connect(Te,Q+me,me);Q+=_[L]}}Se=!0},()=>{ot&&(kt(),lt()),Se=!1})})(tr,Xe,ye,at,Wt,It,Ze,Ht,De,nr,Hn,cu,st),mu=(((t,r,e,n,i)=>{})(ye,uu,Ze,De,st),((t,r,e,n,i,s,l,c,a,d,u,h,p,g,f,m)=>{})(Je,tr,Nt,at,Wt,It,Ze,lu,nr,Hn,he,At,Ne,$e,Ee,un),(t=>{})($o),(t=>{})(or),((t,r)=>{})(De,Ne),((t,r,e,n,i,s,l,c)=>{})(Vn,Ue,Fn,Gn,un,Jt,Zn,Un),()=>ha(Ue,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch(i){return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const r=new t,e=void 0!==r.close;try{r.close()}catch(n){}return e})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);return new Promise(e=>{let n=!0;const i=l=>{n&&(n=!1,r.startRendering(),e(l instanceof TypeError))};let s;try{s=r.decodeAudioData(null,()=>{},i)}catch(l){i(l)}void 0!==s&&s.catch(i)})})(Ne),(t=>()=>{if(null===t)return!1;let r;try{r=new t({latencyHint:"balanced"})}catch(e){return!1}return r.close(),!0})(nt),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Ne),((t,r)=>te(function*(){if(null===t)return!0;if(null===r)return!1;const e=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new MessageChannel,i=new r(1,128,44100),s=URL.createObjectURL(e);let l=!1;try{yield i.audioWorklet.addModule(s);const c=new t(i,"a",{numberOfOutputs:0}),a=i.createOscillator();yield new Promise(d=>{c.port.onmessage=()=>d(),c.port.postMessage(n.port2,[n.port2])}),c.port.onmessage=()=>l=!0,a.connect(c),a.start(0),yield i.startRendering(),l=yield new Promise(d=>{n.port1.onmessage=({data:u})=>d(1===u),n.port1.postMessage(0)})}catch(c){}finally{n.port1.close(),URL.revokeObjectURL(s)}return l}))(At,Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch(n){return!0}return!1})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100);return void 0===r.createConstantSource||r.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ne),(t=>()=>{if(null===t)return!1;const r=new t(1,1,44100),e=r.createConvolver();e.buffer=r.createBuffer(1,1,r.sampleRate);try{e.buffer=r.createBuffer(1,1,r.sampleRate)}catch(n){return!1}return!0})(Ne),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch(n){return!1}return!0})(Ne),oc,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(je),(t=>()=>{if(null===t)return!1;const r=new t;try{return r.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}finally{r.close()}})(nt),(t=>()=>{if(null===t)return Promise.resolve(!1);const r=new t(1,1,44100);if(void 0===r.createStereoPanner||void 0===r.createConstantSource)return Promise.resolve(!0);const e=r.createConstantSource(),n=r.createStereoPanner();return e.channelCount=1,e.offset.value=1,n.channelCount=1,e.start(),e.connect(n).connect(r.destination),r.startRendering().then(i=>1!==i.getChannelData(0)[0])})(Ne),rc));var t;function gu(t){return new er({latencyHint:t})}class sr extends er{}function _u(){return mu}const ar=new o.OlP("LATENCY_HINT"),bu=new o.OlP("IS_SUPPORTED_PROMISE");let vu=(()=>{class t{static forChild(){return{ngModule:t}}static forRoot(e){return{ngModule:t,providers:[{deps:[ar],provide:sr,useFactory:gu},{provide:ar,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[{provide:bu,useFactory:_u}],imports:[D.ez]}),t})(),yu=(()=>{class t{constructor(e,n,i,s){this.lobbyStore=e,this.lobbyMusicHttpService=n,this.socket=i,this.audioContext=s,this.subscriptions=[]}ngOnInit(){var n,e=this;this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=parseFloat(null!==(n=localStorage.getItem("audioPlayerVolume"))&&void 0!==n?n:"0.5"),this.gainNode.connect(this.audioContext.destination),this.subscriptions=[this.lobbyStore.currentLobbyAudioBuffer.subscribe(function(){var i=te(function*(s){var l,c,a,d;null!==s?e.lobby.status===W.D.AnswerReveal&&e.lobby.playMusicOnAnswerReveal?e.nextAudioBuffer=s:(null===(l=e.source)||void 0===l||l.stop(),e.setSourceNull(),yield e.setSource(s)):e.setSourceNull(),(null===(c=e.lobby)||void 0===c?void 0:c.status)===W.D.PlayingMusic&&(e.gainNode.gain.value=parseFloat(null!==(a=localStorage.getItem("audioPlayerVolume"))&&void 0!==a?a:"0.5"),null===(d=e.source)||void 0===d||d.start())});return function(s){return i.apply(this,arguments)}}()),this.lobbyStore.lobby.subscribe(function(){var i=te(function*(s){var l,c,a;e.lobby=s,s&&(s.status===W.D.AnswerReveal&&(s.playMusicOnAnswerReveal?setTimeout(()=>{e.gainNode.gain.setValueAtTime(e.gainNode.gain.value,e.audioContext.currentTime),e.gainNode.gain.exponentialRampToValueAtTime(.01,e.audioContext.currentTime+5)},5e3):e.setSourceNull()),s.status===W.D.PlayingMusic&&(e.nextAudioBuffer&&(null===(l=e.source)||void 0===l||l.stop(),e.setSourceNull(),yield e.setSource(e.nextAudioBuffer),e.nextAudioBuffer=void 0),e.gainNode.gain.value=parseFloat(null!==(c=localStorage.getItem("audioPlayerVolume"))&&void 0!==c?c:"0.5"),null===(a=e.source)||void 0===a||a.start()),!s.playMusicOnAnswerReveal&&s.status!==W.D.PlayingMusic&&e.setSourceNull(),s.status===W.D.Buffering&&e.setSourceNull())});return function(s){return i.apply(this,arguments)}}()),this.lobbyStore.resumeMusic.subscribe(te(function*(){yield e.audioContext.resume(),e.lobbyStore.setCanPlayMusic("running"===e.audioContext.state)}))]}ngOnDestroy(){this.setSourceNull(),this.audioContext.suspend(),this.subscriptions.forEach(e=>e.unsubscribe())}getDefaultVolumeValue(){var e;return parseFloat(null!==(e=localStorage.getItem("audioPlayerVolume"))&&void 0!==e?e:"0.5")}updateVolume(e){this.gainNode.gain.value=e.value,localStorage.setItem("audioPlayerVolume",e.value.toString())}setSource(e){var n=this;return te(function*(){var i;n.gainNode.gain.value=parseFloat(null!==(i=localStorage.getItem("audioPlayerVolume"))&&void 0!==i?i:"0.5");const s=yield n.audioContext.decodeAudioData(e);n.source=n.audioContext.createBufferSource(),n.source.buffer=s,n.source.connect(n.gainNode),n.lobbyStore.setCanPlayMusic("running"===n.audioContext.state)})()}setSourceNull(){this.source&&(this.source.buffer=null)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(ai),o.Y36(Me.i),o.Y36(sr))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-audio-player"]],decls:1,vars:5,consts:[["aria-label","unit(s)","color","primary",1,"position-absolute",3,"value","vertical","min","max","step","input"]],template:function(e,n){1&e&&(o.TgZ(0,"mat-slider",0),o.NdJ("input",function(s){return n.updateVolume(s)}),o.qZA()),2&e&&o.Q6J("value",n.getDefaultVolumeValue())("vertical",!0)("min",0)("max",1)("step",.001)},dependencies:[Dt],encapsulation:2}),t})();var Cu=E(9646),wu=E(1884),Su=E(3900),lr=E(9743),cr=E(1079);const Tu=["answerInput"],Mu=["trigger"];function Au(t,r){if(1&t&&o._UZ(0,"mat-option",7),2&t){const e=r.$implicit;o.Q6J("value",e.name)("innerHtml","<span>"+e.highlight+"</span>",o.oJD)}}let Nu=(()=>{class t{constructor(e,n,i,s,l){this.lobbyHttpService=e,this.lobbyStore=n,this.gameHttpService=i,this.socket=s,this.cdf=l,this.myControl=new F.NI,this.me=null,this.lobbyStatuses=W.D,this.subscriptions=[]}ngOnInit(){this.gameNames=this.myControl.valueChanges.pipe((0,wu.x)(),(0,Su.w)(e=>e?this.gameHttpService.getNames(e):(0,Cu.of)(null)))}ngAfterViewInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{var n;null!==e&&((null===(n=this.me)||void 0===n?void 0:n.role)===ie.Spectator?this.myControl.disable():[W.D.AnswerReveal,W.D.Buffering].includes(e.status)?(this.myControl.disable(),this.matAutocompleteTrigger.closePanel(),this.cdf.detectChanges()):(this.myControl.enable(),this.myControl.setValue(""),this.answerInput.nativeElement.focus(),this.cdf.detectChanges())),this.lobby=e}),this.lobbyStore.me.subscribe(e=>{null!==e&&(this.me=e,(this.me.role==ie.Spectator||!0===e.correctAnswer)&&this.myControl.disable())})]}submit(){this.socket.emit("answer",this.myControl.value),this.myControl.setValue(null)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ge.Y),o.Y36(fe),o.Y36(lr.q),o.Y36(Me.i),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-answer"]],viewQuery:function(e,n){if(1&e&&(o.Gf(Tu,5),o.Gf(Mu,5)),2&e){let i;o.iGM(i=o.CRH())&&(n.answerInput=i.first),o.iGM(i=o.CRH())&&(n.matAutocompleteTrigger=i.first)}},decls:10,vars:9,consts:[[3,"ngSubmit"],["id","lobby-autocomplete",2,"width","100%"],["type","text","placeholder","Type your answer here...","aria-label","Number","matInput","",3,"formControl","matAutocomplete"],["answerInput","","trigger","matAutocompleteTrigger"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(e,n){if(1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||!n.myControl.value||n.submit()}),o.TgZ(1,"mat-form-field",1),o._UZ(2,"input",2,3),o.TgZ(5,"mat-autocomplete",4,5),o.NdJ("optionSelected",function(){return n.lobby.status===n.lobbyStatuses.AnswerReveal||n.submit()}),o.YNc(7,Au,1,2,"mat-option",6),o.ALo(8,"slice"),o.ALo(9,"async"),o.qZA()()()),2&e){const i=o.MAs(6);o.xp6(2),o.Q6J("formControl",n.myControl)("matAutocomplete",i),o.xp6(5),o.Q6J("ngForOf",o.Dn7(8,3,o.lcZ(9,7,n.gameNames),0,30))}},dependencies:[D.sg,Le.KE,cr.XC,cr.ZL,ce.ey,_t.Nt,F._Y,F.Fj,F.JJ,F.JL,F.F,F.oH,D.Ov,D.OU],encapsulation:2}),t})();function Iu(t,r){if(1&t&&(o.TgZ(0,"div",1),o._uU(1),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.hij(" ",e.countdown,"\n")}}let ku=(()=>{class t{constructor(e){this.lobbyStore=e}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.countdownInterval&&clearInterval(this.countdownInterval),(null==e?void 0:e.status)===W.D.PlayingMusic?(this.countdown=e.guessTime-1,this.startCountdown()):(null==e?void 0:e.status)===W.D.AnswerReveal&&(this.countdown=void 0)}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{null!=e&&e.musicFinishesIn&&(this.countdownInterval&&clearInterval(this.countdownInterval),this.countdown=e.musicFinishesIn-1,this.startCountdown())})]}ngOnDestroy(){clearInterval(this.countdownInterval),this.subscriptions.forEach(e=>e.unsubscribe())}startCountdown(){this.countdownInterval=setInterval(()=>{this.countdown>0?this.countdown--:(this.countdown=void 0,clearInterval(this.countdownInterval))},1e3)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-countdown"]],decls:1,vars:1,consts:[["class","align-self-center countdown",4,"ngIf"],[1,"align-self-center","countdown"]],template:function(e,n){1&e&&o.YNc(0,Iu,2,1,"div",0),2&e&&o.Q6J("ngIf",void 0!==n.countdown)},dependencies:[D.O5],encapsulation:2}),t})();const ur=function(t){return{timing:t}},dr=function(t,r){return{value:t,params:r}};function Eu(t,r){if(1&t&&o._UZ(0,"div",2),2&t){const e=o.oxw();o.Q6J("@countdownProgress",o.WLB(3,dr,e.lobby.status===e.lobbyStatuses.PlayingMusic?"empty":"full",o.VKq(1,ur,e.lobby.guessTime)))}}function xu(t,r){if(1&t&&o._UZ(0,"div",2),2&t){const e=o.oxw();o.Udp("width",e.timeRemaining/e.lobby.guessTime*100+"%"),o.Q6J("@countdownProgress",o.WLB(5,dr,e.lobby.status===e.lobbyStatuses.PlayingMusic?"empty":"full",o.VKq(3,ur,e.timeRemaining)))}}let Ou=(()=>{class t{constructor(e){this.lobbyStore=e,this.lobbyStatuses=W.D}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e,this.timeRemaining=void 0}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{this.timeRemaining=null!=e&&e.musicFinishesIn?e.musicFinishesIn:void 0})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-countdown-progress"]],decls:2,vars:2,consts:[["style","height: 1px",4,"ngIf"],["style","height: 1px",3,"width",4,"ngIf"],[2,"height","1px"]],template:function(e,n){1&e&&(o.YNc(0,Eu,1,6,"div",0),o.YNc(1,xu,1,8,"div",1)),2&e&&(o.Q6J("ngIf",!n.timeRemaining),o.xp6(1),o.Q6J("ngIf",n.timeRemaining))},dependencies:[D.O5],encapsulation:2,data:{animation:[(0,q.X$)("countdownProgress",[(0,q.SB)("full",(0,q.oB)({width:"100%"})),(0,q.SB)("empty",(0,q.oB)({width:"0"})),(0,q.SB)("default",(0,q.oB)({width:"25%"})),(0,q.eR)("* => empty",[(0,q.jt)("{{timing}}s")],{params:{timing:"20"}}),(0,q.eR)("* => full",[(0,q.jt)("10s")])])]}}),t})();var Du=E(2368);function Ru(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"button",3),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(2);return o.KtG(i.enableHintMode())}),o._uU(1,"Hint Mode"),o.qZA()}}function Pu(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"mat-slide-toggle",4),o.NdJ("change",function(i){o.CHM(e);const s=o.oxw(2);return o.KtG(s.toggleKeepHintMode(i))}),o._uU(1,"Keep hint mode "),o.qZA()}if(2&t){const e=o.oxw(2);o.Q6J("checked",e.me.keepHintMode)}}function Fu(t,r){if(1&t&&(o.ynx(0),o.YNc(1,Ru,2,0,"button",1),o.YNc(2,Pu,2,1,"mat-slide-toggle",2),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",!e.me.hintMode),o.xp6(1),o.Q6J("ngIf",e.me.hintMode)}}let Lu=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.lobbySocket=n,this.subscriptions=[],this.lobbyHintMode=W.BF}ngOnInit(){this.subscriptions=[this.lobbyStore.me.subscribe(e=>{!e||(this.me=e)}),this.lobbyStore.lobby.subscribe(e=>{!e||(this.lobby=e)})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}enableHintMode(){this.lobbySocket.emit("enableHintMode")}toggleKeepHintMode(e){this.lobbySocket.emit("toggleKeepHintMode",e.checked)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(Me.i))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-hint-mode-toggle"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["color","primary",3,"checked","change",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"click"],["color","primary",3,"checked","change"]],template:function(e,n){1&e&&o.YNc(0,Fu,3,2,"ng-container",0),2&e&&o.Q6J("ngIf",n.lobby.hintMode===n.lobbyHintMode.Allowed)},dependencies:[D.O5,Du.Rr],encapsulation:2}),t})();const Bu=["xd"];function Vu(t,r){if(1&t&&(o.ynx(0),o._UZ(1,"input",2),o.TgZ(2,"label",3)(3,"span",4,5),o._uU(5),o.qZA()(),o.BQk()),2&t){const e=r.$implicit,n=r.index,i=o.oxw();o.xp6(1),o.Q6J("id",n)("formControl",i.formControl)("value",e),o.xp6(1),o.Q6J("for",n),o.xp6(3),o.Oqu(e)}}let Zu=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.lobbySocket=n,this.subscriptions=[],this.games=[],this.formControl=new F.NI("")}ngOnInit(){this.subscriptions=[this.lobbyStore.hintModeGames.subscribe(e=>{this.games=e}),this.formControl.valueChanges.subscribe(e=>{this.lobbySocket.emit("answer",e)})]}ngAfterViewInit(){setTimeout(()=>{this.spans.forEach(e=>{let i=2;console.log(e.nativeElement.offsetHeight),e.nativeElement.offsetHeight>55&&(i=110/e.nativeElement.offsetHeight),e.nativeElement.style.fontSize=`${i}vh`})},1)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(Me.i))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-hint-mode"]],viewQuery:function(e,n){if(1&e&&o.Gf(Bu,5),2&e){let i;o.iGM(i=o.CRH())&&(n.spans=i)}},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-between",2,"height","260px"],[4,"ngFor","ngForOf"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"id","formControl","value"],[1,"btn","btn-outline-primary","col-12","col-md-5","d-flex","justify-content-center",2,"height","60px",3,"for"],[1,"align-self-center","hint-mode-answer"],["xd",""]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.YNc(1,Vu,6,5,"ng-container",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",n.games))},dependencies:[D.sg,F.Fj,F._,F.JJ,F.oH],encapsulation:2}),t})();function Uu(t,r){1&t&&o._UZ(0,"div")}function Wu(t,r){1&t&&o._UZ(0,"app-hint-mode-toggle")}function Hu(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"div",8)(1,"p"),o._uU(2,"Press the button to start playing"),o._UZ(3,"br"),o._uU(4,"(Music will play on the next loop)"),o.qZA(),o.TgZ(5,"button",9),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.play())}),o._uU(6,"Play"),o.qZA()()}}function Gu(t,r){1&t&&(o.TgZ(0,"div",10),o._UZ(1,"span",11),o.qZA())}const hr=function(t){return{"d-none":t}};function Yu(t,r){if(1&t&&(o.TgZ(0,"div",12),o._uU(1," Buffering... "),o.qZA()),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(1,hr,!e.canPlayMusic))}}function qu(t,r){if(1&t&&o._UZ(0,"app-lobby-countdown",13),2&t){const e=o.oxw();o.Q6J("ngClass",o.VKq(1,hr,!e.canPlayMusic))}}function ju(t,r){1&t&&o._UZ(0,"app-hint-mode")}function Qu(t,r){1&t&&o._UZ(0,"app-lobby-answer",14)}function zu(t,r){1&t&&o._UZ(0,"div")}const Xu=function(t){return{"hint-mode":t}};let Ju=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[],this.canPlayMusic=!1,this.lobbyStatuses=W.D,this.lobbyUserStatus=xe,this.lobbyHintModes=W.BF}ngOnInit(){this.subscriptions=[this.lobbyStore.canPlayMusic.subscribe(e=>{this.canPlayMusic=e}),this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{this.me=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}play(){this.lobbyStore.setResumeMusic()}showAnswerComponent(){var e,n;return!(null!==(e=this.me)&&void 0!==e&&e.hintMode)&&(null===(n=this.lobby)||void 0===n?void 0:n.status)===W.D.PlayingMusic}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-center-container"]],decls:13,vars:12,consts:[[1,"lobby-center-container","bg-dark","px-4","pt-4","position-relative",3,"ngClass"],[1,"d-flex","text-center","align-items-center","h-100","justify-content-between","position-relative","flex-column"],[4,"ngIf"],["class","align-self-center position-absolute",4,"ngIf"],["class","position-absolute","style","top: 0; left: 0",4,"ngIf"],["class","align-self-center countdown",3,"ngClass",4,"ngIf"],["class","text-center",3,"ngClass",4,"ngIf"],["class","w-100",4,"ngIf"],[1,"align-self-center","position-absolute"],[1,"btn","btn-primary",3,"click"],[1,"position-absolute",2,"top","0","left","0"],["type","button","role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"align-self-center","countdown",3,"ngClass"],[1,"text-center",3,"ngClass"],[1,"w-100"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,Uu,1,0,"div",2),o.YNc(3,Wu,1,0,"app-hint-mode-toggle",2),o.YNc(4,Hu,7,0,"div",3),o.YNc(5,Gu,2,0,"div",4),o.YNc(6,Yu,2,3,"div",5),o.YNc(7,qu,1,3,"app-lobby-countdown",6),o.YNc(8,ju,1,0,"app-hint-mode",2),o.YNc(9,Qu,1,0,"app-lobby-answer",7),o.YNc(10,zu,1,0,"div",2),o.qZA(),o._UZ(11,"app-lobby-audio-player")(12,"app-lobby-countdown-progress"),o.qZA()),2&e&&(o.Q6J("ngClass",o.VKq(10,Xu,null==n.me?null:n.me.hintMode)),o.xp6(2),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Buffering||(null==n.lobby?null:n.lobby.hintMode)!==n.lobbyHintModes.Allowed),o.xp6(1),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.hintMode)===n.lobbyHintModes.Allowed&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),o.xp6(1),o.Q6J("ngIf",!n.canPlayMusic),o.xp6(1),o.Q6J("ngIf",(null==n.me?null:n.me.status)===n.lobbyUserStatus.Buffering),o.xp6(1),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Buffering),o.xp6(1),o.Q6J("ngIf",n.canPlayMusic&&(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic),o.xp6(1),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.PlayingMusic&&n.me.hintMode),o.xp6(1),o.Q6J("ngIf",n.showAnswerComponent()),o.xp6(1),o.Q6J("ngIf",(null==n.lobby?null:n.lobby.status)===n.lobbyStatuses.Buffering))},dependencies:[D.mk,D.O5,yu,Nu,ku,Ou,Lu,Zu],encapsulation:2}),t})();function $u(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"button",6),o.NdJ("click",function(){o.CHM(e);const i=o.oxw();return o.KtG(i.restart())}),o._UZ(1,"i",7),o.qZA()}}let Ku=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.socket=n,this.subscriptions=[],this.lobbyUserRoles=ie}ngOnInit(){this.subscriptions=[this.lobbyStore.lobby.subscribe(e=>{this.lobby=e}),this.lobbyStore.me.subscribe(e=>{this.me=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}restart(){this.socket.emit("restart")}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(Me.i))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-information"]],decls:10,vars:4,consts:[[1,"bg-dark","p-4"],[1,"row"],[1,"col-4"],[1,"fa-solid","fa-hourglass-empty","me-1"],[1,"fa-solid","fa-music","me-1"],["class","btn btn-sm btn-primary","mdbTooltip","Restart lobby",3,"click",4,"ngIf"],["mdbTooltip","Restart lobby",1,"btn","btn-sm","btn-primary",3,"click"],[1,"fa-solid","fa-arrow-rotate-back"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"i",3),o._uU(4),o.qZA(),o.TgZ(5,"div",2),o._UZ(6,"i",4),o._uU(7),o.qZA(),o.TgZ(8,"div",2),o.YNc(9,$u,2,0,"button",5),o.qZA()()()),2&e&&(o.xp6(4),o.hij("",null==n.lobby?null:n.lobby.guessTime,"s"),o.xp6(3),o.AsE("",null==n.lobby?null:n.lobby.currentLobbyMusicPosition,"/",null==n.lobby?null:n.lobby.lobbyMusics," "),o.xp6(2),o.Q6J("ngIf",(null==n.me?null:n.me.role)===n.lobbyUserRoles.Host))},dependencies:[D.O5,$n],encapsulation:2}),t})();var ed=E(7423),pr=E(5245);function td(t,r){if(1&t&&(o.ynx(0),o._uU(1),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.Oqu(e.answer.gameToMusic.game.platforms[0].name)}}function nd(t,r){1&t&&(o.ynx(0),o._uU(1,", "),o.BQk())}function od(t,r){if(1&t&&(o.ynx(0),o._uU(1),o.YNc(2,nd,2,0,"ng-container",13),o.BQk()),2&t){const e=r.$implicit,n=r.last,i=r.last;o.xp6(1),o.hij(" ",e.abbreviation,""),o.xp6(1),o.Q6J("ngIf",!n&&!i)}}function rd(t,r){if(1&t&&(o.ynx(0),o.YNc(1,od,3,2,"ng-container",18),o.BQk()),2&t){const e=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",e.answer.gameToMusic.game.platforms)}}function id(t,r){if(1&t&&(o.TgZ(0,"small",17),o.YNc(1,td,2,1,"ng-container",13),o.YNc(2,rd,2,1,"ng-container",13),o.qZA()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",1===(null==e.answer.gameToMusic.game.platforms?null:e.answer.gameToMusic.game.platforms.length)),o.xp6(1),o.Q6J("ngIf",(null==e.answer.gameToMusic.game.platforms?null:e.answer.gameToMusic.game.platforms.length)>1&&11===e.answer.gameToMusic.game.category)}}function sd(t,r){if(1&t&&o._UZ(0,"img",19),2&t){const e=o.oxw(2);o.Q6J("src","https://images.igdb.com/igdb/image/upload/t_720p/"+e.answer.gameToMusic.game.cover.imageId+".jpg",o.LSH)("alt",e.answer.gameToMusic.game.name)}}function ad(t,r){if(1&t&&(o.TgZ(0,"div",20)(1,"h2",21),o._uU(2),o.qZA()()),2&t){const e=o.oxw(2);o.xp6(2),o.Oqu(e.answer.gameToMusic.game.name)}}const fr=function(t){return{"background-color":t}};function ld(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(3);return o.KtG(i.addToList())}),o.TgZ(1,"mat-icon"),o._uU(2,"add"),o.qZA()()}if(2&t){const e=o.oxw(3);o.Q6J("ngStyle",o.VKq(1,fr,e.answer.gameToMusic.game.cover?e.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"#171717"))}}function cd(t,r){if(1&t){const e=o.EpF();o.TgZ(0,"button",23),o.NdJ("click",function(){o.CHM(e);const i=o.oxw(3);return o.KtG(i.removeFromList())}),o.TgZ(1,"mat-icon"),o._uU(2,"remove"),o.qZA()()}if(2&t){const e=o.oxw(3);o.Q6J("ngStyle",o.VKq(1,fr,e.answer.gameToMusic.game.cover?e.answer.gameToMusic.game.cover.colorPalette.backgroundColorHex:"black"))}}function ud(t,r){if(1&t&&(o.ynx(0),o.YNc(1,ld,3,3,"button",22),o.YNc(2,cd,3,3,"button",22),o.BQk()),2&t){const e=o.oxw(2);o.xp6(1),o.Q6J("ngIf",!1===e.me.playedTheGame),o.xp6(1),o.Q6J("ngIf",!0===e.me.playedTheGame)}}function dd(t,r){if(1&t&&(o.ynx(0),o.TgZ(1,"div",5)(2,"h2",6),o._uU(3),o.YNc(4,id,3,2,"small",7),o.qZA()(),o.TgZ(5,"div",8)(6,"div",9)(7,"div",10),o.YNc(8,sd,1,2,"img",11),o.YNc(9,ad,3,1,"ng-template",null,12,o.W1O),o.qZA(),o.YNc(11,ud,3,2,"ng-container",13),o.qZA()(),o.TgZ(12,"div",14)(13,"div")(14,"h4",6),o._uU(15,"Music"),o.qZA(),o.TgZ(16,"small",15),o._uU(17),o.qZA()(),o.TgZ(18,"div",16)(19,"h4",6),o._uU(20,"Artist"),o.qZA(),o.TgZ(21,"small",15),o._uU(22),o.qZA()()(),o.BQk()),2&t){const e=o.MAs(10),n=o.oxw();let i,s;o.xp6(3),o.hij(" ",n.answer.gameToMusic.game.name," "),o.xp6(1),o.Q6J("ngIf",1===(null==n.answer.gameToMusic.game.platforms?null:n.answer.gameToMusic.game.platforms.length)||(null==n.answer.gameToMusic.game.platforms?null:n.answer.gameToMusic.game.platforms.length)>1&&11===n.answer.gameToMusic.game.category),o.xp6(4),o.Q6J("ngIf",n.answer.gameToMusic.game.cover)("ngIfElse",e),o.xp6(3),o.Q6J("ngIf",n.me),o.xp6(6),o.Oqu(null!==(i=n.answer.gameToMusic.title)&&void 0!==i?i:n.answer.gameToMusic.music.title),o.xp6(5),o.Oqu(null!==(s=n.answer.gameToMusic.artist)&&void 0!==s?s:n.answer.gameToMusic.music.artist)}}function hd(t,r){1&t&&(o.TgZ(0,"div",5),o._UZ(1,"h2",24),o.qZA(),o.TgZ(2,"div",25),o._UZ(3,"div",26),o.qZA(),o.TgZ(4,"div",25)(5,"div"),o._UZ(6,"h4",27)(7,"small",28)(8,"small",29),o.qZA(),o.TgZ(9,"div",16),o._UZ(10,"h4",27)(11,"small",30)(12,"small",29),o.qZA()())}function pd(t,r){1&t&&(o.TgZ(0,"p",16)(1,"small",31),o._UZ(2,"i",32),o._uU(3," This music may not reflect the difficulty configured. "),o.qZA()())}const fd=function(t){return{"d-none d-md-block":t}};let md=(()=>{class t{constructor(e,n){this.lobbyStore=e,this.gameHttpService=n,this.interactedWithList=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.currentLobbyMusicAnswer.subscribe(e=>{this.answer=e,this.interactedWithList=!1}),this.lobbyStore.lobby.subscribe(e=>{e.status!==W.D.AnswerReveal&&(this.answer=null)}),this.lobbyStore.currentLobbyMusic.subscribe(e=>{null!==e&&(this.answer=e)}),this.lobbyStore.me.subscribe(e=>{this.interactedWithList||(this.me={...e})})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}addToList(){this.gameHttpService.addToList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!0,this.interactedWithList=!0})}removeFromList(){this.gameHttpService.removeFromList(this.answer.gameToMusic.game.slug).subscribe(()=>{this.me.playedTheGame=!1,this.interactedWithList=!0})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe),o.Y36(lr.q))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-answer-reveal"]],decls:6,vars:6,consts:[[1,"bg-dark","p-4","mb-2","mb-md-0",3,"ngClass"],[1,"row"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","mt-2",4,"ngIf"],[1,"col-md-12"],[1,"mb-1"],["class","ms-1 text-muted","style","font-size: 11px",4,"ngIf"],[1,"col-sm-4","col-md-6"],[2,"position","relative","aspect-ratio","3/4","display","flex","align-items","center"],[1,"w-100"],["class","card-img-top",3,"src","alt",4,"ngIf","ngIfElse"],["noImage",""],[4,"ngIf"],[1,"col-sm-8","col-md-6"],[2,"font-size","11px"],[1,"mt-2"],[1,"ms-1","text-muted",2,"font-size","11px"],[4,"ngFor","ngForOf"],[1,"card-img-top",3,"src","alt"],[1,"p-2","text-center"],[1,"m-0"],["class","game-item-cta","mat-mini-fab","","aria-label","Example icon button with a heart icon",3,"ngStyle","click",4,"ngIf"],["mat-mini-fab","","aria-label","Example icon button with a heart icon",1,"game-item-cta",3,"ngStyle","click"],[1,"placeholder","col-md-6"],[1,"col-md-6"],[1,"w-auto","h-100","img-placeholder",2,"aspect-ratio","3/4"],[1,"mb-1","placeholder","col-md-4"],[1,"placeholder","col-md-12",2,"font-size","10px"],[1,"placeholder","col-md-6",2,"font-size","10px"],[1,"placeholder","col-md-9",2,"font-size","10px"],[2,"font-size","10px"],[1,"fa-solid","fa-exclamation-triangle","text-primary"]],template:function(e,n){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,dd,23,7,"ng-container",2),o.YNc(3,hd,13,0,"ng-template",null,3,o.W1O),o.YNc(5,pd,4,0,"p",4),o.qZA()()),2&e){const i=o.MAs(4);o.Q6J("ngClass",o.VKq(4,fd,!(null!=n.answer&&n.answer.gameToMusic))),o.xp6(2),o.Q6J("ngIf",null==n.answer?null:n.answer.gameToMusic)("ngIfElse",i),o.xp6(3),o.Q6J("ngIf",n.answer&&n.answer.contributeToMissingData)}},dependencies:[D.mk,D.sg,D.O5,D.PC,ed.lW,pr.Hw],encapsulation:2}),t})();const gd=function(t){return{"text-primary":t}};let _d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-score-row"]],inputs:{user:"user"},decls:10,vars:11,consts:[[1,"row",3,"ngClass"],[1,"col-1"],[1,"col"],[1,"col-3","d-flex","justify-content-end"],[1,"col-1","text-muted","justify-content-end"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2),o._uU(4),o.ALo(5,"slice"),o.qZA(),o.TgZ(6,"div",3),o._uU(7),o.qZA(),o.TgZ(8,"div",4),o._uU(9),o.qZA()()),2&e&&(o.Q6J("ngClass",o.VKq(9,gd,n.user.me)),o.xp6(2),o.hij("#",n.user.rank,""),o.xp6(2),o.Oqu(o.Dn7(5,5,n.user.user.username,0,50)),o.xp6(3),o.hij("",n.user.points," pts"),o.xp6(2),o.Oqu(n.user.musicGuessedRight))},dependencies:[D.mk,D.OU],encapsulation:2}),t})();function bd(t,r){if(1&t&&o._UZ(0,"app-lobby-score-row",3),2&t){const e=o.oxw().$implicit;o.Q6J("user",e)}}function vd(t,r){if(1&t&&o._UZ(0,"app-lobby-score-row",3),2&t){const e=o.oxw().$implicit,n=o.oxw();o.Q6J("user",n.getMeIndex()<=3?e:n.getMe())}}function yd(t,r){if(1&t&&(o.ynx(0),o.YNc(1,bd,1,1,"app-lobby-score-row",2),o.YNc(2,vd,1,1,"app-lobby-score-row",2),o.BQk()),2&t){const e=r.index;o.xp6(1),o.Q6J("ngIf",e<=2),o.xp6(1),o.Q6J("ngIf",3===e)}}let Cd=(()=>{class t{constructor(e){this.lobbyStore=e,this.subscriptions=[]}ngOnInit(){this.subscriptions=[this.lobbyStore.users.subscribe(e=>{this.users=e.filter(n=>[ie.Host,ie.Player].includes(n.role)).sort((n,i)=>n.points>i.points?-1:1).reduce((n,i,s)=>{let l=0===s?1:n[s-1].rank+1;return console.log(l),console.log(n),0!==s&&i.points===n[s-1].points&&(console.log(s),l=n[s-1].rank),[...n,{...i,rank:l}]},[])}),this.lobbyStore.me.subscribe(e=>{this.me=e})]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getMeIndex(){return this.users.findIndex(e=>e.me)}getMe(){return this.users.find(e=>e.me)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(fe))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-score"]],decls:2,vars:1,consts:[[1,"bg-dark","p-4"],[4,"ngFor","ngForOf"],[3,"user",4,"ngIf"],[3,"user"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0),o.YNc(1,yd,3,2,"ng-container",1),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngForOf",n.users))},dependencies:[D.sg,D.O5,_d],encapsulation:2}),t})(),wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby-playing"]],decls:14,vars:0,consts:[[1,"row"],[1,"col-md-3","d-flex","flex-column"],[1,"mt-2","order-1","order-md-0","mb-2","mb-md-0"],[1,"mt-2","order-0","order-md-1"],[1,"col-md-6","lobby-col"],[1,"col-md-3","lobby-col"]],template:function(e,n){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div"),o._UZ(3,"app-button-play"),o.qZA(),o.TgZ(4,"div"),o._UZ(5,"app-lobby-information"),o.qZA(),o.TgZ(6,"div",2),o._UZ(7,"app-lobby-answer-reveal"),o.qZA(),o.TgZ(8,"div",3),o._UZ(9,"app-lobby-score"),o.qZA()(),o.TgZ(10,"div",4),o._UZ(11,"app-lobby-center-container"),o.qZA(),o.TgZ(12,"div",5),o._UZ(13,"app-lobby-chat"),o.qZA()())},dependencies:[eo,Ju,Ku,md,Cd,to],encapsulation:2}),t})();function Sd(t,r){1&t&&(o.ynx(0),o._UZ(1,"app-lobby-waiting"),o.BQk())}function Td(t,r){1&t&&(o.ynx(0),o._uU(1," Loading musics "),o.BQk())}function Md(t,r){1&t&&(o.ynx(0),o._UZ(1,"app-lobby-playing"),o.BQk())}function Ad(t,r){if(1&t&&(o.ynx(0),o.YNc(1,Sd,2,0,"ng-container",3),o.YNc(2,Td,2,0,"ng-container",3),o.YNc(3,Md,2,0,"ng-container",3),o._UZ(4,"app-lobby-users"),o.BQk()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Waiting),o.xp6(1),o.Q6J("ngIf",e.lobby.status===e.lobbyStatuses.Loading),o.xp6(1),o.Q6J("ngIf",e.lobbyService.isPLaying(e.lobby))}}function Nd(t,r){1&t&&o._uU(0,"loading")}let Id=(()=>{class t{constructor(e,n,i,s,l,c,a,d,u,h){this.lobbyHttpService=e,this.lobbyService=n,this.router=i,this.route=s,this.dialog=l,this.socket=c,this.authService=a,this.lobbyStore=d,this.snackBar=u,this.lobbyFileSocket=h,this.lobbyStatuses=W.D,this.subscriptions=[]}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.lobbyStore.disconnect(),this.socket.disconnect(),this.lobbyFileSocket.disconnect()}ngOnInit(){this.socket.connect(),this.subscriptions=[this.socket.fromEvent("connect_error").subscribe(e=>{"Unauthorized"===e.message&&(this.lobbyFileSocket.disconnect(),this.authService.refreshToken().subscribe(()=>{this.socket.connect(),this.lobbyFileSocket.connect(),this.socket.emit("fake emit")}))}),this.lobbyFileSocket.fromEvent("connect_error").subscribe(e=>{"Unauthorized"===e.message&&this.lobby&&(this.lobbyFileSocket.disconnect(),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("fake emit"))}),this.socket.fromEvent("NotFoundException").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("MissingPasswordException").subscribe(()=>{this.dialog.open(Br.q,{data:this.lobbyCode}).afterClosed().subscribe(()=>{void 0===this.lobby&&this.router.navigate(["/"])})}),this.socket.fromEvent("lobbyJoined").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyFileSocket.connect(),this.lobbyFileSocket.emit("join")}),this.socket.fromEvent("lobbyUsers").subscribe(e=>{console.log(e),this.lobbyStore.setUsers(e)}),this.socket.fromEvent("lobby").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby)}),this.lobbyFileSocket.fromEvent("buffer").subscribe(e=>{this.lobbyStore.setCurrentLobbyAudioBuffer(e),this.socket.emit("readyToPlayMusic")}),this.socket.fromEvent("currentLobbyMusic").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusic(e)}),this.socket.fromEvent("lobbyAnswer").subscribe(e=>{this.lobbyStore.setCurrentLobbyMusicAnswer(e)}),this.socket.fromEvent("lobbyUser").subscribe(e=>{this.lobbyStore.updateLobbyUser(e)}),this.socket.fromEvent("lobbyReset").subscribe(e=>{this.lobby=e,this.lobbyStore.setLobby(this.lobby),this.lobbyStore.setCurrentLobbyAudioBuffer(null),this.lobbyStore.setCurrentLobbyMusicAnswer(null)}),this.socket.fromEvent("lobbyToast").subscribe(e=>{this.snackBar.open(e,void 0,{horizontalPosition:"end",verticalPosition:"bottom",panelClass:"danger",duration:5e3})}),this.socket.fromEvent("disconnect").subscribe(()=>{this.router.navigate(["/"])}),this.socket.fromEvent("chat").subscribe(e=>{this.lobbyStore.addMessage(e)}),this.socket.fromEvent("hintModeGames").subscribe(e=>{this.lobbyStore.setHintModeGames(e)}),this.route.paramMap.subscribe(e=>{this.lobbyCode=e.get("code")})],this.lobbyService.join(this.lobbyCode)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(Ge.Y),o.Y36(Vr.V),o.Y36(le.F0),o.Y36(le.gz),o.Y36(Zr.uw),o.Y36(Me.i),o.Y36(ft.e),o.Y36(fe),o.Y36(mt.ux),o.Y36(Ur.Q))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-lobby"]],decls:4,vars:2,consts:[[1,"container-fluid"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngIf"]],template:function(e,n){if(1&e&&(o.TgZ(0,"div",0),o.YNc(1,Ad,5,3,"ng-container",1),o.YNc(2,Nd,1,0,"ng-template",null,2,o.W1O),o.qZA()),2&e){const i=o.MAs(3);o.xp6(1),o.Q6J("ngIf",n.lobby)("ngIfElse",i)}},dependencies:[D.O5,zr,ri,wd],encapsulation:2}),t})();var kd=E(7238),Ed=E(495);const Pd={provide:new o.OlP("mat-select-scroll-strategy"),deps:[yt.aV],useFactory:function Rd(t){return()=>t.scrollStrategies.reposition()}};let Fd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Pd],imports:[D.ez,yt.U8,ce.Ng,ce.BQ,Ed.ZD,Le.lN,ce.Ng,ce.BQ]}),t})();const Ld=[{path:"create",component:Fr},{path:":code",component:Id},{path:"**",redirectTo:"create"}];let Bd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({providers:[Ge.Y,fe],imports:[D.ez,le.Bz.forChild(Ld),Lr.m,G,mt.ZX,Ar,kd.AV,vu.forRoot("balanced"),pr.Ps,Or,Fd]}),t})()},8021:function(J,be,E){!function(D,o,F,W){"use strict";function ie(ne){return ne&&"object"==typeof ne&&"default"in ne?ne:{default:ne}}var xe=ie(o),Ie=ie(F),Ge=ie(W),le=function(R,z,O){return{endTime:z,insertTime:O,type:"exponentialRampToValue",value:R}},Me=function(R,z,O){return{endTime:z,insertTime:O,type:"linearRampToValue",value:R}},ke=function(R,z){return{startTime:z,type:"setValue",value:R}},ft=function(R,z,O){return{duration:O,startTime:z,type:"setValueCurve",values:R}},mt=function(R,z,O){var G=O.target;return G+(z-G)*Math.exp((O.startTime-R)/O.timeConstant)},fe=function(R){return"exponentialRampToValue"===R.type},gt=function(R){return"linearRampToValue"===R.type},Le=function(R){return fe(R)||gt(R)},_t=function(R){return"setValue"===R.type},ce=function(R){return"setValueCurve"===R.type},Ae=function ne(R,z,O,X){var G=R[z];return void 0===G?X:Le(G)||_t(G)?G.value:ce(G)?G.values[G.values.length-1]:mt(O,ne(R,z-1,G.startTime,X),G)},We=function(R,z,O,X,G){return void 0===O?[X.insertTime,G]:Le(O)?[O.endTime,O.value]:_t(O)?[O.startTime,O.value]:ce(O)?[O.startTime+O.duration,O.values[O.values.length-1]]:[O.startTime,Ae(R,z-1,O.startTime,G)]},xt=function(R){return"cancelAndHold"===R.type},Ot=function(R){return"cancelScheduledValues"===R.type},Ye=function(R){return xt(R)||Ot(R)?R.cancelTime:fe(R)||gt(R)?R.endTime:R.startTime},qt=function(R,z,O,X){var se=X.value;return O===se?se:0<O&&0<se||O<0&&se<0?O*Math.pow(se/O,(R-z)/(X.endTime-z)):0},jt=function(R,z,O,X){return O+(R-z)/(X.endTime-z)*(X.value-O)},hn=function(R,z){var G=z.values;return function(R,z){var O=Math.floor(z),X=Math.ceil(z);return O===X?R[O]:(1-(z-O))*R[O]+(1-(X-z))*R[X]}(G,(R-z.startTime)/z.duration*(G.length-1))},bt=function(R){return"setTarget"===R.type},pn=function(ne){function R(z){Ie.default(this,R),this._automationEvents=[],this._currenTime=0,this._defaultValue=z}return Ge.default(R,[{key:ne,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(O){var X=Ye(O);if(xt(O)||Ot(O)){var G=this._automationEvents.findIndex(function(ze){return Ot(O)&&ce(ze)?ze.startTime+ze.duration>=X:Ye(ze)>=X}),se=this._automationEvents[G];if(-1!==G&&(this._automationEvents=this._automationEvents.slice(0,G)),xt(O)){var $=this._automationEvents[this._automationEvents.length-1];if(void 0!==se&&Le(se)){if(bt($))throw new Error("The internal list is malformed.");var Rt=ce($)?$.startTime+$.duration:Ye($),vt=ce($)?$.values[$.values.length-1]:$.value,Pt=fe(se)?qt(X,Rt,vt,se):jt(X,Rt,vt,se),Qt=fe(se)?le(Pt,X,this._currenTime):Me(Pt,X,this._currenTime);this._automationEvents.push(Qt)}void 0!==$&&bt($)&&this._automationEvents.push(ke(this.getValue(X),X)),void 0!==$&&ce($)&&$.startTime+$.duration>X&&(this._automationEvents[this._automationEvents.length-1]=ft(new Float32Array([6,7]),$.startTime,X-$.startTime))}}else{var rt=this._automationEvents.findIndex(function(ze){return Ye(ze)>X}),et=-1===rt?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[rt-1];if(void 0!==et&&ce(et)&&Ye(et)+et.duration>X)return!1;var Ft=fe(O)?le(O.value,O.endTime,this._currenTime):gt(O)?Me(O.value,X,this._currenTime):O;if(-1===rt)this._automationEvents.push(Ft);else{if(ce(O)&&X+O.duration>Ye(this._automationEvents[rt]))return!1;this._automationEvents.splice(rt,0,Ft)}}return!0}},{key:"flush",value:function(O){var X=this._automationEvents.findIndex(function($){return Ye($)>O});if(X>1){var G=this._automationEvents.slice(X-1),se=G[0];bt(se)&&G.unshift(ke(Ae(this._automationEvents,X-2,se.startTime,this._defaultValue),se.startTime)),this._automationEvents=G}}},{key:"getValue",value:function(O){if(0===this._automationEvents.length)return this._defaultValue;var X=this._automationEvents.findIndex(function(bn){return Ye(bn)>O}),G=this._automationEvents[X],se=(-1===X?this._automationEvents.length:X)-1,$=this._automationEvents[se];if(void 0!==$&&bt($)&&(void 0===G||!Le(G)||G.insertTime>O))return mt(O,Ae(this._automationEvents,se-1,$.startTime,this._defaultValue),$);if(void 0!==$&&_t($)&&(void 0===G||!Le(G)))return $.value;if(void 0!==$&&ce($)&&(void 0===G||!Le(G)||$.startTime+$.duration>O))return O<$.startTime+$.duration?hn(O,$):$.values[$.values.length-1];if(void 0!==$&&Le($)&&(void 0===G||!Le(G)))return $.value;if(void 0!==G&&fe(G)){var Rt=We(this._automationEvents,se,$,G,this._defaultValue),vt=xe.default(Rt,2);return qt(O,vt[0],vt[1],G)}if(void 0!==G&&gt(G)){var rt=We(this._automationEvents,se,$,G,this._defaultValue),et=xe.default(rt,2);return jt(O,et[0],et[1],G)}return this._defaultValue}}]),R}(Symbol.iterator);D.AutomationEventList=pn,D.createCancelAndHoldAutomationEvent=function(R){return{cancelTime:R,type:"cancelAndHold"}},D.createCancelScheduledValuesAutomationEvent=function(R){return{cancelTime:R,type:"cancelScheduledValues"}},D.createExponentialRampToValueAutomationEvent=function(R,z){return{endTime:z,type:"exponentialRampToValue",value:R}},D.createLinearRampToValueAutomationEvent=function(R,z){return{endTime:z,type:"linearRampToValue",value:R}},D.createSetTargetAutomationEvent=function(R,z,O){return{startTime:z,target:R,timeConstant:O,type:"setTarget"}},D.createSetValueAutomationEvent=ke,D.createSetValueCurveAutomationEvent=ft,Object.defineProperty(D,"__esModule",{value:!0})}(be,E(5463),E(8860),E(9450))},6801:J=>{J.exports=function be(E,D){(null==D||D>E.length)&&(D=E.length);for(var o=0,F=new Array(D);o<D;o++)F[o]=E[o];return F},J.exports.__esModule=!0,J.exports.default=J.exports},409:J=>{J.exports=function be(E){if(Array.isArray(E))return E},J.exports.__esModule=!0,J.exports.default=J.exports},8860:J=>{J.exports=function be(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")},J.exports.__esModule=!0,J.exports.default=J.exports},9450:J=>{function be(D,o){for(var F=0;F<o.length;F++){var W=o[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(D,W.key,W)}}J.exports=function E(D,o,F){return o&&be(D.prototype,o),F&&be(D,F),Object.defineProperty(D,"prototype",{writable:!1}),D},J.exports.__esModule=!0,J.exports.default=J.exports},1940:J=>{J.exports=function be(E,D){var o=null==E?null:"undefined"!=typeof Symbol&&E[Symbol.iterator]||E["@@iterator"];if(null!=o){var xe,Ie,F=[],W=!0,ie=!1;try{for(o=o.call(E);!(W=(xe=o.next()).done)&&(F.push(xe.value),!D||F.length!==D);W=!0);}catch(Ge){ie=!0,Ie=Ge}finally{try{!W&&null!=o.return&&o.return()}finally{if(ie)throw Ie}}return F}},J.exports.__esModule=!0,J.exports.default=J.exports},8517:J=>{J.exports=function be(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},J.exports.__esModule=!0,J.exports.default=J.exports},5463:(J,be,E)=>{var D=E(409),o=E(1940),F=E(6874),W=E(8517);J.exports=function ie(xe,Ie){return D(xe)||o(xe,Ie)||F(xe,Ie)||W()},J.exports.__esModule=!0,J.exports.default=J.exports},6874:(J,be,E)=>{var D=E(6801);J.exports=function o(F,W){if(F){if("string"==typeof F)return D(F,W);var ie=Object.prototype.toString.call(F).slice(8,-1);if("Object"===ie&&F.constructor&&(ie=F.constructor.name),"Map"===ie||"Set"===ie)return Array.from(F);if("Arguments"===ie||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return D(F,W)}},J.exports.__esModule=!0,J.exports.default=J.exports}}]);